import{a as Bn}from"./chunk-EOBNLZJM.js";import"./chunk-MLQNVX34.js";import"./chunk-IN3EYLOT.js";import{a as Os,b as Ms,c as Es}from"./chunk-BACUYLNK.js";import{b as vs,c as _s,d as Oi,e as mn,f as Nn,g as ws}from"./chunk-WK5CGF46.js";import"./chunk-E6BM7QKP.js";import"./chunk-U5M5RFIH.js";import{a as Ss}from"./chunk-K6EBSZ2D.js";import{e as Ri,f as Be,g as Ln}from"./chunk-ODDL3ILA.js";import"./chunk-DHWZOWGV.js";import"./chunk-IQQILWT5.js";import"./chunk-DRGJOWSF.js";import"./chunk-BYXBJQAS.js";import{a as Mi,b as mr,c as Ei,d as kn,e as Pi,f as sa,g as Ii,h as Fn,i as bs,k as Ti,l as mt,m as Ot,n as xs,o as Lt,q as Mt,r as Ye,s as Cs,x as Ve}from"./chunk-RIHGIOXG.js";import{a as Ce,c as Si,j as ys}from"./chunk-MMMQ3IWW.js";import{oa as la}from"./chunk-3KF6E52X.js";import"./chunk-2NWCH4PC.js";import{a as At}from"./chunk-SN6332NA.js";import{k as hr,m as hs,n as ms,o as Ci,p as wi,r as gs}from"./chunk-GFFFJQVM.js";import{$b as St,A as ts,Ab as E,Bb as he,Cb as Ae,Fa as us,Fb as ue,Gb as N,Hb as fs,I as ns,Ib as bi,Jb as st,Kb as aa,Mb as Fe,Nb as Ne,Ob as Le,Qb as ie,Rb as Ze,Sb as je,Tb as xi,U as rs,Ua as Ct,Ub as dn,Vb as fn,Wb as pn,Ya as F,Yb as Re,Z as is,Za as ve,Zb as Xe,_ as Ut,ab as oa,ac as hn,bc as An,c as Zl,ca as os,da as ia,ea as as,eb as cs,f as na,g as ra,h as Jl,ia as Ie,ja as zt,jb as xe,kb as Yt,la as ls,lb as ct,mb as wt,n as es,nb as fr,ob as ds,oc as ps,pb as te,qb as ht,ra as Vt,rb as yi,sa as Se,sb as pr,ta as Oe,tb as Rn,ub as Dn,vb as Pe,wb as He,xb as We,ya as ot,yb as $e,za as ss,zb as O}from"./chunk-LPSFCYGT.js";import"./chunk-XK3LJZ6K.js";import{a as In,b as Tn,e as oe,g as _i,i as _e}from"./chunk-66YHNWRR.js";var Ns=oe((Qx,Fs)=>{"use strict";Fs.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Zt=oe(gn=>{"use strict";var fa,np=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];gn.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17};gn.getSymbolTotalCodewords=function(n){return np[n]};gn.getBCHDigit=function(e){let n=0;for(;e!==0;)n++,e>>>=1;return n};gn.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');fa=n};gn.isKanjiModeEnabled=function(){return typeof fa<"u"};gn.toSJIS=function(n){return fa(n)}});var ki=oe(Pt=>{"use strict";Pt.L={bit:1};Pt.M={bit:0};Pt.Q={bit:3};Pt.H={bit:2};function rp(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return Pt.L;case"m":case"medium":return Pt.M;case"q":case"quartile":return Pt.Q;case"h":case"high":return Pt.H;default:throw new Error("Unknown EC Level: "+e)}}Pt.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4};Pt.from=function(n,t){if(Pt.isValid(n))return n;try{return rp(n)}catch{return t}}});var qs=oe((Kx,Bs)=>{"use strict";function Ls(){this.buffer=[],this.length=0}Ls.prototype={get:function(e){let n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let t=0;t<n;t++)this.putBit((e>>>n-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){let n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}};Bs.exports=Ls});var Us=oe((Zx,js)=>{"use strict";function gr(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}gr.prototype.set=function(e,n,t,r){let i=e*this.size+n;this.data[i]=t,r&&(this.reservedBit[i]=!0)};gr.prototype.get=function(e,n){return this.data[e*this.size+n]};gr.prototype.xor=function(e,n,t){this.data[e*this.size+n]^=t};gr.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]};js.exports=gr});var zs=oe(Fi=>{"use strict";var ip=Zt().getSymbolSize;Fi.getRowColCoords=function(n){if(n===1)return[];let t=Math.floor(n/7)+2,r=ip(n),i=r===145?26:Math.ceil((r-13)/(2*t-2))*2,o=[r-7];for(let a=1;a<t-1;a++)o[a]=o[a-1]-i;return o.push(6),o.reverse()};Fi.getPositions=function(n){let t=[],r=Fi.getRowColCoords(n),i=r.length;for(let o=0;o<i;o++)for(let a=0;a<i;a++)o===0&&a===0||o===0&&a===i-1||o===i-1&&a===0||t.push([r[o],r[a]]);return t}});var Hs=oe(Gs=>{"use strict";var op=Zt().getSymbolSize,Vs=7;Gs.getPositions=function(n){let t=op(n);return[[0,0],[t-Vs,0],[0,t-Vs]]}});var Ws=oe(Ke=>{"use strict";Ke.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var vn={N1:3,N2:3,N3:40,N4:10};Ke.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7};Ke.from=function(n){return Ke.isValid(n)?parseInt(n,10):void 0};Ke.getPenaltyN1=function(n){let t=n.size,r=0,i=0,o=0,a=null,s=null;for(let h=0;h<t;h++){i=o=0,a=s=null;for(let w=0;w<t;w++){let S=n.get(h,w);S===a?i++:(i>=5&&(r+=vn.N1+(i-5)),a=S,i=1),S=n.get(w,h),S===s?o++:(o>=5&&(r+=vn.N1+(o-5)),s=S,o=1)}i>=5&&(r+=vn.N1+(i-5)),o>=5&&(r+=vn.N1+(o-5))}return r};Ke.getPenaltyN2=function(n){let t=n.size,r=0;for(let i=0;i<t-1;i++)for(let o=0;o<t-1;o++){let a=n.get(i,o)+n.get(i,o+1)+n.get(i+1,o)+n.get(i+1,o+1);(a===4||a===0)&&r++}return r*vn.N2};Ke.getPenaltyN3=function(n){let t=n.size,r=0,i=0,o=0;for(let a=0;a<t;a++){i=o=0;for(let s=0;s<t;s++)i=i<<1&2047|n.get(a,s),s>=10&&(i===1488||i===93)&&r++,o=o<<1&2047|n.get(s,a),s>=10&&(o===1488||o===93)&&r++}return r*vn.N3};Ke.getPenaltyN4=function(n){let t=0,r=n.data.length;for(let o=0;o<r;o++)t+=n.data[o];return Math.abs(Math.ceil(t*100/r/5)-10)*vn.N4};function ap(e,n,t){switch(e){case Ke.Patterns.PATTERN000:return(n+t)%2===0;case Ke.Patterns.PATTERN001:return n%2===0;case Ke.Patterns.PATTERN010:return t%3===0;case Ke.Patterns.PATTERN011:return(n+t)%3===0;case Ke.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(t/3))%2===0;case Ke.Patterns.PATTERN101:return n*t%2+n*t%3===0;case Ke.Patterns.PATTERN110:return(n*t%2+n*t%3)%2===0;case Ke.Patterns.PATTERN111:return(n*t%3+(n+t)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}Ke.applyMask=function(n,t){let r=t.size;for(let i=0;i<r;i++)for(let o=0;o<r;o++)t.isReserved(o,i)||t.xor(o,i,ap(n,o,i))};Ke.getBestMask=function(n,t){let r=Object.keys(Ke.Patterns).length,i=0,o=1/0;for(let a=0;a<r;a++){t(a),Ke.applyMask(a,n);let s=Ke.getPenaltyN1(n)+Ke.getPenaltyN2(n)+Ke.getPenaltyN3(n)+Ke.getPenaltyN4(n);Ke.applyMask(a,n),s<o&&(o=s,i=a)}return i}});var ha=oe(pa=>{"use strict";var Jt=ki(),Ni=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Li=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];pa.getBlocksCount=function(n,t){switch(t){case Jt.L:return Ni[(n-1)*4+0];case Jt.M:return Ni[(n-1)*4+1];case Jt.Q:return Ni[(n-1)*4+2];case Jt.H:return Ni[(n-1)*4+3];default:return}};pa.getTotalCodewordsCount=function(n,t){switch(t){case Jt.L:return Li[(n-1)*4+0];case Jt.M:return Li[(n-1)*4+1];case Jt.Q:return Li[(n-1)*4+2];case Jt.H:return Li[(n-1)*4+3];default:return}}});var $s=oe(qi=>{"use strict";var vr=new Uint8Array(512),Bi=new Uint8Array(256);(function(){let n=1;for(let t=0;t<255;t++)vr[t]=n,Bi[n]=t,n<<=1,n&256&&(n^=285);for(let t=255;t<512;t++)vr[t]=vr[t-255]})();qi.log=function(n){if(n<1)throw new Error("log("+n+")");return Bi[n]};qi.exp=function(n){return vr[n]};qi.mul=function(n,t){return n===0||t===0?0:vr[Bi[n]+Bi[t]]}});var Qs=oe(_r=>{"use strict";var ma=$s();_r.mul=function(n,t){let r=new Uint8Array(n.length+t.length-1);for(let i=0;i<n.length;i++)for(let o=0;o<t.length;o++)r[i+o]^=ma.mul(n[i],t[o]);return r};_r.mod=function(n,t){let r=new Uint8Array(n);for(;r.length-t.length>=0;){let i=r[0];for(let a=0;a<t.length;a++)r[a]^=ma.mul(t[a],i);let o=0;for(;o<r.length&&r[o]===0;)o++;r=r.slice(o)}return r};_r.generateECPolynomial=function(n){let t=new Uint8Array([1]);for(let r=0;r<n;r++)t=_r.mul(t,new Uint8Array([1,ma.exp(r)]));return t}});var Ks=oe((oC,Ys)=>{"use strict";var Xs=Qs();function ga(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}ga.prototype.initialize=function(n){this.degree=n,this.genPoly=Xs.generateECPolynomial(this.degree)};ga.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(n.length+this.degree);t.set(n);let r=Xs.mod(t,this.genPoly),i=this.degree-r.length;if(i>0){let o=new Uint8Array(this.degree);return o.set(r,i),o}return r};Ys.exports=ga});var va=oe(Zs=>{"use strict";Zs.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}});var _a=oe(Gt=>{"use strict";var Js="[0-9]+",lp="[A-Z $%*+\\-./:]+",yr="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";yr=yr.replace(/u/g,"\\u");var sp="(?:(?![A-Z0-9 $%*+\\-./:]|"+yr+`)(?:.|[\r
]))+`;Gt.KANJI=new RegExp(yr,"g");Gt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Gt.BYTE=new RegExp(sp,"g");Gt.NUMERIC=new RegExp(Js,"g");Gt.ALPHANUMERIC=new RegExp(lp,"g");var up=new RegExp("^"+yr+"$"),cp=new RegExp("^"+Js+"$"),dp=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Gt.testKanji=function(n){return up.test(n)};Gt.testNumeric=function(n){return cp.test(n)};Gt.testAlphanumeric=function(n){return dp.test(n)}});var en=oe(at=>{"use strict";var fp=va(),ya=_a();at.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};at.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};at.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};at.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};at.MIXED={bit:-1};at.getCharCountIndicator=function(n,t){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!fp.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?n.ccBits[0]:t<27?n.ccBits[1]:n.ccBits[2]};at.getBestModeForData=function(n){return ya.testNumeric(n)?at.NUMERIC:ya.testAlphanumeric(n)?at.ALPHANUMERIC:ya.testKanji(n)?at.KANJI:at.BYTE};at.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")};at.isValid=function(n){return n&&n.bit&&n.ccBits};function pp(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return at.NUMERIC;case"alphanumeric":return at.ALPHANUMERIC;case"kanji":return at.KANJI;case"byte":return at.BYTE;default:throw new Error("Unknown mode: "+e)}}at.from=function(n,t){if(at.isValid(n))return n;try{return pp(n)}catch{return t}}});var iu=oe(_n=>{"use strict";var ji=Zt(),hp=ha(),eu=ki(),tn=en(),ba=va(),nu=7973,tu=ji.getBCHDigit(nu);function mp(e,n,t){for(let r=1;r<=40;r++)if(n<=_n.getCapacity(r,t,e))return r}function ru(e,n){return tn.getCharCountIndicator(e,n)+4}function gp(e,n){let t=0;return e.forEach(function(r){let i=ru(r.mode,n);t+=i+r.getBitsLength()}),t}function vp(e,n){for(let t=1;t<=40;t++)if(gp(e,t)<=_n.getCapacity(t,n,tn.MIXED))return t}_n.from=function(n,t){return ba.isValid(n)?parseInt(n,10):t};_n.getCapacity=function(n,t,r){if(!ba.isValid(n))throw new Error("Invalid QR Code version");typeof r>"u"&&(r=tn.BYTE);let i=ji.getSymbolTotalCodewords(n),o=hp.getTotalCodewordsCount(n,t),a=(i-o)*8;if(r===tn.MIXED)return a;let s=a-ru(r,n);switch(r){case tn.NUMERIC:return Math.floor(s/10*3);case tn.ALPHANUMERIC:return Math.floor(s/11*2);case tn.KANJI:return Math.floor(s/13);case tn.BYTE:default:return Math.floor(s/8)}};_n.getBestVersionForData=function(n,t){let r,i=eu.from(t,eu.M);if(Array.isArray(n)){if(n.length>1)return vp(n,i);if(n.length===0)return 1;r=n[0]}else r=n;return mp(r.mode,r.getLength(),i)};_n.getEncodedBits=function(n){if(!ba.isValid(n)||n<7)throw new Error("Invalid QR Code version");let t=n<<12;for(;ji.getBCHDigit(t)-tu>=0;)t^=nu<<ji.getBCHDigit(t)-tu;return n<<12|t}});var su=oe(lu=>{"use strict";var xa=Zt(),au=1335,_p=21522,ou=xa.getBCHDigit(au);lu.getEncodedBits=function(n,t){let r=n.bit<<3|t,i=r<<10;for(;xa.getBCHDigit(i)-ou>=0;)i^=au<<xa.getBCHDigit(i)-ou;return(r<<10|i)^_p}});var cu=oe((dC,uu)=>{"use strict";var yp=en();function qn(e){this.mode=yp.NUMERIC,this.data=e.toString()}qn.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)};qn.prototype.getLength=function(){return this.data.length};qn.prototype.getBitsLength=function(){return qn.getBitsLength(this.data.length)};qn.prototype.write=function(n){let t,r,i;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),i=parseInt(r,10),n.put(i,10);let o=this.data.length-t;o>0&&(r=this.data.substr(t),i=parseInt(r,10),n.put(i,o*3+1))};uu.exports=qn});var fu=oe((fC,du)=>{"use strict";var bp=en(),Ca=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function jn(e){this.mode=bp.ALPHANUMERIC,this.data=e}jn.getBitsLength=function(n){return 11*Math.floor(n/2)+6*(n%2)};jn.prototype.getLength=function(){return this.data.length};jn.prototype.getBitsLength=function(){return jn.getBitsLength(this.data.length)};jn.prototype.write=function(n){let t;for(t=0;t+2<=this.data.length;t+=2){let r=Ca.indexOf(this.data[t])*45;r+=Ca.indexOf(this.data[t+1]),n.put(r,11)}this.data.length%2&&n.put(Ca.indexOf(this.data[t]),6)};du.exports=jn});var hu=oe((pC,pu)=>{"use strict";pu.exports=function(n){for(var t=[],r=n.length,i=0;i<r;i++){var o=n.charCodeAt(i);if(o>=55296&&o<=56319&&r>i+1){var a=n.charCodeAt(i+1);a>=56320&&a<=57343&&(o=(o-55296)*1024+a-56320+65536,i+=1)}if(o<128){t.push(o);continue}if(o<2048){t.push(o>>6|192),t.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){t.push(o>>12|224),t.push(o>>6&63|128),t.push(o&63|128);continue}if(o>=65536&&o<=1114111){t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}});var gu=oe((hC,mu)=>{"use strict";var xp=hu(),Cp=en();function Un(e){this.mode=Cp.BYTE,typeof e=="string"&&(e=xp(e)),this.data=new Uint8Array(e)}Un.getBitsLength=function(n){return n*8};Un.prototype.getLength=function(){return this.data.length};Un.prototype.getBitsLength=function(){return Un.getBitsLength(this.data.length)};Un.prototype.write=function(e){for(let n=0,t=this.data.length;n<t;n++)e.put(this.data[n],8)};mu.exports=Un});var _u=oe((mC,vu)=>{"use strict";var wp=en(),Sp=Zt();function zn(e){this.mode=wp.KANJI,this.data=e}zn.getBitsLength=function(n){return n*13};zn.prototype.getLength=function(){return this.data.length};zn.prototype.getBitsLength=function(){return zn.getBitsLength(this.data.length)};zn.prototype.write=function(e){let n;for(n=0;n<this.data.length;n++){let t=Sp.toSJIS(this.data[n]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[n]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),e.put(t,13)}};vu.exports=zn});var yu=oe((gC,wa)=>{"use strict";var br={single_source_shortest_paths:function(e,n,t){var r={},i={};i[n]=0;var o=br.PriorityQueue.make();o.push(n,0);for(var a,s,h,w,S,B,T,W,ee;!o.empty();){a=o.pop(),s=a.value,w=a.cost,S=e[s]||{};for(h in S)S.hasOwnProperty(h)&&(B=S[h],T=w+B,W=i[h],ee=typeof i[h]>"u",(ee||W>T)&&(i[h]=T,o.push(h,T),r[h]=s))}if(typeof t<"u"&&typeof i[t]>"u"){var J=["Could not find a path from ",n," to ",t,"."].join("");throw new Error(J)}return r},extract_shortest_path_from_predecessor_list:function(e,n){for(var t=[],r=n,i;r;)t.push(r),i=e[r],r=e[r];return t.reverse(),t},find_path:function(e,n,t){var r=br.single_source_shortest_paths(e,n,t);return br.extract_shortest_path_from_predecessor_list(r,t)},PriorityQueue:{make:function(e){var n=br.PriorityQueue,t={},r;e=e||{};for(r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);return t.queue=[],t.sorter=e.sorter||n.default_sorter,t},default_sorter:function(e,n){return e.cost-n.cost},push:function(e,n){var t={value:e,cost:n};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof wa<"u"&&(wa.exports=br)});var Eu=oe(Vn=>{"use strict";var Ue=en(),Cu=cu(),wu=fu(),Su=gu(),Ou=_u(),xr=_a(),Ui=Zt(),Op=yu();function bu(e){return unescape(encodeURIComponent(e)).length}function Cr(e,n,t){let r=[],i;for(;(i=e.exec(t))!==null;)r.push({data:i[0],index:i.index,mode:n,length:i[0].length});return r}function Mu(e){let n=Cr(xr.NUMERIC,Ue.NUMERIC,e),t=Cr(xr.ALPHANUMERIC,Ue.ALPHANUMERIC,e),r,i;return Ui.isKanjiModeEnabled()?(r=Cr(xr.BYTE,Ue.BYTE,e),i=Cr(xr.KANJI,Ue.KANJI,e)):(r=Cr(xr.BYTE_KANJI,Ue.BYTE,e),i=[]),n.concat(t,r,i).sort(function(a,s){return a.index-s.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function Sa(e,n){switch(n){case Ue.NUMERIC:return Cu.getBitsLength(e);case Ue.ALPHANUMERIC:return wu.getBitsLength(e);case Ue.KANJI:return Ou.getBitsLength(e);case Ue.BYTE:return Su.getBitsLength(e)}}function Mp(e){return e.reduce(function(n,t){let r=n.length-1>=0?n[n.length-1]:null;return r&&r.mode===t.mode?(n[n.length-1].data+=t.data,n):(n.push(t),n)},[])}function Ep(e){let n=[];for(let t=0;t<e.length;t++){let r=e[t];switch(r.mode){case Ue.NUMERIC:n.push([r,{data:r.data,mode:Ue.ALPHANUMERIC,length:r.length},{data:r.data,mode:Ue.BYTE,length:r.length}]);break;case Ue.ALPHANUMERIC:n.push([r,{data:r.data,mode:Ue.BYTE,length:r.length}]);break;case Ue.KANJI:n.push([r,{data:r.data,mode:Ue.BYTE,length:bu(r.data)}]);break;case Ue.BYTE:n.push([{data:r.data,mode:Ue.BYTE,length:bu(r.data)}])}}return n}function Pp(e,n){let t={},r={start:{}},i=["start"];for(let o=0;o<e.length;o++){let a=e[o],s=[];for(let h=0;h<a.length;h++){let w=a[h],S=""+o+h;s.push(S),t[S]={node:w,lastCount:0},r[S]={};for(let B=0;B<i.length;B++){let T=i[B];t[T]&&t[T].node.mode===w.mode?(r[T][S]=Sa(t[T].lastCount+w.length,w.mode)-Sa(t[T].lastCount,w.mode),t[T].lastCount+=w.length):(t[T]&&(t[T].lastCount=w.length),r[T][S]=Sa(w.length,w.mode)+4+Ue.getCharCountIndicator(w.mode,n))}}i=s}for(let o=0;o<i.length;o++)r[i[o]].end=0;return{map:r,table:t}}function xu(e,n){let t,r=Ue.getBestModeForData(e);if(t=Ue.from(n,r),t!==Ue.BYTE&&t.bit<r.bit)throw new Error('"'+e+'" cannot be encoded with mode '+Ue.toString(t)+`.
 Suggested mode is: `+Ue.toString(r));switch(t===Ue.KANJI&&!Ui.isKanjiModeEnabled()&&(t=Ue.BYTE),t){case Ue.NUMERIC:return new Cu(e);case Ue.ALPHANUMERIC:return new wu(e);case Ue.KANJI:return new Ou(e);case Ue.BYTE:return new Su(e)}}Vn.fromArray=function(n){return n.reduce(function(t,r){return typeof r=="string"?t.push(xu(r,null)):r.data&&t.push(xu(r.data,r.mode)),t},[])};Vn.fromString=function(n,t){let r=Mu(n,Ui.isKanjiModeEnabled()),i=Ep(r),o=Pp(i,t),a=Op.find_path(o.map,"start","end"),s=[];for(let h=1;h<a.length-1;h++)s.push(o.table[a[h]].node);return Vn.fromArray(Mp(s))};Vn.rawSplit=function(n){return Vn.fromArray(Mu(n,Ui.isKanjiModeEnabled()))}});var Iu=oe(Pu=>{"use strict";var Vi=Zt(),Oa=ki(),Ip=qs(),Tp=Us(),Rp=zs(),Dp=Hs(),Pa=Ws(),Ia=ha(),Ap=Ks(),zi=iu(),kp=su(),Fp=en(),Ma=Eu();function Np(e,n){let t=e.size,r=Dp.getPositions(n);for(let i=0;i<r.length;i++){let o=r[i][0],a=r[i][1];for(let s=-1;s<=7;s++)if(!(o+s<=-1||t<=o+s))for(let h=-1;h<=7;h++)a+h<=-1||t<=a+h||(s>=0&&s<=6&&(h===0||h===6)||h>=0&&h<=6&&(s===0||s===6)||s>=2&&s<=4&&h>=2&&h<=4?e.set(o+s,a+h,!0,!0):e.set(o+s,a+h,!1,!0))}}function Lp(e){let n=e.size;for(let t=8;t<n-8;t++){let r=t%2===0;e.set(t,6,r,!0),e.set(6,t,r,!0)}}function Bp(e,n){let t=Rp.getPositions(n);for(let r=0;r<t.length;r++){let i=t[r][0],o=t[r][1];for(let a=-2;a<=2;a++)for(let s=-2;s<=2;s++)a===-2||a===2||s===-2||s===2||a===0&&s===0?e.set(i+a,o+s,!0,!0):e.set(i+a,o+s,!1,!0)}}function qp(e,n){let t=e.size,r=zi.getEncodedBits(n),i,o,a;for(let s=0;s<18;s++)i=Math.floor(s/3),o=s%3+t-8-3,a=(r>>s&1)===1,e.set(i,o,a,!0),e.set(o,i,a,!0)}function Ea(e,n,t){let r=e.size,i=kp.getEncodedBits(n,t),o,a;for(o=0;o<15;o++)a=(i>>o&1)===1,o<6?e.set(o,8,a,!0):o<8?e.set(o+1,8,a,!0):e.set(r-15+o,8,a,!0),o<8?e.set(8,r-o-1,a,!0):o<9?e.set(8,15-o-1+1,a,!0):e.set(8,15-o-1,a,!0);e.set(r-8,8,1,!0)}function jp(e,n){let t=e.size,r=-1,i=t-1,o=7,a=0;for(let s=t-1;s>0;s-=2)for(s===6&&s--;;){for(let h=0;h<2;h++)if(!e.isReserved(i,s-h)){let w=!1;a<n.length&&(w=(n[a]>>>o&1)===1),e.set(i,s-h,w),o--,o===-1&&(a++,o=7)}if(i+=r,i<0||t<=i){i-=r,r=-r;break}}}function Up(e,n,t){let r=new Ip;t.forEach(function(h){r.put(h.mode.bit,4),r.put(h.getLength(),Fp.getCharCountIndicator(h.mode,e)),h.write(r)});let i=Vi.getSymbolTotalCodewords(e),o=Ia.getTotalCodewordsCount(e,n),a=(i-o)*8;for(r.getLengthInBits()+4<=a&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);let s=(a-r.getLengthInBits())/8;for(let h=0;h<s;h++)r.put(h%2?17:236,8);return zp(r,e,n)}function zp(e,n,t){let r=Vi.getSymbolTotalCodewords(n),i=Ia.getTotalCodewordsCount(n,t),o=r-i,a=Ia.getBlocksCount(n,t),s=r%a,h=a-s,w=Math.floor(r/a),S=Math.floor(o/a),B=S+1,T=w-S,W=new Ap(T),ee=0,J=new Array(a),ce=new Array(a),G=0,q=new Uint8Array(e.buffer);for(let D=0;D<a;D++){let K=D<h?S:B;J[D]=q.slice(ee,ee+K),ce[D]=W.encode(J[D]),ee+=K,G=Math.max(G,K)}let R=new Uint8Array(r),M=0,I,j;for(I=0;I<G;I++)for(j=0;j<a;j++)I<J[j].length&&(R[M++]=J[j][I]);for(I=0;I<T;I++)for(j=0;j<a;j++)R[M++]=ce[j][I];return R}function Vp(e,n,t,r){let i;if(Array.isArray(e))i=Ma.fromArray(e);else if(typeof e=="string"){let w=n;if(!w){let S=Ma.rawSplit(e);w=zi.getBestVersionForData(S,t)}i=Ma.fromString(e,w||40)}else throw new Error("Invalid data");let o=zi.getBestVersionForData(i,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!n)n=o;else if(n<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let a=Up(n,t,i),s=Vi.getSymbolSize(n),h=new Tp(s);return Np(h,n),Lp(h),Bp(h,n),Ea(h,t,0),n>=7&&qp(h,n),jp(h,a),isNaN(r)&&(r=Pa.getBestMask(h,Ea.bind(null,h,t))),Pa.applyMask(r,h),Ea(h,t,r),{modules:h,version:n,errorCorrectionLevel:t,maskPattern:r,segments:i}}Pu.create=function(n,t){if(typeof n>"u"||n==="")throw new Error("No input text");let r=Oa.M,i,o;return typeof t<"u"&&(r=Oa.from(t.errorCorrectionLevel,Oa.M),i=zi.from(t.version),o=Pa.from(t.maskPattern),t.toSJISFunc&&Vi.setToSJISFunction(t.toSJISFunc)),Vp(n,i,r,o)}});var Ta=oe(yn=>{"use strict";function Tu(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let n=e.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+e);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(r){return[r,r]}))),n.length===6&&n.push("F","F");let t=parseInt(n.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+n.slice(0,6).join("")}}yn.getOptions=function(n){n||(n={}),n.color||(n.color={});let t=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,r=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:Tu(n.color.dark||"#000000ff"),light:Tu(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}};yn.getScale=function(n,t){return t.width&&t.width>=n+t.margin*2?t.width/(n+t.margin*2):t.scale};yn.getImageWidth=function(n,t){let r=yn.getScale(n,t);return Math.floor((n+t.margin*2)*r)};yn.qrToImageData=function(n,t,r){let i=t.modules.size,o=t.modules.data,a=yn.getScale(i,r),s=Math.floor((i+r.margin*2)*a),h=r.margin*a,w=[r.color.light,r.color.dark];for(let S=0;S<s;S++)for(let B=0;B<s;B++){let T=(S*s+B)*4,W=r.color.light;if(S>=h&&B>=h&&S<s-h&&B<s-h){let ee=Math.floor((S-h)/a),J=Math.floor((B-h)/a);W=w[o[ee*i+J]?1:0]}n[T++]=W.r,n[T++]=W.g,n[T++]=W.b,n[T]=W.a}}});var Ru=oe(Gi=>{"use strict";var Ra=Ta();function Gp(e,n,t){e.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=t,n.width=t,n.style.height=t+"px",n.style.width=t+"px"}function Hp(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Gi.render=function(n,t,r){let i=r,o=t;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),t||(o=Hp()),i=Ra.getOptions(i);let a=Ra.getImageWidth(n.modules.size,i),s=o.getContext("2d"),h=s.createImageData(a,a);return Ra.qrToImageData(h.data,n,i),Gp(s,o,a),s.putImageData(h,0,0),o};Gi.renderToDataURL=function(n,t,r){let i=r;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),i||(i={});let o=Gi.render(n,t,i),a=i.type||"image/png",s=i.rendererOpts||{};return o.toDataURL(a,s.quality)}});var ku=oe(Au=>{"use strict";var Wp=Ta();function Du(e,n){let t=e.a/255,r=n+'="'+e.hex+'"';return t<1?r+" "+n+'-opacity="'+t.toFixed(2).slice(1)+'"':r}function Da(e,n,t){let r=e+n;return typeof t<"u"&&(r+=" "+t),r}function $p(e,n,t){let r="",i=0,o=!1,a=0;for(let s=0;s<e.length;s++){let h=Math.floor(s%n),w=Math.floor(s/n);!h&&!o&&(o=!0),e[s]?(a++,s>0&&h>0&&e[s-1]||(r+=o?Da("M",h+t,.5+w+t):Da("m",i,0),i=0,o=!1),h+1<n&&e[s+1]||(r+=Da("h",a),a=0)):i++}return r}Au.render=function(n,t,r){let i=Wp.getOptions(t),o=n.modules.size,a=n.modules.data,s=o+i.margin*2,h=i.color.light.a?"<path "+Du(i.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",w="<path "+Du(i.color.dark,"stroke")+' d="'+$p(a,o,i.margin)+'"/>',S='viewBox="0 0 '+s+" "+s+'"',T='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+S+' shape-rendering="crispEdges">'+h+w+`</svg>
`;return typeof r=="function"&&r(null,T),T}});var Nu=oe(wr=>{"use strict";var Qp=Ns(),Aa=Iu(),Fu=Ru(),Xp=ku();function ka(e,n,t,r,i){let o=[].slice.call(arguments,1),a=o.length,s=typeof o[a-1]=="function";if(!s&&!Qp())throw new Error("Callback required as last argument");if(s){if(a<2)throw new Error("Too few arguments provided");a===2?(i=t,t=n,n=r=void 0):a===3&&(n.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=t,t=n,n=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(t=n,n=r=void 0):a===2&&!n.getContext&&(r=t,t=n,n=void 0),new Promise(function(h,w){try{let S=Aa.create(t,r);h(e(S,n,r))}catch(S){w(S)}})}try{let h=Aa.create(t,r);i(null,e(h,n,r))}catch(h){i(h)}}wr.create=Aa.create;wr.toCanvas=ka.bind(null,Fu.render);wr.toDataURL=ka.bind(null,Fu.renderToDataURL);wr.toString=ka.bind(null,function(e,n,t){return Xp.render(e,t)})});var Bu=oe((Wi,Na)=>{"use strict";(function(e,n){typeof Wi=="object"&&typeof Na=="object"?Na.exports=n():typeof define=="function"&&define.amd?define([],n):typeof Wi=="object"?Wi.Quagga=n():e.Quagga=n()})(window,function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(r,i,o){t.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},t.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,i){if(1&i&&(r=t(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var a in r)t.d(o,a,(function(s){return r[s]}).bind(null,a));return o},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="/",t(t.s=73)}([function(e,n,t){var r=t(61);e.exports=function(i,o,a){return(o=r(o))in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(61);function i(o,a){for(var s=0;s<a.length;s++){var h=a[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(o,r(h.key),h)}}e.exports=function(o,a,s){return a&&i(o.prototype,a),s&&i(o,s),Object.defineProperty(o,"prototype",{writable:!1}),o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"b",function(){return i}),t.d(n,"c",function(){return o}),t.d(n,"d",function(){return a});var r={};t.r(r),t.d(r,"EPSILON",function(){return s}),t.d(r,"ARRAY_TYPE",function(){return h}),t.d(r,"RANDOM",function(){return w}),t.d(r,"setMatrixArrayType",function(){return S}),t.d(r,"toRadian",function(){return T}),t.d(r,"equals",function(){return W});var i={};t.r(i),t.d(i,"create",function(){return ee}),t.d(i,"clone",function(){return J}),t.d(i,"copy",function(){return ce}),t.d(i,"identity",function(){return G}),t.d(i,"fromValues",function(){return q}),t.d(i,"set",function(){return R}),t.d(i,"transpose",function(){return M}),t.d(i,"invert",function(){return I}),t.d(i,"adjoint",function(){return j}),t.d(i,"determinant",function(){return D}),t.d(i,"multiply",function(){return K}),t.d(i,"rotate",function(){return L}),t.d(i,"scale",function(){return X}),t.d(i,"fromRotation",function(){return A}),t.d(i,"fromScaling",function(){return Z}),t.d(i,"str",function(){return ae}),t.d(i,"frob",function(){return se}),t.d(i,"LDU",function(){return ne}),t.d(i,"add",function(){return me}),t.d(i,"subtract",function(){return de}),t.d(i,"exactEquals",function(){return fe}),t.d(i,"equals",function(){return we}),t.d(i,"multiplyScalar",function(){return z}),t.d(i,"multiplyScalarAndAdd",function(){return V}),t.d(i,"mul",function(){return $}),t.d(i,"sub",function(){return ye});var o={};t.r(o),t.d(o,"create",function(){return ge}),t.d(o,"clone",function(){return Te}),t.d(o,"fromValues",function(){return qe}),t.d(o,"copy",function(){return Ge}),t.d(o,"set",function(){return tt}),t.d(o,"add",function(){return lt}),t.d(o,"subtract",function(){return ft}),t.d(o,"multiply",function(){return dt}),t.d(o,"divide",function(){return jr}),t.d(o,"ceil",function(){return wo}),t.d(o,"floor",function(){return Ur}),t.d(o,"min",function(){return wn}),t.d(o,"max",function(){return So}),t.d(o,"round",function(){return Oo}),t.d(o,"scale",function(){return zr}),t.d(o,"scaleAndAdd",function(){return Mo}),t.d(o,"distance",function(){return Vr}),t.d(o,"squaredDistance",function(){return Gr}),t.d(o,"length",function(){return rr}),t.d(o,"squaredLength",function(){return Hr}),t.d(o,"negate",function(){return ir}),t.d(o,"inverse",function(){return Wr}),t.d(o,"normalize",function(){return $r}),t.d(o,"dot",function(){return Qr}),t.d(o,"cross",function(){return or}),t.d(o,"lerp",function(){return Eo}),t.d(o,"random",function(){return Po}),t.d(o,"transformMat2",function(){return Xr}),t.d(o,"transformMat2d",function(){return Io}),t.d(o,"transformMat3",function(){return Yr}),t.d(o,"transformMat4",function(){return Kr}),t.d(o,"rotate",function(){return Ft}),t.d(o,"angle",function(){return To}),t.d(o,"zero",function(){return Zr}),t.d(o,"str",function(){return Ro}),t.d(o,"exactEquals",function(){return Do}),t.d(o,"equals",function(){return Jr}),t.d(o,"len",function(){return ei}),t.d(o,"sub",function(){return Ao}),t.d(o,"mul",function(){return ti}),t.d(o,"div",function(){return ni}),t.d(o,"dist",function(){return ko}),t.d(o,"sqrDist",function(){return ri}),t.d(o,"sqrLen",function(){return Fo}),t.d(o,"forEach",function(){return ii});var a={};t.r(a),t.d(a,"create",function(){return an}),t.d(a,"clone",function(){return Sn}),t.d(a,"length",function(){return ar}),t.d(a,"fromValues",function(){return No}),t.d(a,"copy",function(){return oi}),t.d(a,"set",function(){return ln}),t.d(a,"add",function(){return lr}),t.d(a,"subtract",function(){return Nt}),t.d(a,"multiply",function(){return ai}),t.d(a,"divide",function(){return li}),t.d(a,"ceil",function(){return Lo}),t.d(a,"floor",function(){return Bo}),t.d(a,"min",function(){return Xt}),t.d(a,"max",function(){return sr}),t.d(a,"round",function(){return si}),t.d(a,"scale",function(){return qo}),t.d(a,"scaleAndAdd",function(){return jo}),t.d(a,"distance",function(){return ui}),t.d(a,"squaredDistance",function(){return ci}),t.d(a,"squaredLength",function(){return ur}),t.d(a,"negate",function(){return Uo}),t.d(a,"inverse",function(){return zo}),t.d(a,"normalize",function(){return di}),t.d(a,"dot",function(){return sn}),t.d(a,"cross",function(){return un}),t.d(a,"lerp",function(){return On}),t.d(a,"hermite",function(){return fi}),t.d(a,"bezier",function(){return Vo}),t.d(a,"random",function(){return xt}),t.d(a,"transformMat4",function(){return Mn}),t.d(a,"transformMat3",function(){return pi}),t.d(a,"transformQuat",function(){return Go}),t.d(a,"rotateX",function(){return Ho}),t.d(a,"rotateY",function(){return En}),t.d(a,"rotateZ",function(){return hi}),t.d(a,"angle",function(){return Wo}),t.d(a,"zero",function(){return $o}),t.d(a,"str",function(){return Qo}),t.d(a,"exactEquals",function(){return Xo}),t.d(a,"equals",function(){return Yo}),t.d(a,"sub",function(){return mi}),t.d(a,"mul",function(){return Ko}),t.d(a,"div",function(){return Zo}),t.d(a,"dist",function(){return gi}),t.d(a,"sqrDist",function(){return Jo}),t.d(a,"len",function(){return cr}),t.d(a,"sqrLen",function(){return ea}),t.d(a,"forEach",function(){return vi});var s=1e-6,h=typeof Float32Array<"u"?Float32Array:Array,w=Math.random;function S(d){h=d}var B=Math.PI/180;function T(d){return d*B}function W(d,m){return Math.abs(d-m)<=s*Math.max(1,Math.abs(d),Math.abs(m))}function ee(){var d=new h(4);return h!=Float32Array&&(d[1]=0,d[2]=0),d[0]=1,d[3]=1,d}function J(d){var m=new h(4);return m[0]=d[0],m[1]=d[1],m[2]=d[2],m[3]=d[3],m}function ce(d,m){return d[0]=m[0],d[1]=m[1],d[2]=m[2],d[3]=m[3],d}function G(d){return d[0]=1,d[1]=0,d[2]=0,d[3]=1,d}function q(d,m,y,k){var U=new h(4);return U[0]=d,U[1]=m,U[2]=y,U[3]=k,U}function R(d,m,y,k,U){return d[0]=m,d[1]=y,d[2]=k,d[3]=U,d}function M(d,m){if(d===m){var y=m[1];d[1]=m[2],d[2]=y}else d[0]=m[0],d[1]=m[2],d[2]=m[1],d[3]=m[3];return d}function I(d,m){var y=m[0],k=m[1],U=m[2],Q=m[3],pe=y*Q-U*k;return pe?(pe=1/pe,d[0]=Q*pe,d[1]=-k*pe,d[2]=-U*pe,d[3]=y*pe,d):null}function j(d,m){var y=m[0];return d[0]=m[3],d[1]=-m[1],d[2]=-m[2],d[3]=y,d}function D(d){return d[0]*d[3]-d[2]*d[1]}function K(d,m,y){var k=m[0],U=m[1],Q=m[2],pe=m[3],be=y[0],ke=y[1],rt=y[2],ut=y[3];return d[0]=k*be+Q*ke,d[1]=U*be+pe*ke,d[2]=k*rt+Q*ut,d[3]=U*rt+pe*ut,d}function L(d,m,y){var k=m[0],U=m[1],Q=m[2],pe=m[3],be=Math.sin(y),ke=Math.cos(y);return d[0]=k*ke+Q*be,d[1]=U*ke+pe*be,d[2]=k*-be+Q*ke,d[3]=U*-be+pe*ke,d}function X(d,m,y){var k=m[0],U=m[1],Q=m[2],pe=m[3],be=y[0],ke=y[1];return d[0]=k*be,d[1]=U*be,d[2]=Q*ke,d[3]=pe*ke,d}function A(d,m){var y=Math.sin(m),k=Math.cos(m);return d[0]=k,d[1]=y,d[2]=-y,d[3]=k,d}function Z(d,m){return d[0]=m[0],d[1]=0,d[2]=0,d[3]=m[1],d}function ae(d){return"mat2("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")"}function se(d){return Math.hypot(d[0],d[1],d[2],d[3])}function ne(d,m,y,k){return d[2]=k[2]/k[0],y[0]=k[0],y[1]=k[1],y[3]=k[3]-d[2]*y[1],[d,m,y]}function me(d,m,y){return d[0]=m[0]+y[0],d[1]=m[1]+y[1],d[2]=m[2]+y[2],d[3]=m[3]+y[3],d}function de(d,m,y){return d[0]=m[0]-y[0],d[1]=m[1]-y[1],d[2]=m[2]-y[2],d[3]=m[3]-y[3],d}function fe(d,m){return d[0]===m[0]&&d[1]===m[1]&&d[2]===m[2]&&d[3]===m[3]}function we(d,m){var y=d[0],k=d[1],U=d[2],Q=d[3],pe=m[0],be=m[1],ke=m[2],rt=m[3];return Math.abs(y-pe)<=s*Math.max(1,Math.abs(y),Math.abs(pe))&&Math.abs(k-be)<=s*Math.max(1,Math.abs(k),Math.abs(be))&&Math.abs(U-ke)<=s*Math.max(1,Math.abs(U),Math.abs(ke))&&Math.abs(Q-rt)<=s*Math.max(1,Math.abs(Q),Math.abs(rt))}function z(d,m,y){return d[0]=m[0]*y,d[1]=m[1]*y,d[2]=m[2]*y,d[3]=m[3]*y,d}function V(d,m,y,k){return d[0]=m[0]+y[0]*k,d[1]=m[1]+y[1]*k,d[2]=m[2]+y[2]*k,d[3]=m[3]+y[3]*k,d}Math.hypot||(Math.hypot=function(){for(var d=0,m=arguments.length;m--;)d+=arguments[m]*arguments[m];return Math.sqrt(d)});var $=K,ye=de;function ge(){var d=new h(2);return h!=Float32Array&&(d[0]=0,d[1]=0),d}function Te(d){var m=new h(2);return m[0]=d[0],m[1]=d[1],m}function qe(d,m){var y=new h(2);return y[0]=d,y[1]=m,y}function Ge(d,m){return d[0]=m[0],d[1]=m[1],d}function tt(d,m,y){return d[0]=m,d[1]=y,d}function lt(d,m,y){return d[0]=m[0]+y[0],d[1]=m[1]+y[1],d}function ft(d,m,y){return d[0]=m[0]-y[0],d[1]=m[1]-y[1],d}function dt(d,m,y){return d[0]=m[0]*y[0],d[1]=m[1]*y[1],d}function jr(d,m,y){return d[0]=m[0]/y[0],d[1]=m[1]/y[1],d}function wo(d,m){return d[0]=Math.ceil(m[0]),d[1]=Math.ceil(m[1]),d}function Ur(d,m){return d[0]=Math.floor(m[0]),d[1]=Math.floor(m[1]),d}function wn(d,m,y){return d[0]=Math.min(m[0],y[0]),d[1]=Math.min(m[1],y[1]),d}function So(d,m,y){return d[0]=Math.max(m[0],y[0]),d[1]=Math.max(m[1],y[1]),d}function Oo(d,m){return d[0]=Math.round(m[0]),d[1]=Math.round(m[1]),d}function zr(d,m,y){return d[0]=m[0]*y,d[1]=m[1]*y,d}function Mo(d,m,y,k){return d[0]=m[0]+y[0]*k,d[1]=m[1]+y[1]*k,d}function Vr(d,m){var y=m[0]-d[0],k=m[1]-d[1];return Math.hypot(y,k)}function Gr(d,m){var y=m[0]-d[0],k=m[1]-d[1];return y*y+k*k}function rr(d){var m=d[0],y=d[1];return Math.hypot(m,y)}function Hr(d){var m=d[0],y=d[1];return m*m+y*y}function ir(d,m){return d[0]=-m[0],d[1]=-m[1],d}function Wr(d,m){return d[0]=1/m[0],d[1]=1/m[1],d}function $r(d,m){var y=m[0],k=m[1],U=y*y+k*k;return U>0&&(U=1/Math.sqrt(U)),d[0]=m[0]*U,d[1]=m[1]*U,d}function Qr(d,m){return d[0]*m[0]+d[1]*m[1]}function or(d,m,y){var k=m[0]*y[1]-m[1]*y[0];return d[0]=d[1]=0,d[2]=k,d}function Eo(d,m,y,k){var U=m[0],Q=m[1];return d[0]=U+k*(y[0]-U),d[1]=Q+k*(y[1]-Q),d}function Po(d,m){m=m||1;var y=2*w()*Math.PI;return d[0]=Math.cos(y)*m,d[1]=Math.sin(y)*m,d}function Xr(d,m,y){var k=m[0],U=m[1];return d[0]=y[0]*k+y[2]*U,d[1]=y[1]*k+y[3]*U,d}function Io(d,m,y){var k=m[0],U=m[1];return d[0]=y[0]*k+y[2]*U+y[4],d[1]=y[1]*k+y[3]*U+y[5],d}function Yr(d,m,y){var k=m[0],U=m[1];return d[0]=y[0]*k+y[3]*U+y[6],d[1]=y[1]*k+y[4]*U+y[7],d}function Kr(d,m,y){var k=m[0],U=m[1];return d[0]=y[0]*k+y[4]*U+y[12],d[1]=y[1]*k+y[5]*U+y[13],d}function Ft(d,m,y,k){var U=m[0]-y[0],Q=m[1]-y[1],pe=Math.sin(k),be=Math.cos(k);return d[0]=U*be-Q*pe+y[0],d[1]=U*pe+Q*be+y[1],d}function To(d,m){var y=d[0],k=d[1],U=m[0],Q=m[1],pe=Math.sqrt(y*y+k*k)*Math.sqrt(U*U+Q*Q),be=pe&&(y*U+k*Q)/pe;return Math.acos(Math.min(Math.max(be,-1),1))}function Zr(d){return d[0]=0,d[1]=0,d}function Ro(d){return"vec2("+d[0]+", "+d[1]+")"}function Do(d,m){return d[0]===m[0]&&d[1]===m[1]}function Jr(d,m){var y=d[0],k=d[1],U=m[0],Q=m[1];return Math.abs(y-U)<=s*Math.max(1,Math.abs(y),Math.abs(U))&&Math.abs(k-Q)<=s*Math.max(1,Math.abs(k),Math.abs(Q))}var qt,ei=rr,Ao=ft,ti=dt,ni=jr,ko=Vr,ri=Gr,Fo=Hr,ii=(qt=ge(),function(d,m,y,k,U,Q){var pe,be;for(m||(m=2),y||(y=0),be=k?Math.min(k*m+y,d.length):d.length,pe=y;pe<be;pe+=m)qt[0]=d[pe],qt[1]=d[pe+1],U(qt,qt,Q),d[pe]=qt[0],d[pe+1]=qt[1];return d});function an(){var d=new h(3);return h!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0),d}function Sn(d){var m=new h(3);return m[0]=d[0],m[1]=d[1],m[2]=d[2],m}function ar(d){var m=d[0],y=d[1],k=d[2];return Math.hypot(m,y,k)}function No(d,m,y){var k=new h(3);return k[0]=d,k[1]=m,k[2]=y,k}function oi(d,m){return d[0]=m[0],d[1]=m[1],d[2]=m[2],d}function ln(d,m,y,k){return d[0]=m,d[1]=y,d[2]=k,d}function lr(d,m,y){return d[0]=m[0]+y[0],d[1]=m[1]+y[1],d[2]=m[2]+y[2],d}function Nt(d,m,y){return d[0]=m[0]-y[0],d[1]=m[1]-y[1],d[2]=m[2]-y[2],d}function ai(d,m,y){return d[0]=m[0]*y[0],d[1]=m[1]*y[1],d[2]=m[2]*y[2],d}function li(d,m,y){return d[0]=m[0]/y[0],d[1]=m[1]/y[1],d[2]=m[2]/y[2],d}function Lo(d,m){return d[0]=Math.ceil(m[0]),d[1]=Math.ceil(m[1]),d[2]=Math.ceil(m[2]),d}function Bo(d,m){return d[0]=Math.floor(m[0]),d[1]=Math.floor(m[1]),d[2]=Math.floor(m[2]),d}function Xt(d,m,y){return d[0]=Math.min(m[0],y[0]),d[1]=Math.min(m[1],y[1]),d[2]=Math.min(m[2],y[2]),d}function sr(d,m,y){return d[0]=Math.max(m[0],y[0]),d[1]=Math.max(m[1],y[1]),d[2]=Math.max(m[2],y[2]),d}function si(d,m){return d[0]=Math.round(m[0]),d[1]=Math.round(m[1]),d[2]=Math.round(m[2]),d}function qo(d,m,y){return d[0]=m[0]*y,d[1]=m[1]*y,d[2]=m[2]*y,d}function jo(d,m,y,k){return d[0]=m[0]+y[0]*k,d[1]=m[1]+y[1]*k,d[2]=m[2]+y[2]*k,d}function ui(d,m){var y=m[0]-d[0],k=m[1]-d[1],U=m[2]-d[2];return Math.hypot(y,k,U)}function ci(d,m){var y=m[0]-d[0],k=m[1]-d[1],U=m[2]-d[2];return y*y+k*k+U*U}function ur(d){var m=d[0],y=d[1],k=d[2];return m*m+y*y+k*k}function Uo(d,m){return d[0]=-m[0],d[1]=-m[1],d[2]=-m[2],d}function zo(d,m){return d[0]=1/m[0],d[1]=1/m[1],d[2]=1/m[2],d}function di(d,m){var y=m[0],k=m[1],U=m[2],Q=y*y+k*k+U*U;return Q>0&&(Q=1/Math.sqrt(Q)),d[0]=m[0]*Q,d[1]=m[1]*Q,d[2]=m[2]*Q,d}function sn(d,m){return d[0]*m[0]+d[1]*m[1]+d[2]*m[2]}function un(d,m,y){var k=m[0],U=m[1],Q=m[2],pe=y[0],be=y[1],ke=y[2];return d[0]=U*ke-Q*be,d[1]=Q*pe-k*ke,d[2]=k*be-U*pe,d}function On(d,m,y,k){var U=m[0],Q=m[1],pe=m[2];return d[0]=U+k*(y[0]-U),d[1]=Q+k*(y[1]-Q),d[2]=pe+k*(y[2]-pe),d}function fi(d,m,y,k,U,Q){var pe=Q*Q,be=pe*(2*Q-3)+1,ke=pe*(Q-2)+Q,rt=pe*(Q-1),ut=pe*(3-2*Q);return d[0]=m[0]*be+y[0]*ke+k[0]*rt+U[0]*ut,d[1]=m[1]*be+y[1]*ke+k[1]*rt+U[1]*ut,d[2]=m[2]*be+y[2]*ke+k[2]*rt+U[2]*ut,d}function Vo(d,m,y,k,U,Q){var pe=1-Q,be=pe*pe,ke=Q*Q,rt=be*pe,ut=3*Q*be,Rt=3*ke*pe,Dt=ke*Q;return d[0]=m[0]*rt+y[0]*ut+k[0]*Rt+U[0]*Dt,d[1]=m[1]*rt+y[1]*ut+k[1]*Rt+U[1]*Dt,d[2]=m[2]*rt+y[2]*ut+k[2]*Rt+U[2]*Dt,d}function xt(d,m){m=m||1;var y=2*w()*Math.PI,k=2*w()-1,U=Math.sqrt(1-k*k)*m;return d[0]=Math.cos(y)*U,d[1]=Math.sin(y)*U,d[2]=k*m,d}function Mn(d,m,y){var k=m[0],U=m[1],Q=m[2],pe=y[3]*k+y[7]*U+y[11]*Q+y[15];return pe=pe||1,d[0]=(y[0]*k+y[4]*U+y[8]*Q+y[12])/pe,d[1]=(y[1]*k+y[5]*U+y[9]*Q+y[13])/pe,d[2]=(y[2]*k+y[6]*U+y[10]*Q+y[14])/pe,d}function pi(d,m,y){var k=m[0],U=m[1],Q=m[2];return d[0]=k*y[0]+U*y[3]+Q*y[6],d[1]=k*y[1]+U*y[4]+Q*y[7],d[2]=k*y[2]+U*y[5]+Q*y[8],d}function Go(d,m,y){var k=y[0],U=y[1],Q=y[2],pe=y[3],be=m[0],ke=m[1],rt=m[2],ut=U*rt-Q*ke,Rt=Q*be-k*rt,Dt=k*ke-U*be,jt=U*Dt-Q*Rt,Pn=Q*ut-k*Dt,dr=k*Rt-U*ut,g=2*pe;return ut*=g,Rt*=g,Dt*=g,jt*=2,Pn*=2,dr*=2,d[0]=be+ut+jt,d[1]=ke+Rt+Pn,d[2]=rt+Dt+dr,d}function Ho(d,m,y,k){var U=[],Q=[];return U[0]=m[0]-y[0],U[1]=m[1]-y[1],U[2]=m[2]-y[2],Q[0]=U[0],Q[1]=U[1]*Math.cos(k)-U[2]*Math.sin(k),Q[2]=U[1]*Math.sin(k)+U[2]*Math.cos(k),d[0]=Q[0]+y[0],d[1]=Q[1]+y[1],d[2]=Q[2]+y[2],d}function En(d,m,y,k){var U=[],Q=[];return U[0]=m[0]-y[0],U[1]=m[1]-y[1],U[2]=m[2]-y[2],Q[0]=U[2]*Math.sin(k)+U[0]*Math.cos(k),Q[1]=U[1],Q[2]=U[2]*Math.cos(k)-U[0]*Math.sin(k),d[0]=Q[0]+y[0],d[1]=Q[1]+y[1],d[2]=Q[2]+y[2],d}function hi(d,m,y,k){var U=[],Q=[];return U[0]=m[0]-y[0],U[1]=m[1]-y[1],U[2]=m[2]-y[2],Q[0]=U[0]*Math.cos(k)-U[1]*Math.sin(k),Q[1]=U[0]*Math.sin(k)+U[1]*Math.cos(k),Q[2]=U[2],d[0]=Q[0]+y[0],d[1]=Q[1]+y[1],d[2]=Q[2]+y[2],d}function Wo(d,m){var y=d[0],k=d[1],U=d[2],Q=m[0],pe=m[1],be=m[2],ke=Math.sqrt(y*y+k*k+U*U)*Math.sqrt(Q*Q+pe*pe+be*be),rt=ke&&sn(d,m)/ke;return Math.acos(Math.min(Math.max(rt,-1),1))}function $o(d){return d[0]=0,d[1]=0,d[2]=0,d}function Qo(d){return"vec3("+d[0]+", "+d[1]+", "+d[2]+")"}function Xo(d,m){return d[0]===m[0]&&d[1]===m[1]&&d[2]===m[2]}function Yo(d,m){var y=d[0],k=d[1],U=d[2],Q=m[0],pe=m[1],be=m[2];return Math.abs(y-Q)<=s*Math.max(1,Math.abs(y),Math.abs(Q))&&Math.abs(k-pe)<=s*Math.max(1,Math.abs(k),Math.abs(pe))&&Math.abs(U-be)<=s*Math.max(1,Math.abs(U),Math.abs(be))}var mi=Nt,Ko=ai,Zo=li,gi=ui,Jo=ci,cr=ar,ea=ur,vi=function(){var d=an();return function(m,y,k,U,Q,pe){var be,ke;for(y||(y=3),k||(k=0),ke=U?Math.min(U*y+k,m.length):m.length,be=k;be<ke;be+=y)d[0]=m[be],d[1]=m[be+1],d[2]=m[be+2],Q(d,d,pe),m[be]=d[0],m[be+1]=d[1],m[be+2]=d[2];return m}}()},function(e,n,t){var r=t(13).default,i=t(1);e.exports=function(o,a){if(a&&(r(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(o)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(40);e.exports=function(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&r(i,o)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(141)();e.exports=r;try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,n,t){"use strict";n.a={init:function(r,i){r.fill(i)},shuffle:function(r){for(var i=r.length-1;i>0;i--){var o=Math.floor(Math.random()*(i+1)),a=[r[o],r[i]];r[i]=a[0],r[o]=a[1]}return r},toPointList:function(r){var i=r.reduce(function(o,a){var s="[".concat(a.join(","),"]");return o.push(s),o},[]);return"[".concat(i.join(`,\r
`),"]")},threshold:function(r,i,o){return r.reduce(function(a,s){return o.apply(r,[s])>=i&&a.push(s),a},[])},maxIndex:function(r){for(var i=0,o=0;o<r.length;o++)r[o]>r[i]&&(i=o);return i},max:function(r){for(var i=0,o=0;o<r.length;o++)r[o]>i&&(i=r[o]);return i},sum:function(r){for(var i=r.length,o=0;i--;)o+=r[i];return o}}},function(e,n,t){"use strict";t.d(n,"h",function(){return s}),t.d(n,"i",function(){return w}),t.d(n,"b",function(){return S}),t.d(n,"j",function(){return B}),t.d(n,"e",function(){return T}),t.d(n,"c",function(){return W}),t.d(n,"f",function(){return ee}),t.d(n,"g",function(){return J}),t.d(n,"a",function(){return G}),t.d(n,"d",function(){return R});var r=t(5),i=t(9);r.a.setMatrixArrayType(Array);var o=function(M,I){var j=[],D={rad:0,vec:r.c.clone([0,0])},K={};function L(A){K[A.id]=A,j.push(A)}function X(){var A,Z=0;for(A=0;A<j.length;A++)Z+=j[A].rad;D.rad=Z/j.length,D.vec=r.c.clone([Math.cos(D.rad),Math.sin(D.rad)])}return L(M),X(),{add:function(A){K[A.id]||(L(A),X())},fits:function(A){return Math.abs(r.c.dot(A.point.vec,D.vec))>I},getPoints:function(){return j},getCenter:function(){return D}}},a=function(M,I,j){return{rad:M[j],point:M,id:I}};function s(M,I){return{x:M,y:I,toVec2:function(){return r.c.clone([this.x,this.y])},toVec3:function(){return r.d.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function h(M,I){I||(I=8);for(var j=M.data,D=j.length,K=8-I,L=new Int32Array(1<<I);D--;)L[j[D]>>K]++;return L}function w(M,I){var j=function(D){var K,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,X=8-L;function A(ne,me){for(var de=0,fe=ne;fe<=me;fe++)de+=K[fe];return de}function Z(ne,me){for(var de=0,fe=ne;fe<=me;fe++)de+=fe*K[fe];return de}function ae(){var ne,me,de,fe,we=[0],z=(1<<L)-1;K=h(D,L);for(var V=1;V<z;V++)(de=(ne=A(0,V))*(me=A(V+1,z)))===0&&(de=1),fe=Z(0,V)*me-Z(V+1,z)*ne,we[V]=fe*fe/de;return i.a.maxIndex(we)}var se=ae();return se<<X}(M);return function(D,K,L){L||(L=D);for(var X=D.data,A=X.length,Z=L.data;A--;)Z[A]=X[A]<K?1:0}(M,j,I),j}function S(M,I,j){var D,K,L,X,A=[];function Z(ae){var se=!1;for(K=0;K<A.length;K++)(L=A[K]).fits(ae)&&(L.add(ae),se=!0);return se}for(j||(j="rad"),D=0;D<M.length;D++)Z(X=a(M[D],D,j))||A.push(o(X,I));return A}r.a.setMatrixArrayType(Array);function B(M,I,j){var D,K,L,X,A=0,Z=0,ae=[];for(D=0;D<I;D++)ae[D]={score:0,item:null};for(D=0;D<M.length;D++)if((K=j.apply(this,[M[D]]))>Z)for((L=ae[A]).score=K,L.item=M[D],Z=Number.MAX_VALUE,X=0;X<I;X++)ae[X].score<Z&&(Z=ae[X].score,A=X);return ae}function T(M,I,j){for(var D,K=0,L=I.x,X=Math.floor(M.length/4),A=I.x/2,Z=0,ae=I.x;L<X;){for(D=0;D<A;D++)j[Z]=(.299*M[4*K+0]+.587*M[4*K+1]+.114*M[4*K+2]+(.299*M[4*(K+1)+0]+.587*M[4*(K+1)+1]+.114*M[4*(K+1)+2])+(.299*M[4*L+0]+.587*M[4*L+1]+.114*M[4*L+2])+(.299*M[4*(L+1)+0]+.587*M[4*(L+1)+1]+.114*M[4*(L+1)+2]))/4,Z++,K+=2,L+=2;K+=ae,L+=ae}}function W(M,I,j){var D=M.length/4|0;if(j&&j.singleChannel===!0)for(var K=0;K<D;K++)I[K]=M[4*K+0];else for(var L=0;L<D;L++)I[L]=.299*M[4*L+0]+.587*M[4*L+1]+.114*M[4*L+2]}function ee(M,I){for(var j=M.data,D=M.size.x,K=I.data,L=0,X=D,A=j.length,Z=D/2,ae=0;X<A;){for(var se=0;se<Z;se++)K[ae]=Math.floor((j[L]+j[L+1]+j[X]+j[X+1])/4),ae++,L+=2,X+=2;L+=D,X+=D}}function J(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],j=M[0],D=M[1],K=M[2],L=K*D,X=L*(1-Math.abs(j/60%2-1)),A=K-L,Z=0,ae=0,se=0;return j<60?(Z=L,ae=X):j<120?(Z=X,ae=L):j<180?(ae=L,se=X):j<240?(ae=X,se=L):j<300?(Z=X,se=L):j<360&&(Z=L,se=X),I[0]=255*(Z+A)|0,I[1]=255*(ae+A)|0,I[2]=255*(se+A)|0,I}function ce(M){for(var I=[],j=[],D=1;D<Math.sqrt(M)+1;D++)M%D==0&&(j.push(D),D!==M/D&&I.unshift(Math.floor(M/D)));return j.concat(I)}function G(M,I){var j,D=ce(I.x),K=ce(I.y),L=Math.max(I.x,I.y),X=function(de,fe){for(var we=0,z=0,V=[];we<de.length&&z<fe.length;)de[we]===fe[z]?(V.push(de[we]),we++,z++):de[we]>fe[z]?z++:we++;return V}(D,K),A=[8,10,15,20,32,60,80],Z={"x-small":5,small:4,medium:3,large:2,"x-large":1},ae=Z[M]||Z.medium,se=A[ae],ne=Math.floor(L/se);function me(de){for(var fe=0,we=de[Math.floor(de.length/2)];fe<de.length-1&&de[fe]<ne;)fe++;return fe>0&&(we=Math.abs(de[fe]-ne)>Math.abs(de[fe-1]-ne)?de[fe-1]:de[fe]),ne/we<A[ae+1]/A[ae]&&ne/we>A[ae-1]/A[ae]?{x:we,y:we}:null}return(j=me(X))||(j=me(ce(L)))||(j=me(ce(ne*se))),j}var q={top:function(M,I){return M.unit==="%"?Math.floor(I.height*(M.value/100)):null},right:function(M,I){return M.unit==="%"?Math.floor(I.width-I.width*(M.value/100)):null},bottom:function(M,I){return M.unit==="%"?Math.floor(I.height-I.height*(M.value/100)):null},left:function(M,I){return M.unit==="%"?Math.floor(I.width*(M.value/100)):null}};function R(M,I,j){var D={width:M,height:I},K=Object.keys(j).reduce(function(L,X){var A=function(ae){return{value:parseFloat(ae),unit:(ae.indexOf("%"),ae.length,"%")}}(j[X]),Z=q[X](A,D);return L[X]=Z,L},{});return{sx:K.left,sy:K.top,sw:K.right-K.left,sh:K.bottom-K.top}}},function(e,n,t){"use strict";var r=t(62),i=t.n(r),o=t(3),a=t.n(o),s=t(4),h=t.n(s),w=t(0),S=t.n(w),B=t(5),T=t(9),W=t(10);function ee(ce){if(ce<0)throw new Error("expected positive number, received ".concat(ce))}B.a.setMatrixArrayType(Array);var J=function(){function ce(G,q){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uint8Array,M=arguments.length>3?arguments[3]:void 0;a()(this,ce),S()(this,"data",void 0),S()(this,"size",void 0),S()(this,"indexMapping",void 0),q?this.data=q:(this.data=new R(G.x*G.y),M&&T.a.init(this.data,0)),this.size=G}return h()(ce,[{key:"inImageWithBorder",value:function(G){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ee(q),G.x>=0&&G.y>=0&&G.x<this.size.x+2*q&&G.y<this.size.y+2*q}},{key:"subImageAsCopy",value:function(G,q){ee(q.x),ee(q.y);for(var R=G.size,M=R.x,I=R.y,j=0;j<M;j++)for(var D=0;D<I;D++)G.data[D*M+j]=this.data[(q.y+D)*this.size.x+q.x+j];return G}},{key:"get",value:function(G,q){return this.data[q*this.size.x+G]}},{key:"getSafe",value:function(G,q){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var R=0;R<this.size.x;R++)this.indexMapping.x[R]=R,this.indexMapping.x[R+this.size.x]=R;for(var M=0;M<this.size.y;M++)this.indexMapping.y[M]=M,this.indexMapping.y[M+this.size.y]=M}return this.data[this.indexMapping.y[q+this.size.y]*this.size.x+this.indexMapping.x[G+this.size.x]]}},{key:"set",value:function(G,q,R){return this.data[q*this.size.x+G]=R,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var G=this.size,q=G.x,R=G.y,M=0;M<q;M++)this.data[M]=this.data[(R-1)*q+M]=0;for(var I=1;I<R-1;I++)this.data[I*q]=this.data[I*q+(q-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(G){var q,R,M,I,j,D,K,L,X,A,Z=this.data,ae=this.size.y,se=this.size.x,ne=[],me=[],de=Math.PI,fe=de/4;if(G<=0)return me;for(j=0;j<G;j++)ne[j]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(R=0;R<ae;R++)for(I=R*R,q=0;q<se;q++)(M=Z[R*se+q])>0&&((D=ne[M-1]).m00+=1,D.m01+=R,D.m10+=q,D.m11+=q*R,D.m02+=I,D.m20+=q*q);for(j=0;j<G;j++)D=ne[j],isNaN(D.m00)||D.m00===0||(L=D.m10/D.m00,X=D.m01/D.m00,K=D.m11/D.m00-L*X,A=(D.m02/D.m00-X*X-(D.m20/D.m00-L*L))/(2*K),A=.5*Math.atan(A)+(K>=0?fe:-fe)+de,D.theta=(180*A/de+90)%180-90,D.theta<0&&(D.theta+=180),D.rad=A>de?A-de:A,D.vec=B.c.clone([Math.cos(A),Math.sin(A)]),me.push(D));return me}},{key:"getAsRGBA",value:function(){for(var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,q=new Uint8ClampedArray(4*this.size.x*this.size.y),R=0;R<this.size.y;R++)for(var M=0;M<this.size.x;M++){var I=R*this.size.x+M,j=this.get(M,R)*G;q[4*I+0]=j,q[4*I+1]=j,q[4*I+2]=j,q[4*I+3]=255}return q}},{key:"show",value:function(G){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var R=G.getContext("2d");if(!R)throw new Error("Unable to get canvas context");var M=R.getImageData(0,0,G.width,G.height),I=this.getAsRGBA(q);G.width=this.size.x,G.height=this.size.y;var j=new ImageData(I,M.width,M.height);R.putImageData(j,0,0)}},{key:"overlay",value:function(G,q,R){var M=q<0||q>360?360:q,I=[0,1,1],j=[0,0,0],D=[255,255,255],K=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var L=G.getContext("2d");if(!L)throw new Error("Unable to get canvas context");for(var X=L.getImageData(R.x,R.y,this.size.x,this.size.y),A=X.data,Z=this.data.length;Z--;){I[0]=this.data[Z]*M;var ae=4*Z,se=I[0]<=0?D:I[0]>=360?K:Object(W.g)(I,j),ne=i()(se,3);A[ae]=ne[0],A[ae+1]=ne[1],A[ae+2]=ne[2],A[ae+3]=255}L.putImageData(X,R.x,R.y)}}]),ce}();n.a=J},function(e,n){function t(r,i,o,a,s,h,w){try{var S=r[h](w),B=S.value}catch(T){return void o(T)}S.done?i(B):Promise.resolve(B).then(a,s)}e.exports=function(r){return function(){var i=this,o=arguments;return new Promise(function(a,s){var h=r.apply(i,o);function w(B){t(h,a,s,w,S,"next",B)}function S(B){t(h,a,s,w,S,"throw",B)}w(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){function t(r){return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(142);function i(){return typeof Reflect<"u"&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(o,a,s){var h=r(o,a);if(h){var w=Object.getOwnPropertyDescriptor(h,a);return w.get?w.get.call(arguments.length<3?o:s):w.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}},function(e,n){var t=Array.isArray;e.exports=t},function(e,n,t){"use strict";n.a={drawRect:function(r,i,o,a){o.strokeStyle=a.color,o.fillStyle=a.color,o.lineWidth=a.lineWidth||1,o.beginPath(),o.strokeRect(r.x,r.y,i.x,i.y)},drawPath:function(r,i,o,a){o.strokeStyle=a.color,o.fillStyle=a.color,o.lineWidth=a.lineWidth,o.beginPath(),o.moveTo(r[0][i.x],r[0][i.y]);for(var s=1;s<r.length;s++)o.lineTo(r[s][i.x],r[s][i.y]);o.closePath(),o.stroke()},drawImage:function(r,i,o){var a=o.getImageData(0,0,i.x,i.y),s=a.data,h=s.length,w=r.length;if(h/w!=4)return!1;for(;w--;){var S=r[w];s[--h]=255,s[--h]=S,s[--h]=S,s[--h]=S}return o.putImageData(a,0,0),!0}}},function(e,n,t){var r=t(74),i=t(129)(function(o,a,s){r(o,a,s)});e.exports=i},function(e,n,t){var r=t(44),i=typeof self=="object"&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,n){e.exports=function(t){return t!=null&&typeof t=="object"}},function(e,n,t){"use strict";n.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(r,i){var o,a=r.data,s=i.data,h=this.searchDirections,w=r.size.x;function S(T,W,ee,J){var ce,G,q;for(ce=0;ce<h.length;ce++){if(G=T.cy+h[T.dir][0],q=T.cx+h[T.dir][1],a[o=G*w+q]===W&&(s[o]===0||s[o]===ee))return s[o]=ee,T.cy=G,T.cx=q,!0;s[o]===0&&(s[o]=J),T.dir=(T.dir+1)%8}return!1}function B(T,W,ee){return{dir:ee,x:T,y:W,next:null,prev:null}}return{trace:function(T,W,ee,J){return S(T,W,ee,J)},contourTracing:function(T,W,ee,J,ce){return function(G,q,R,M,I){var j,D,K,L=null,X={cx:q,cy:G,dir:0};if(S(X,M,R,I)){j=L=B(q,G,X.dir),K=X.dir,(D=B(X.cx,X.cy,0)).prev=j,j.next=D,D.next=null,j=D;var A=r.size.x*r.size.y,Z=0;do X.dir=(X.dir+6)%8,S(X,M,R,I),K!==X.dir?(j.dir=X.dir,(D=B(X.cx,X.cy,0)).prev=j,j.next=D,D.next=null,j=D):(j.dir=K,j.x=X.cx,j.y=X.cy),K=X.dir;while((X.cx!==q||X.cy!==G)&&++Z<A);L.prev=j.prev,j.prev.next=L}return L}(T,W,ee,J,ce)}}}}},function(e,n,t){var r=t(27),i=t(87),o=t(88),a=r?r.toStringTag:void 0;e.exports=function(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":a&&a in Object(s)?i(s):o(s)}},function(e,n,t){"use strict";(function(r){var i,o,a,s,h,w,S,B,T,W,ee=t(5),J=t(11),ce=t(10),G=t(9),q=(t(17),t(65)),R=t(21),M=t(66);ee.a.setMatrixArrayType(Array);var I,j,D={ctx:{binary:null},dom:{binary:null}},K={x:0,y:0};function L(Z){var ae,se,ne,me,de,fe,we,z=T.size.x,V=T.size.y,$=-T.size.x,ye=-T.size.y;for(ae=0,se=0;se<Z.length;se++)ae+=(me=Z[se]).rad;for((ae=(180*(ae/=Z.length)/Math.PI+90)%180-90)<0&&(ae+=180),ae=(180-ae)*Math.PI/180,de=ee.b.copy(ee.b.create(),[Math.cos(ae),Math.sin(ae),-Math.sin(ae),Math.cos(ae)]),se=0;se<Z.length;se++)for(me=Z[se],ne=0;ne<4;ne++)ee.c.transformMat2(me.box[ne],me.box[ne],de);for(se=0;se<Z.length;se++)for(me=Z[se],ne=0;ne<4;ne++)me.box[ne][0]<z&&(z=me.box[ne][0]),me.box[ne][0]>$&&($=me.box[ne][0]),me.box[ne][1]<V&&(V=me.box[ne][1]),me.box[ne][1]>ye&&(ye=me.box[ne][1]);for(fe=[[z,V],[$,V],[$,ye],[z,ye]],we=i.halfSample?2:1,de=ee.b.invert(de,de),ne=0;ne<4;ne++)ee.c.transformMat2(fe[ne],fe[ne],de);for(ne=0;ne<4;ne++)ee.c.scale(fe[ne],fe[ne],we);return fe}function X(Z,ae){T.subImageAsCopy(s,Object(ce.h)(Z,ae)),j.skeletonize()}function A(Z,ae,se,ne){var me,de,fe,we,z=[],V=[],$=Math.ceil(W.x/3);if(Z.length>=2){for(me=0;me<Z.length;me++)Z[me].m00>$&&z.push(Z[me]);if(z.length>=2){for(fe=function(Te){var qe=Object(ce.b)(Te,.9),Ge=Object(ce.j)(qe,1,function(dt){return dt.getPoints().length}),tt=[],lt=[];if(Ge.length===1){tt=Ge[0].item.getPoints();for(var ft=0;ft<tt.length;ft++)lt.push(tt[ft].point)}return lt}(z),de=0,me=0;me<fe.length;me++){var ye,ge;de+=(ye=(ge=fe[me])===null||ge===void 0?void 0:ge.rad)!==null&&ye!==void 0?ye:0}fe.length>1&&fe.length>=z.length/4*3&&fe.length>Z.length/4&&(de/=fe.length,we={index:ae[1]*K.x+ae[0],pos:{x:se,y:ne},box:[ee.c.clone([se,ne]),ee.c.clone([se+s.size.x,ne]),ee.c.clone([se+s.size.x,ne+s.size.y]),ee.c.clone([se,ne+s.size.y])],moments:fe,rad:de,vec:ee.c.clone([Math.cos(de),Math.sin(de)])},V.push(we))}}return V}n.a={init:function(Z,ae){i=ae,I=Z,function(){o=i.halfSample?new J.a({x:I.size.x/2|0,y:I.size.y/2|0}):I,W=Object(ce.a)(i.patchSize,o.size),K.x=o.size.x/W.x|0,K.y=o.size.y/W.y|0,T=new J.a(o.size,void 0,Uint8Array,!1),h=new J.a(W,void 0,Array,!0);var se=new ArrayBuffer(65536);s=new J.a(W,new Uint8Array(se,0,W.x*W.y)),a=new J.a(W,new Uint8Array(se,W.x*W.y*3,W.x*W.y),void 0,!0),j=Object(M.a)(typeof window<"u"?window:typeof self<"u"?self:r,{size:W.x},se),B=new J.a({x:o.size.x/s.size.x|0,y:o.size.y/s.size.y|0},void 0,Array,!0),w=new J.a(B.size,void 0,void 0,!0),S=new J.a(B.size,void 0,Int32Array,!0)}(),function(){if(!i.useWorker&&typeof document<"u"){D.dom.binary=document.createElement("canvas"),D.dom.binary.className="binaryBuffer";var se=!!i.willReadFrequently;console.warn("* initCanvas willReadFrequently",se,i),D.ctx.binary=D.dom.binary.getContext("2d",{willReadFrequently:se}),D.dom.binary.width=T.size.x,D.dom.binary.height=T.size.y}}()},locate:function(){i.halfSample&&Object(ce.f)(I,o),Object(ce.i)(o,T),T.zeroBorder();var Z=function(){var ne,me,de,fe,we,z,V=[];for(ne=0;ne<K.x;ne++)for(me=0;me<K.y;me++)X(de=s.size.x*ne,fe=s.size.y*me),a.zeroBorder(),G.a.init(h.data,0),z=q.a.create(a,h).rasterize(0),we=h.moments(z.count),V=V.concat(A(we,[ne,me],de,fe));return V}();if(Z.length<K.x*K.y*.05)return null;var ae=function(ne){var me,de,fe=0,we=0;function z(){var $;for($=0;$<S.data.length;$++)if(S.data[$]===0&&w.data[$]===1)return $;return S.data.length}function V($){var ye,ge,Te,qe,Ge,tt=$%S.size.x,lt=$/S.size.x|0;if($<S.data.length)for(Te=B.data[$],S.data[$]=fe,Ge=0;Ge<R.a.searchDirections.length;Ge++)ge=lt+R.a.searchDirections[Ge][0],ye=tt+R.a.searchDirections[Ge][1],qe=ge*S.size.x+ye,w.data[qe]!==0?S.data[qe]===0&&Math.abs(ee.c.dot(B.data[qe].vec,Te.vec))>.95&&V(qe):S.data[qe]=Number.MAX_VALUE}for(G.a.init(w.data,0),G.a.init(S.data,0),G.a.init(B.data,null),me=0;me<ne.length;me++)de=ne[me],B.data[de.index]=de,w.data[de.index]=1;for(w.zeroBorder();(we=z())<S.data.length;)fe++,V(we);return fe}(Z);if(ae<1)return null;var se=function(ne){var me,de,fe=[];for(me=0;me<ne;me++)fe.push(0);for(de=S.data.length;de--;)S.data[de]>0&&fe[S.data[de]-1]++;return(fe=fe.map(function(we,z){return{val:we,label:z+1}})).sort(function(we,z){return z.val-we.val}),fe.filter(function(we){return we.val>=5})}(ae);return se.length===0?null:function(ne,me){var de,fe,we,z,V=[],$=[];for(de=0;de<ne.length;de++){for(fe=S.data.length,V.length=0;fe--;)S.data[fe]===ne[de].label&&(we=B.data[fe],V.push(we));(z=L(V))&&$.push(z)}return $}(se)},checkImageConstraints:function(Z,ae){var se,ne,me=Z.getWidth(),de=Z.getHeight(),fe=ae.halfSample?.5:1;Z.getConfig().area&&(ne=Object(ce.d)(me,de,Z.getConfig().area),Z.setTopRight({x:ne.sx,y:ne.sy}),Z.setCanvasSize({x:me,y:de}),me=ne.sw,de=ne.sh);var we={x:Math.floor(me*fe),y:Math.floor(de*fe)};if(se=Object(ce.a)(ae.patchSize,we),Z.setWidth(Math.max(Math.floor(Math.floor(we.x/se.x)*(1/fe)*se.x),se.x)),Z.setHeight(Math.max(Math.floor(Math.floor(we.y/se.y)*(1/fe)*se.y),se.y)),Z.getWidth()%se.x==0&&Z.getHeight()%se.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(me," )and height (").concat(de,") must a multiple of ").concat(se.x))}}}).call(this,t(45))},function(e,n,t){var r=t(76),i=t(77),o=t(78),a=t(79),s=t(80);function h(w){var S=-1,B=w==null?0:w.length;for(this.clear();++S<B;){var T=w[S];this.set(T[0],T[1])}}h.prototype.clear=r,h.prototype.delete=i,h.prototype.get=o,h.prototype.has=a,h.prototype.set=s,e.exports=h},function(e,n,t){var r=t(26);e.exports=function(i,o){for(var a=i.length;a--;)if(r(i[a][0],o))return a;return-1}},function(e,n){e.exports=function(t,r){return t===r||t!=t&&r!=r}},function(e,n,t){var r=t(19).Symbol;e.exports=r},function(e,n,t){var r=t(34)(Object,"create");e.exports=r},function(e,n,t){var r=t(101);e.exports=function(i,o){var a=i.__data__;return r(o)?a[typeof o=="string"?"string":"hash"]:a.map}},function(e,n,t){var r=t(116),i=t(20),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,h=r(function(){return arguments}())?r:function(w){return i(w)&&a.call(w,"callee")&&!s.call(w,"callee")};e.exports=h},function(e,n){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(r,i){var o=typeof r;return!!(i=i??9007199254740991)&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}},function(e,n,t){var r=t(16),i=t(149),o=t(150),a=t(153);e.exports=function(s,h){return r(s)?s:i(s,h)?[s]:o(a(s))}},function(e,n,t){var r=t(143),i=t(144),o=t(59),a=t(145);e.exports=function(s){return r(s)||i(s)||o(s)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(86),i=t(92);e.exports=function(o,a){var s=i(o,a);return r(s)?s:void 0}},function(e,n,t){var r=t(22),i=t(15);e.exports=function(o){if(!i(o))return!1;var a=r(o);return a=="[object Function]"||a=="[object GeneratorFunction]"||a=="[object AsyncFunction]"||a=="[object Proxy]"}},function(e,n,t){var r=t(48);e.exports=function(i,o,a){o=="__proto__"&&r?r(i,o,{configurable:!0,enumerable:!0,value:a,writable:!0}):i[o]=a}},function(e,n){e.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(e,n,t){var r=t(35),i=t(39);e.exports=function(o){return o!=null&&i(o.length)&&!r(o)}},function(e,n){e.exports=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991}},function(e,n){function t(r,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(22),i=t(20);e.exports=function(o){return typeof o=="symbol"||i(o)&&r(o)=="[object Symbol]"}},function(e,n,t){var r=t(41);e.exports=function(i){if(typeof i=="string"||r(i))return i;var o=i+"";return o=="0"&&1/i==-1/0?"-0":o}},function(e,n,t){var r=t(34)(t(19),"Map");e.exports=r},function(e,n,t){(function(r){var i=typeof r=="object"&&r&&r.Object===Object&&r;e.exports=i}).call(this,t(45))},function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}e.exports=t},function(e,n,t){var r=t(93),i=t(100),o=t(102),a=t(103),s=t(104);function h(w){var S=-1,B=w==null?0:w.length;for(this.clear();++S<B;){var T=w[S];this.set(T[0],T[1])}}h.prototype.clear=r,h.prototype.delete=i,h.prototype.get=o,h.prototype.has=a,h.prototype.set=s,e.exports=h},function(e,n,t){var r=t(36),i=t(26);e.exports=function(o,a,s){(s!==void 0&&!i(o[a],s)||s===void 0&&!(a in o))&&r(o,a,s)}},function(e,n,t){var r=t(34),i=function(){try{var o=r(Object,"defineProperty");return o({},"",{}),o}catch{}}();e.exports=i},function(e,n,t){var r=t(115)(Object.getPrototypeOf,Object);e.exports=r},function(e,n){var t=Object.prototype;e.exports=function(r){var i=r&&r.constructor;return r===(typeof i=="function"&&i.prototype||t)}},function(e,n,t){(function(r){var i=t(19),o=t(118),a=n&&!n.nodeType&&n,s=a&&typeof r=="object"&&r&&!r.nodeType&&r,h=s&&s.exports===a?i.Buffer:void 0,w=(h?h.isBuffer:void 0)||o;r.exports=w}).call(this,t(37)(e))},function(e,n,t){var r=t(120),i=t(121),o=t(122),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,n){e.exports=function(t,r){if((r!=="constructor"||typeof t[r]!="function")&&r!="__proto__")return t[r]}},function(e,n,t){var r=t(36),i=t(26),o=Object.prototype.hasOwnProperty;e.exports=function(a,s,h){var w=a[s];o.call(a,s)&&i(w,h)&&(h!==void 0||s in a)||r(a,s,h)}},function(e,n,t){var r=t(125),i=t(127),o=t(38);e.exports=function(a){return o(a)?r(a,!0):i(a)}},function(e,n){e.exports=function(t){return t}},function(e,n,t){var r=t(131),i=Math.max;e.exports=function(o,a,s){return a=i(a===void 0?o.length-1:a,0),function(){for(var h=arguments,w=-1,S=i(h.length-a,0),B=Array(S);++w<S;)B[w]=h[a+w];w=-1;for(var T=Array(a+1);++w<a;)T[w]=h[w];return T[a]=s(B),r(o,this,T)}}},function(e,n,t){var r=t(132),i=t(134)(r);e.exports=i},function(e,n,t){var r=t(60);e.exports=function(i,o){if(i){if(typeof i=="string")return r(i,o);var a=Object.prototype.toString.call(i).slice(8,-1);return a==="Object"&&i.constructor&&(a=i.constructor.name),a==="Map"||a==="Set"?Array.from(i):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(i,o):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(t,r){(r==null||r>t.length)&&(r=t.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(13).default,i=t(140);e.exports=function(o){var a=i(o,"string");return r(a)==="symbol"?a:String(a)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(137),i=t(138),o=t(59),a=t(139);e.exports=function(s,h){return r(s)||i(s,h)||o(s,h)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(146),i=t(160)(function(o,a){return o==null?{}:r(o,a)});e.exports=i},function(e,n,t){var r=t(2),i=t(40),o=t(165),a=t(166);function s(h){var w=typeof Map=="function"?new Map:void 0;return e.exports=s=function(S){if(S===null||!o(S))return S;if(typeof S!="function")throw new TypeError("Super expression must either be null or a function");if(w!==void 0){if(w.has(S))return w.get(S);w.set(S,B)}function B(){return a(S,arguments,r(this).constructor)}return B.prototype=Object.create(S.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),i(B,S)},e.exports.__esModule=!0,e.exports.default=e.exports,s(h)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){"use strict";var r=t(21),i={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(o,a){var s=o.data,h=a.data,w=o.size.x,S=o.size.y,B=r.a.create(o,a);return{rasterize:function(T){var W,ee,J,ce,G,q,R,M,I,j,D,K,L=[],X=0;for(K=0;K<400;K++)L[K]=0;for(L[0]=s[0],I=null,q=1;q<S-1;q++)for(ce=0,ee=L[0],G=1;G<w-1;G++)if(h[D=q*w+G]===0)if((W=s[D])!==ee){if(ce===0)L[J=X+1]=W,ee=W,(R=B.contourTracing(q,G,J,W,i.DIR.OUTSIDE_EDGE))!==null&&(X++,ce=J,(M=i.createContour2D()).dir=i.CONTOUR_DIR.CW_DIR,M.index=ce,M.firstVertex=R,M.nextpeer=I,M.insideContours=null,I!==null&&(I.prevpeer=M),I=M);else if((R=B.contourTracing(q,G,i.DIR.INSIDE_EDGE,W,ce))!==null){for((M=i.createContour2D()).firstVertex=R,M.insideContours=null,M.dir=T===0?i.CONTOUR_DIR.CCW_DIR:i.CONTOUR_DIR.CW_DIR,M.index=T,j=I;j!==null&&j.index!==ce;)j=j.nextpeer;j!==null&&(M.nextpeer=j.insideContours,j.insideContours!==null&&(j.insideContours.prevpeer=M),j.insideContours=M)}}else h[D]=ce;else h[D]===i.DIR.OUTSIDE_EDGE||h[D]===i.DIR.INSIDE_EDGE?(ce=0,ee=h[D]===i.DIR.INSIDE_EDGE?s[D]:L[0]):ee=L[ce=h[D]];for(j=I;j!==null;)j.index=T,j=j.nextpeer;return{cc:I,count:X}},debug:{drawContour:function(T,W){var ee,J,ce,G=T.getContext("2d"),q=W;for(G.strokeStyle="red",G.fillStyle="red",G.lineWidth=1,ee=q!==null?q.insideContours:null;q!==null;){switch(ee!==null?(J=ee,ee=ee.nextpeer):(J=q,ee=(q=q.nextpeer)!==null?q.insideContours:null),J.dir){case i.CONTOUR_DIR.CW_DIR:G.strokeStyle="red";break;case i.CONTOUR_DIR.CCW_DIR:G.strokeStyle="blue";break;case i.CONTOUR_DIR.UNKNOWN_DIR:G.strokeStyle="green"}ce=J.firstVertex,G.beginPath(),G.moveTo(ce.x,ce.y);do ce=ce.next,G.lineTo(ce.x,ce.y);while(ce!==J.firstVertex);G.stroke()}}}}}};n.a=i},function(e,n,t){"use strict";n.a=function(r,i,o){var a=new r.Uint8Array(o),s=i.size|0,h=r.Math.imul;function w(q,R){q|=0,R|=0;var M=0,I=0,j=0,D=0,K=0,L=0,X=0,A=0;for(M=1;(M|0)<(s-1|0);M=M+1|0)for(A=A+s|0,I=1;(I|0)<(s-1|0);I=I+1|0)D=A-s|0,K=A+s|0,L=I-1|0,X=I+1|0,j=(a[q+D+L|0]|0)+(a[q+D+X|0]|0)+(a[q+A+I|0]|0)+(a[q+K+L|0]|0)+(a[q+K+X|0]|0)|0,(j|0)==5?a[R+A+I|0]=1:a[R+A+I|0]=0}function S(q,R,M){q|=0,R|=0,M|=0;var I=0;for(I=h(s,s)|0;(I|0)>0;)I=I-1|0,a[M+I|0]=(a[q+I|0]|0)-(a[R+I|0]|0)|0}function B(q,R,M){q|=0,R|=0,M|=0;var I=0;for(I=h(s,s)|0;(I|0)>0;)I=I-1|0,a[M+I|0]=a[q+I|0]|0|(a[R+I|0]|0)|0}function T(q){q|=0;var R=0,M=0;for(M=h(s,s)|0;(M|0)>0;)M=M-1|0,R=(R|0)+(a[q+M|0]|0)|0;return R|0}function W(q,R){q|=0,R|=0;var M=0;for(M=h(s,s)|0;(M|0)>0;)M=M-1|0,a[q+M|0]=R}function ee(q,R){q|=0,R|=0;var M=0,I=0,j=0,D=0,K=0,L=0,X=0,A=0;for(M=1;(M|0)<(s-1|0);M=M+1|0)for(A=A+s|0,I=1;(I|0)<(s-1|0);I=I+1|0)D=A-s|0,K=A+s|0,L=I-1|0,X=I+1|0,j=(a[q+D+L|0]|0)+(a[q+D+X|0]|0)+(a[q+A+I|0]|0)+(a[q+K+L|0]|0)+(a[q+K+X|0]|0)|0,(j|0)>0?a[R+A+I|0]=1:a[R+A+I|0]=0}function J(q,R){q|=0,R|=0;var M=0;for(M=h(s,s)|0;(M|0)>0;)M=M-1|0,a[R+M|0]=a[q+M|0]|0}function ce(q){q|=0;var R=0,M=0;for(R=0;(R|0)<(s-1|0);R=R+1|0)a[q+R|0]=0,a[q+M|0]=0,M=M+s-1|0,a[q+M|0]=0,M=M+1|0;for(R=0;(R|0)<(s|0);R=R+1|0)a[q+M|0]=0,M=M+1|0}function G(){var q=0,R=0,M=0,I=0,j=0,D=0;R=h(s,s)|0,M=R+R|0,I=M+R|0,W(I,0),ce(q);do w(q,R),ee(R,M),S(q,M,M),B(I,M,I),J(R,q),j=T(q)|0,D=(j|0)==0|0;while(!D)}return{skeletonize:G}}},,,,,,,function(e,n,t){e.exports=t(168)},function(e,n,t){var r=t(75),i=t(47),o=t(105),a=t(107),s=t(15),h=t(55),w=t(53);e.exports=function S(B,T,W,ee,J){B!==T&&o(T,function(ce,G){if(J||(J=new r),s(ce))a(B,T,G,W,S,ee,J);else{var q=ee?ee(w(B,G),ce,G+"",B,T,J):void 0;q===void 0&&(q=ce),i(B,G,q)}},h)}},function(e,n,t){var r=t(24),i=t(81),o=t(82),a=t(83),s=t(84),h=t(85);function w(S){var B=this.__data__=new r(S);this.size=B.size}w.prototype.clear=i,w.prototype.delete=o,w.prototype.get=a,w.prototype.has=s,w.prototype.set=h,e.exports=w},function(e,n){e.exports=function(){this.__data__=[],this.size=0}},function(e,n,t){var r=t(25),i=Array.prototype.splice;e.exports=function(o){var a=this.__data__,s=r(a,o);return!(s<0)&&(s==a.length-1?a.pop():i.call(a,s,1),--this.size,!0)}},function(e,n,t){var r=t(25);e.exports=function(i){var o=this.__data__,a=r(o,i);return a<0?void 0:o[a][1]}},function(e,n,t){var r=t(25);e.exports=function(i){return r(this.__data__,i)>-1}},function(e,n,t){var r=t(25);e.exports=function(i,o){var a=this.__data__,s=r(a,i);return s<0?(++this.size,a.push([i,o])):a[s][1]=o,this}},function(e,n,t){var r=t(24);e.exports=function(){this.__data__=new r,this.size=0}},function(e,n){e.exports=function(t){var r=this.__data__,i=r.delete(t);return this.size=r.size,i}},function(e,n){e.exports=function(t){return this.__data__.get(t)}},function(e,n){e.exports=function(t){return this.__data__.has(t)}},function(e,n,t){var r=t(24),i=t(43),o=t(46);e.exports=function(a,s){var h=this.__data__;if(h instanceof r){var w=h.__data__;if(!i||w.length<199)return w.push([a,s]),this.size=++h.size,this;h=this.__data__=new o(w)}return h.set(a,s),this.size=h.size,this}},function(e,n,t){var r=t(35),i=t(89),o=t(15),a=t(91),s=/^\[object .+?Constructor\]$/,h=Function.prototype,w=Object.prototype,S=h.toString,B=w.hasOwnProperty,T=RegExp("^"+S.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(W){return!(!o(W)||i(W))&&(r(W)?T:s).test(a(W))}},function(e,n,t){var r=t(27),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(h){var w=o.call(h,s),S=h[s];try{h[s]=void 0;var B=!0}catch{}var T=a.call(h);return B&&(w?h[s]=S:delete h[s]),T}},function(e,n){var t=Object.prototype.toString;e.exports=function(r){return t.call(r)}},function(e,n,t){var r,i=t(90),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(a){return!!o&&o in a}},function(e,n,t){var r=t(19)["__core-js_shared__"];e.exports=r},function(e,n){var t=Function.prototype.toString;e.exports=function(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}},function(e,n){e.exports=function(t,r){return t?.[r]}},function(e,n,t){var r=t(94),i=t(24),o=t(43);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,n,t){var r=t(95),i=t(96),o=t(97),a=t(98),s=t(99);function h(w){var S=-1,B=w==null?0:w.length;for(this.clear();++S<B;){var T=w[S];this.set(T[0],T[1])}}h.prototype.clear=r,h.prototype.delete=i,h.prototype.get=o,h.prototype.has=a,h.prototype.set=s,e.exports=h},function(e,n,t){var r=t(28);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,n){e.exports=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}},function(e,n,t){var r=t(28),i=Object.prototype.hasOwnProperty;e.exports=function(o){var a=this.__data__;if(r){var s=a[o];return s==="__lodash_hash_undefined__"?void 0:s}return i.call(a,o)?a[o]:void 0}},function(e,n,t){var r=t(28),i=Object.prototype.hasOwnProperty;e.exports=function(o){var a=this.__data__;return r?a[o]!==void 0:i.call(a,o)}},function(e,n,t){var r=t(28);e.exports=function(i,o){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=r&&o===void 0?"__lodash_hash_undefined__":o,this}},function(e,n,t){var r=t(29);e.exports=function(i){var o=r(this,i).delete(i);return this.size-=o?1:0,o}},function(e,n){e.exports=function(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}},function(e,n,t){var r=t(29);e.exports=function(i){return r(this,i).get(i)}},function(e,n,t){var r=t(29);e.exports=function(i){return r(this,i).has(i)}},function(e,n,t){var r=t(29);e.exports=function(i,o){var a=r(this,i),s=a.size;return a.set(i,o),this.size+=a.size==s?0:1,this}},function(e,n,t){var r=t(106)();e.exports=r},function(e,n){e.exports=function(t){return function(r,i,o){for(var a=-1,s=Object(r),h=o(r),w=h.length;w--;){var S=h[t?w:++a];if(i(s[S],S,s)===!1)break}return r}}},function(e,n,t){var r=t(47),i=t(108),o=t(109),a=t(112),s=t(113),h=t(30),w=t(16),S=t(117),B=t(51),T=t(35),W=t(15),ee=t(119),J=t(52),ce=t(53),G=t(123);e.exports=function(q,R,M,I,j,D,K){var L=ce(q,M),X=ce(R,M),A=K.get(X);if(A)r(q,M,A);else{var Z=D?D(L,X,M+"",q,R,K):void 0,ae=Z===void 0;if(ae){var se=w(X),ne=!se&&B(X),me=!se&&!ne&&J(X);Z=X,se||ne||me?w(L)?Z=L:S(L)?Z=a(L):ne?(ae=!1,Z=i(X,!0)):me?(ae=!1,Z=o(X,!0)):Z=[]:ee(X)||h(X)?(Z=L,h(L)?Z=G(L):W(L)&&!T(L)||(Z=s(X))):ae=!1}ae&&(K.set(X,Z),j(Z,X,I,D,K),K.delete(X)),r(q,M,Z)}}},function(e,n,t){(function(r){var i=t(19),o=n&&!n.nodeType&&n,a=o&&typeof r=="object"&&r&&!r.nodeType&&r,s=a&&a.exports===o?i.Buffer:void 0,h=s?s.allocUnsafe:void 0;r.exports=function(w,S){if(S)return w.slice();var B=w.length,T=h?h(B):new w.constructor(B);return w.copy(T),T}}).call(this,t(37)(e))},function(e,n,t){var r=t(110);e.exports=function(i,o){var a=o?r(i.buffer):i.buffer;return new i.constructor(a,i.byteOffset,i.length)}},function(e,n,t){var r=t(111);e.exports=function(i){var o=new i.constructor(i.byteLength);return new r(o).set(new r(i)),o}},function(e,n,t){var r=t(19).Uint8Array;e.exports=r},function(e,n){e.exports=function(t,r){var i=-1,o=t.length;for(r||(r=Array(o));++i<o;)r[i]=t[i];return r}},function(e,n,t){var r=t(114),i=t(49),o=t(50);e.exports=function(a){return typeof a.constructor!="function"||o(a)?{}:r(i(a))}},function(e,n,t){var r=t(15),i=Object.create,o=function(){function a(){}return function(s){if(!r(s))return{};if(i)return i(s);a.prototype=s;var h=new a;return a.prototype=void 0,h}}();e.exports=o},function(e,n){e.exports=function(t,r){return function(i){return t(r(i))}}},function(e,n,t){var r=t(22),i=t(20);e.exports=function(o){return i(o)&&r(o)=="[object Arguments]"}},function(e,n,t){var r=t(38),i=t(20);e.exports=function(o){return i(o)&&r(o)}},function(e,n){e.exports=function(){return!1}},function(e,n,t){var r=t(22),i=t(49),o=t(20),a=Function.prototype,s=Object.prototype,h=a.toString,w=s.hasOwnProperty,S=h.call(Object);e.exports=function(B){if(!o(B)||r(B)!="[object Object]")return!1;var T=i(B);if(T===null)return!0;var W=w.call(T,"constructor")&&T.constructor;return typeof W=="function"&&W instanceof W&&h.call(W)==S}},function(e,n,t){var r=t(22),i=t(39),o=t(20),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(s){return o(s)&&i(s.length)&&!!a[r(s)]}},function(e,n){e.exports=function(t){return function(r){return t(r)}}},function(e,n,t){(function(r){var i=t(44),o=n&&!n.nodeType&&n,a=o&&typeof r=="object"&&r&&!r.nodeType&&r,s=a&&a.exports===o&&i.process,h=function(){try{var w=a&&a.require&&a.require("util").types;return w||s&&s.binding&&s.binding("util")}catch{}}();r.exports=h}).call(this,t(37)(e))},function(e,n,t){var r=t(124),i=t(55);e.exports=function(o){return r(o,i(o))}},function(e,n,t){var r=t(54),i=t(36);e.exports=function(o,a,s,h){var w=!s;s||(s={});for(var S=-1,B=a.length;++S<B;){var T=a[S],W=h?h(s[T],o[T],T,s,o):void 0;W===void 0&&(W=o[T]),w?i(s,T,W):r(s,T,W)}return s}},function(e,n,t){var r=t(126),i=t(30),o=t(16),a=t(51),s=t(31),h=t(52),w=Object.prototype.hasOwnProperty;e.exports=function(S,B){var T=o(S),W=!T&&i(S),ee=!T&&!W&&a(S),J=!T&&!W&&!ee&&h(S),ce=T||W||ee||J,G=ce?r(S.length,String):[],q=G.length;for(var R in S)!B&&!w.call(S,R)||ce&&(R=="length"||ee&&(R=="offset"||R=="parent")||J&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||s(R,q))||G.push(R);return G}},function(e,n){e.exports=function(t,r){for(var i=-1,o=Array(t);++i<t;)o[i]=r(i);return o}},function(e,n,t){var r=t(15),i=t(50),o=t(128),a=Object.prototype.hasOwnProperty;e.exports=function(s){if(!r(s))return o(s);var h=i(s),w=[];for(var S in s)(S!="constructor"||!h&&a.call(s,S))&&w.push(S);return w}},function(e,n){e.exports=function(t){var r=[];if(t!=null)for(var i in Object(t))r.push(i);return r}},function(e,n,t){var r=t(130),i=t(135);e.exports=function(o){return r(function(a,s){var h=-1,w=s.length,S=w>1?s[w-1]:void 0,B=w>2?s[2]:void 0;for(S=o.length>3&&typeof S=="function"?(w--,S):void 0,B&&i(s[0],s[1],B)&&(S=w<3?void 0:S,w=1),a=Object(a);++h<w;){var T=s[h];T&&o(a,T,h,S)}return a})}},function(e,n,t){var r=t(56),i=t(57),o=t(58);e.exports=function(a,s){return o(i(a,s,r),a+"")}},function(e,n){e.exports=function(t,r,i){switch(i.length){case 0:return t.call(r);case 1:return t.call(r,i[0]);case 2:return t.call(r,i[0],i[1]);case 3:return t.call(r,i[0],i[1],i[2])}return t.apply(r,i)}},function(e,n,t){var r=t(133),i=t(48),o=t(56),a=i?function(s,h){return i(s,"toString",{configurable:!0,enumerable:!1,value:r(h),writable:!0})}:o;e.exports=a},function(e,n){e.exports=function(t){return function(){return t}}},function(e,n){var t=Date.now;e.exports=function(r){var i=0,o=0;return function(){var a=t(),s=16-(a-o);if(o=a,s>0){if(++i>=800)return arguments[0]}else i=0;return r.apply(void 0,arguments)}}},function(e,n,t){var r=t(26),i=t(38),o=t(31),a=t(15);e.exports=function(s,h,w){if(!a(w))return!1;var S=typeof h;return!!(S=="number"?i(w)&&o(h,w.length):S=="string"&&h in w)&&r(w[h],s)}},function(e,n){typeof window<"u"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})),typeof Math.imul!="function"&&(Math.imul=function(t,r){var i=65535&t,o=65535&r;return i*o+((t>>>16&65535)*o+i*(r>>>16&65535)<<16>>>0)|0}),typeof Object.assign!="function"&&(Object.assign=function(t){"use strict";if(t===null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(o!==null)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])}return r})},function(e,n){e.exports=function(t){if(Array.isArray(t))return t},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(t,r){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var o,a,s,h,w=[],S=!0,B=!1;try{if(s=(i=i.call(t)).next,r===0){if(Object(i)!==i)return;S=!1}else for(;!(S=(o=s.call(i)).done)&&(w.push(o.value),w.length!==r);S=!0);}catch(T){B=!0,a=T}finally{try{if(!S&&i.return!=null&&(h=i.return(),Object(h)!==h))return}finally{if(B)throw a}}return w}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(13).default;e.exports=function(i,o){if(r(i)!=="object"||i===null)return i;var a=i[Symbol.toPrimitive];if(a!==void 0){var s=a.call(i,o||"default");if(r(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(13).default;function i(){"use strict";e.exports=i=function(){return a},e.exports.__esModule=!0,e.exports.default=e.exports;var o,a={},s=Object.prototype,h=s.hasOwnProperty,w=Object.defineProperty||function(z,V,$){z[V]=$.value},S=typeof Symbol=="function"?Symbol:{},B=S.iterator||"@@iterator",T=S.asyncIterator||"@@asyncIterator",W=S.toStringTag||"@@toStringTag";function ee(z,V,$){return Object.defineProperty(z,V,{value:$,enumerable:!0,configurable:!0,writable:!0}),z[V]}try{ee({},"")}catch{ee=function(V,$,ye){return V[$]=ye}}function J(z,V,$,ye){var ge=V&&V.prototype instanceof I?V:I,Te=Object.create(ge.prototype),qe=new fe(ye||[]);return w(Te,"_invoke",{value:se(z,$,qe)}),Te}function ce(z,V,$){try{return{type:"normal",arg:z.call(V,$)}}catch(ye){return{type:"throw",arg:ye}}}a.wrap=J;var G="suspendedStart",q="executing",R="completed",M={};function I(){}function j(){}function D(){}var K={};ee(K,B,function(){return this});var L=Object.getPrototypeOf,X=L&&L(L(we([])));X&&X!==s&&h.call(X,B)&&(K=X);var A=D.prototype=I.prototype=Object.create(K);function Z(z){["next","throw","return"].forEach(function(V){ee(z,V,function($){return this._invoke(V,$)})})}function ae(z,V){function $(ge,Te,qe,Ge){var tt=ce(z[ge],z,Te);if(tt.type!=="throw"){var lt=tt.arg,ft=lt.value;return ft&&r(ft)=="object"&&h.call(ft,"__await")?V.resolve(ft.__await).then(function(dt){$("next",dt,qe,Ge)},function(dt){$("throw",dt,qe,Ge)}):V.resolve(ft).then(function(dt){lt.value=dt,qe(lt)},function(dt){return $("throw",dt,qe,Ge)})}Ge(tt.arg)}var ye;w(this,"_invoke",{value:function(ge,Te){function qe(){return new V(function(Ge,tt){$(ge,Te,Ge,tt)})}return ye=ye?ye.then(qe,qe):qe()}})}function se(z,V,$){var ye=G;return function(ge,Te){if(ye===q)throw new Error("Generator is already running");if(ye===R){if(ge==="throw")throw Te;return{value:o,done:!0}}for($.method=ge,$.arg=Te;;){var qe=$.delegate;if(qe){var Ge=ne(qe,$);if(Ge){if(Ge===M)continue;return Ge}}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(ye===G)throw ye=R,$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);ye=q;var tt=ce(z,V,$);if(tt.type==="normal"){if(ye=$.done?R:"suspendedYield",tt.arg===M)continue;return{value:tt.arg,done:$.done}}tt.type==="throw"&&(ye=R,$.method="throw",$.arg=tt.arg)}}}function ne(z,V){var $=V.method,ye=z.iterator[$];if(ye===o)return V.delegate=null,$==="throw"&&z.iterator.return&&(V.method="return",V.arg=o,ne(z,V),V.method==="throw")||$!=="return"&&(V.method="throw",V.arg=new TypeError("The iterator does not provide a '"+$+"' method")),M;var ge=ce(ye,z.iterator,V.arg);if(ge.type==="throw")return V.method="throw",V.arg=ge.arg,V.delegate=null,M;var Te=ge.arg;return Te?Te.done?(V[z.resultName]=Te.value,V.next=z.nextLoc,V.method!=="return"&&(V.method="next",V.arg=o),V.delegate=null,M):Te:(V.method="throw",V.arg=new TypeError("iterator result is not an object"),V.delegate=null,M)}function me(z){var V={tryLoc:z[0]};1 in z&&(V.catchLoc=z[1]),2 in z&&(V.finallyLoc=z[2],V.afterLoc=z[3]),this.tryEntries.push(V)}function de(z){var V=z.completion||{};V.type="normal",delete V.arg,z.completion=V}function fe(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(me,this),this.reset(!0)}function we(z){if(z||z===""){var V=z[B];if(V)return V.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var $=-1,ye=function ge(){for(;++$<z.length;)if(h.call(z,$))return ge.value=z[$],ge.done=!1,ge;return ge.value=o,ge.done=!0,ge};return ye.next=ye}}throw new TypeError(r(z)+" is not iterable")}return j.prototype=D,w(A,"constructor",{value:D,configurable:!0}),w(D,"constructor",{value:j,configurable:!0}),j.displayName=ee(D,W,"GeneratorFunction"),a.isGeneratorFunction=function(z){var V=typeof z=="function"&&z.constructor;return!!V&&(V===j||(V.displayName||V.name)==="GeneratorFunction")},a.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,D):(z.__proto__=D,ee(z,W,"GeneratorFunction")),z.prototype=Object.create(A),z},a.awrap=function(z){return{__await:z}},Z(ae.prototype),ee(ae.prototype,T,function(){return this}),a.AsyncIterator=ae,a.async=function(z,V,$,ye,ge){ge===void 0&&(ge=Promise);var Te=new ae(J(z,V,$,ye),ge);return a.isGeneratorFunction(V)?Te:Te.next().then(function(qe){return qe.done?qe.value:Te.next()})},Z(A),ee(A,W,"Generator"),ee(A,B,function(){return this}),ee(A,"toString",function(){return"[object Generator]"}),a.keys=function(z){var V=Object(z),$=[];for(var ye in V)$.push(ye);return $.reverse(),function ge(){for(;$.length;){var Te=$.pop();if(Te in V)return ge.value=Te,ge.done=!1,ge}return ge.done=!0,ge}},a.values=we,fe.prototype={constructor:fe,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(de),!z)for(var V in this)V.charAt(0)==="t"&&h.call(this,V)&&!isNaN(+V.slice(1))&&(this[V]=o)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var V=this;function $(tt,lt){return Te.type="throw",Te.arg=z,V.next=tt,lt&&(V.method="next",V.arg=o),!!lt}for(var ye=this.tryEntries.length-1;ye>=0;--ye){var ge=this.tryEntries[ye],Te=ge.completion;if(ge.tryLoc==="root")return $("end");if(ge.tryLoc<=this.prev){var qe=h.call(ge,"catchLoc"),Ge=h.call(ge,"finallyLoc");if(qe&&Ge){if(this.prev<ge.catchLoc)return $(ge.catchLoc,!0);if(this.prev<ge.finallyLoc)return $(ge.finallyLoc)}else if(qe){if(this.prev<ge.catchLoc)return $(ge.catchLoc,!0)}else{if(!Ge)throw new Error("try statement without catch or finally");if(this.prev<ge.finallyLoc)return $(ge.finallyLoc)}}}},abrupt:function(z,V){for(var $=this.tryEntries.length-1;$>=0;--$){var ye=this.tryEntries[$];if(ye.tryLoc<=this.prev&&h.call(ye,"finallyLoc")&&this.prev<ye.finallyLoc){var ge=ye;break}}ge&&(z==="break"||z==="continue")&&ge.tryLoc<=V&&V<=ge.finallyLoc&&(ge=null);var Te=ge?ge.completion:{};return Te.type=z,Te.arg=V,ge?(this.method="next",this.next=ge.finallyLoc,M):this.complete(Te)},complete:function(z,V){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&V&&(this.next=V),M},finish:function(z){for(var V=this.tryEntries.length-1;V>=0;--V){var $=this.tryEntries[V];if($.finallyLoc===z)return this.complete($.completion,$.afterLoc),de($),M}},catch:function(z){for(var V=this.tryEntries.length-1;V>=0;--V){var $=this.tryEntries[V];if($.tryLoc===z){var ye=$.completion;if(ye.type==="throw"){var ge=ye.arg;de($)}return ge}}throw new Error("illegal catch attempt")},delegateYield:function(z,V,$){return this.delegate={iterator:we(z),resultName:V,nextLoc:$},this.method==="next"&&(this.arg=o),M}},a}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(2);e.exports=function(i,o){for(;!Object.prototype.hasOwnProperty.call(i,o)&&(i=r(i))!==null;);return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(60);e.exports=function(i){if(Array.isArray(i))return r(i)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(147),i=t(157);e.exports=function(o,a){return r(o,a,function(s,h){return i(o,h)})}},function(e,n,t){var r=t(148),i=t(156),o=t(32);e.exports=function(a,s,h){for(var w=-1,S=s.length,B={};++w<S;){var T=s[w],W=r(a,T);h(W,T)&&i(B,o(T,a),W)}return B}},function(e,n,t){var r=t(32),i=t(42);e.exports=function(o,a){for(var s=0,h=(a=r(a,o)).length;o!=null&&s<h;)o=o[i(a[s++])];return s&&s==h?o:void 0}},function(e,n,t){var r=t(16),i=t(41),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(s,h){if(r(s))return!1;var w=typeof s;return!(w!="number"&&w!="symbol"&&w!="boolean"&&s!=null&&!i(s))||a.test(s)||!o.test(s)||h!=null&&s in Object(h)}},function(e,n,t){var r=t(151),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(s){var h=[];return s.charCodeAt(0)===46&&h.push(""),s.replace(i,function(w,S,B,T){h.push(B?T.replace(o,"$1"):S||w)}),h});e.exports=a},function(e,n,t){var r=t(152);e.exports=function(i){var o=r(i,function(s){return a.size===500&&a.clear(),s}),a=o.cache;return o}},function(e,n,t){var r=t(46);function i(o,a){if(typeof o!="function"||a!=null&&typeof a!="function")throw new TypeError("Expected a function");var s=function(){var h=arguments,w=a?a.apply(this,h):h[0],S=s.cache;if(S.has(w))return S.get(w);var B=o.apply(this,h);return s.cache=S.set(w,B)||S,B};return s.cache=new(i.Cache||r),s}i.Cache=r,e.exports=i},function(e,n,t){var r=t(154);e.exports=function(i){return i==null?"":r(i)}},function(e,n,t){var r=t(27),i=t(155),o=t(16),a=t(41),s=r?r.prototype:void 0,h=s?s.toString:void 0;e.exports=function w(S){if(typeof S=="string")return S;if(o(S))return i(S,w)+"";if(a(S))return h?h.call(S):"";var B=S+"";return B=="0"&&1/S==-1/0?"-0":B}},function(e,n){e.exports=function(t,r){for(var i=-1,o=t==null?0:t.length,a=Array(o);++i<o;)a[i]=r(t[i],i,t);return a}},function(e,n,t){var r=t(54),i=t(32),o=t(31),a=t(15),s=t(42);e.exports=function(h,w,S,B){if(!a(h))return h;for(var T=-1,W=(w=i(w,h)).length,ee=W-1,J=h;J!=null&&++T<W;){var ce=s(w[T]),G=S;if(ce==="__proto__"||ce==="constructor"||ce==="prototype")return h;if(T!=ee){var q=J[ce];(G=B?B(q,ce,J):void 0)===void 0&&(G=a(q)?q:o(w[T+1])?[]:{})}r(J,ce,G),J=J[ce]}return h}},function(e,n,t){var r=t(158),i=t(159);e.exports=function(o,a){return o!=null&&i(o,a,r)}},function(e,n){e.exports=function(t,r){return t!=null&&r in Object(t)}},function(e,n,t){var r=t(32),i=t(30),o=t(16),a=t(31),s=t(39),h=t(42);e.exports=function(w,S,B){for(var T=-1,W=(S=r(S,w)).length,ee=!1;++T<W;){var J=h(S[T]);if(!(ee=w!=null&&B(w,J)))break;w=w[J]}return ee||++T!=W?ee:!!(W=w==null?0:w.length)&&s(W)&&a(J,W)&&(o(w)||i(w))}},function(e,n,t){var r=t(161),i=t(57),o=t(58);e.exports=function(a){return o(i(a,void 0,r),a+"")}},function(e,n,t){var r=t(162);e.exports=function(i){return i!=null&&i.length?r(i,1):[]}},function(e,n,t){var r=t(163),i=t(164);e.exports=function o(a,s,h,w,S){var B=-1,T=a.length;for(h||(h=i),S||(S=[]);++B<T;){var W=a[B];s>0&&h(W)?s>1?o(W,s-1,h,w,S):r(S,W):w||(S[S.length]=W)}return S}},function(e,n){e.exports=function(t,r){for(var i=-1,o=r.length,a=t.length;++i<o;)t[a+i]=r[i];return t}},function(e,n,t){var r=t(27),i=t(30),o=t(16),a=r?r.isConcatSpreadable:void 0;e.exports=function(s){return o(s)||i(s)||!!(a&&s&&s[a])}},function(e,n){e.exports=function(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(40),i=t(167);function o(a,s,h){return i()?(e.exports=o=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(w,S,B){var T=[null];T.push.apply(T,S);var W=new(Function.bind.apply(w,T));return B&&r(W,B.prototype),W},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){"use strict";t.r(n),t.d(n,"BarcodeDecoder",function(){return lr}),t.d(n,"Readers",function(){return r}),t.d(n,"CameraAccess",function(){return On}),t.d(n,"ImageDebug",function(){return W.a}),t.d(n,"ImageWrapper",function(){return h.a}),t.d(n,"ResultCollector",function(){return fi});var r={};t.r(r),t.d(r,"BarcodeReader",function(){return se}),t.d(r,"TwoOfFiveReader",function(){return z}),t.d(r,"NewCodabarReader",function(){return Te}),t.d(r,"Code128Reader",function(){return Ge}),t.d(r,"Code32Reader",function(){return zr}),t.d(r,"Code39Reader",function(){return wn}),t.d(r,"Code39VINReader",function(){return rr}),t.d(r,"Code93Reader",function(){return $r}),t.d(r,"EAN2Reader",function(){return Zr}),t.d(r,"EAN5Reader",function(){return Jr}),t.d(r,"EAN8Reader",function(){return ei}),t.d(r,"EANReader",function(){return Ft}),t.d(r,"I2of5Reader",function(){return ti}),t.d(r,"UPCEReader",function(){return ri}),t.d(r,"UPCReader",function(){return ii});var i=t(13),o=t.n(i),a=t(18),s=t.n(a),h=(t(136),t(11)),w=t(12),S=t.n(w),B=t(8),T=t.n(B),W=t(17),ee=t(3),J=t.n(ee),ce=t(4),G=t.n(ce),q=t(1),R=t.n(q),M=t(7),I=t.n(M),j=t(6),D=t.n(j),K=t(2),L=t.n(K),X=t(0),A=t.n(X),Z=t(9),ae=function(g){return g[g.Forward=1]="Forward",g[g.Reverse=-1]="Reverse",g}({}),se=function(){function g(x,p){J()(this,g),A()(this,"_row",[]),A()(this,"config",{}),A()(this,"supplements",[]),A()(this,"SINGLE_CODE_ERROR",0),A()(this,"FORMAT","unknown"),A()(this,"CONFIG_KEYS",{}),this._row=[],this.config=x||{},p&&(this.supplements=p)}return G()(g,[{key:"_nextUnset",value:function(x){for(var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=p;l<x.length;l++)if(!x[l])return l;return x.length}},{key:"_matchPattern",value:function(x,p){for(var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.SINGLE_CODE_ERROR||1,u=0,c=0,f=0,v=0,b=0,_=0,C=0,P=0;P<x.length;P++)f+=x[P],v+=p[P];if(f<v)return Number.MAX_VALUE;l*=b=f/v;for(var H=0;H<x.length;H++){if(_=x[H],C=p[H]*b,(c=Math.abs(_-C)/C)>l)return Number.MAX_VALUE;u+=c}return u/v}},{key:"_nextSet",value:function(x){for(var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=p;l<x.length;l++)if(x[l])return l;return x.length}},{key:"_correctBars",value:function(x,p,l){for(var u=l.length,c=0;u--;)(c=x[l[u]]*(1-(1-p)/2))>1&&(x[l[u]]=c)}},{key:"decodePattern",value:function(x){this._row=x;var p=this.decode();return p===null?(this._row.reverse(),(p=this.decode())&&(p.direction=ae.Reverse,p.start=this._row.length-p.start,p.end=this._row.length-p.end)):p.direction=ae.Forward,p&&(p.format=this.FORMAT),p}},{key:"_matchRange",value:function(x,p,l){var u;for(u=x=x<0?0:x;u<p;u++)if(this._row[u]!==l)return!1;return!0}},{key:"_fillCounters",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._nextUnset(this._row),p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._row.length,l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=[],c=0;u[c]=0;for(var f=x;f<p;f++)this._row[f]^(l?1:0)?u[c]++:(u[++c]=1,l=!l);return u}},{key:"_toCounters",value:function(x,p){var l=p.length,u=this._row.length,c=!this._row[x],f=0;Z.a.init(p,0);for(var v=x;v<u;v++)if(this._row[v]^(c?1:0))p[f]++;else{if(++f===l)break;p[f]=1,c=!c}return p}},{key:"decodeImage",value:function(x){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),g}();function ne(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var u=L()(this).constructor;p=Reflect.construct(l,arguments,u)}else p=l.apply(this,arguments);return D()(this,p)}}var me=[3,1,3,1,1,1],de=[3,1,1,1,3],fe=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],we=me.reduce(function(g,x){return g+x},0),z=function(g){I()(p,g);var x=ne(p);function p(){var l;J()(this,p);for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=x.call.apply(x,[this].concat(c)),A()(R()(l),"barSpaceRatio",[1,1]),A()(R()(l),"FORMAT","2of5"),A()(R()(l),"SINGLE_CODE_ERROR",.78),A()(R()(l),"AVG_CODE_ERROR",.3),l}return G()(p,[{key:"_findPattern",value:function(l,u){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=[],b=0,_={error:Number.MAX_VALUE,code:-1,start:0,end:0},C=0,P=0,H=this.AVG_CODE_ERROR;u||(u=this._nextSet(this._row));for(var re=0;re<l.length;re++)v[re]=0;for(var Y=u;Y<this._row.length;Y++)if(this._row[Y]^(c?1:0))v[b]++;else{if(b===v.length-1){C=0;for(var le=0;le<v.length;le++)C+=v[le];if((P=this._matchPattern(v,l))<H)return _.error=P,_.start=Y-C,_.end=Y,_;if(!f)return null;for(var Me=0;Me<v.length-2;Me++)v[Me]=v[Me+2];v[v.length-2]=0,v[v.length-1]=0,b--}else b++;v[b]=1,c=!c}return null}},{key:"_findStart",value:function(){for(var l=null,u=this._nextSet(this._row),c=1,f=0;!l;){if(!(l=this._findPattern(me,u,!1,!0)))return null;if(c=Math.floor((l.end-l.start)/we),(f=l.start-5*c)>=0&&this._matchRange(f,l.start,0))return l;u=l.end,l=null}return l}},{key:"_verifyTrailingWhitespace",value:function(l){var u=l.end+(l.end-l.start)/2;return u<this._row.length&&this._matchRange(l.end,u,0)?l:null}},{key:"_findEnd",value:function(){this._row.reverse();var l=this._nextSet(this._row),u=this._findPattern(de,l,!1,!0);if(this._row.reverse(),u===null)return null;var c=u.start;return u.start=this._row.length-u.end,u.end=this._row.length-c,u!==null?this._verifyTrailingWhitespace(u):null}},{key:"_verifyCounterLength",value:function(l){return l.length%10==0}},{key:"_decodeCode",value:function(l){for(var u=this.AVG_CODE_ERROR,c={error:Number.MAX_VALUE,code:-1,start:0,end:0},f=0;f<fe.length;f++){var v=this._matchPattern(l,fe[f]);v<c.error&&(c.code=f,c.error=v)}return c.error<u?c:null}},{key:"_decodePayload",value:function(l,u,c){for(var f=0,v=l.length,b=[0,0,0,0,0],_=null;f<v;){for(var C=0;C<5;C++)b[C]=l[f]*this.barSpaceRatio[0],f+=2;if(!(_=this._decodeCode(b)))return null;u.push("".concat(_.code)),c.push(_)}return _}},{key:"decode",value:function(l,u){var c=this._findStart();if(!c)return null;var f=this._findEnd();if(!f)return null;var v=this._fillCounters(c.end,f.start,!1);if(!this._verifyCounterLength(v))return null;var b=[];b.push(c);var _=[];return this._decodePayload(v,_,b)?_.length<5?null:(b.push(f),{code:_.join(""),start:c.start,end:f.end,startInfo:c,decodedCodes:b,format:this.FORMAT}):null}}]),p}(se);function V(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var u=L()(this).constructor;p=Reflect.construct(l,arguments,u)}else p=l.apply(this,arguments);return D()(this,p)}}var $=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],ye=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],ge=[26,41,11,14],Te=function(g){I()(p,g);var x=V(p);function p(){var l;J()(this,p);for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=x.call.apply(x,[this].concat(c)),A()(R()(l),"_counters",[]),A()(R()(l),"FORMAT","codabar"),l}return G()(p,[{key:"_computeAlternatingThreshold",value:function(l,u){for(var c=Number.MAX_VALUE,f=0,v=0,b=l;b<u;b+=2)(v=this._counters[b])>f&&(f=v),v<c&&(c=v);return(c+f)/2|0}},{key:"_toPattern",value:function(l){var u=l+7;if(u>this._counters.length)return-1;for(var c=this._computeAlternatingThreshold(l,u),f=this._computeAlternatingThreshold(l+1,u),v=64,b=0,_=0,C=0;C<7;C++)b=1&C?f:c,this._counters[l+C]>b&&(_|=v),v>>=1;return _}},{key:"_isStartEnd",value:function(l){for(var u=0;u<ge.length;u++)if(ge[u]===l)return!0;return!1}},{key:"_sumCounters",value:function(l,u){for(var c=0,f=l;f<u;f++)c+=this._counters[f];return c}},{key:"_findStart",value:function(){for(var l=this._nextUnset(this._row),u=1;u<this._counters.length;u++){var c=this._toPattern(u);if(c!==-1&&this._isStartEnd(c))return{start:l+=this._sumCounters(0,u),end:l+this._sumCounters(u,u+8),startCounter:u,endCounter:u+8}}return null}},{key:"_patternToChar",value:function(l){for(var u=0;u<ye.length;u++)if(ye[u]===l)return String.fromCharCode($[u]);return null}},{key:"_calculatePatternLength",value:function(l){for(var u=0,c=l;c<l+7;c++)u+=this._counters[c];return u}},{key:"_verifyWhitespace",value:function(l,u){return(l-1<=0||this._counters[l-1]>=this._calculatePatternLength(l)/2)&&(u+8>=this._counters.length||this._counters[u+7]>=this._calculatePatternLength(u)/2)}},{key:"_charToPattern",value:function(l){for(var u=l.charCodeAt(0),c=0;c<$.length;c++)if($[c]===u)return ye[c];return 0}},{key:"_thresholdResultPattern",value:function(l,u){for(var c,f={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},v=u,b=0;b<l.length;b++){c=this._charToPattern(l[b]);for(var _=6;_>=0;_--){var C=(1&_)==2?f.bar:f.space,P=(1&c)==1?C.wide:C.narrow;P.size+=this._counters[v+_],P.counts++,c>>=1}v+=8}return["space","bar"].forEach(function(H){var re=f[H];re.wide.min=Math.floor((re.narrow.size/re.narrow.counts+re.wide.size/re.wide.counts)/2),re.narrow.max=Math.ceil(re.wide.min),re.wide.max=Math.ceil((2*re.wide.size+1.5)/re.wide.counts)}),f}},{key:"_validateResult",value:function(l,u){for(var c,f=this._thresholdResultPattern(l,u),v=u,b=0;b<l.length;b++){c=this._charToPattern(l[b]);for(var _=6;_>=0;_--){var C=1&_?f.space:f.bar,P=(1&c)==1?C.wide:C.narrow,H=this._counters[v+_];if(H<P.min||H>P.max)return!1;c>>=1}v+=8}return!0}},{key:"decode",value:function(l,u){if(this._counters=this._fillCounters(),!(u=this._findStart()))return null;var c,f=u.startCounter,v=[];do{if((c=this._toPattern(f))<0)return null;var b=this._patternToChar(c);if(b===null)return null;if(v.push(b),f+=8,v.length>1&&this._isStartEnd(c))break}while(f<this._counters.length);if(v.length-2<4||!this._isStartEnd(c)||!this._verifyWhitespace(u.startCounter,f-8)||!this._validateResult(v,u.startCounter))return null;f=f>this._counters.length?this._counters.length:f;var _=u.start+this._sumCounters(u.startCounter,f-8);return{code:v.join(""),start:u.start,end:_,startInfo:u,decodedCodes:v,format:this.FORMAT}}}]),p}(se);function qe(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var u=L()(this).constructor;p=Reflect.construct(l,arguments,u)}else p=l.apply(this,arguments);return D()(this,p)}}var Ge=function(g){I()(p,g);var x=qe(p);function p(){var l;J()(this,p);for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=x.call.apply(x,[this].concat(c)),A()(R()(l),"CODE_SHIFT",98),A()(R()(l),"CODE_C",99),A()(R()(l),"CODE_B",100),A()(R()(l),"CODE_A",101),A()(R()(l),"START_CODE_A",103),A()(R()(l),"START_CODE_B",104),A()(R()(l),"START_CODE_C",105),A()(R()(l),"STOP_CODE",106),A()(R()(l),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),A()(R()(l),"SINGLE_CODE_ERROR",.64),A()(R()(l),"AVG_CODE_ERROR",.3),A()(R()(l),"FORMAT","code_128"),A()(R()(l),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),l}return G()(p,[{key:"_decodeCode",value:function(l,u){for(var c={error:Number.MAX_VALUE,code:-1,start:l,end:l,correction:{bar:1,space:1}},f=[0,0,0,0,0,0],v=l,b=!this._row[v],_=0,C=v;C<this._row.length;C++)if(this._row[C]^(b?1:0))f[_]++;else{if(_===f.length-1){u&&this._correct(f,u);for(var P=0;P<this.CODE_PATTERN.length;P++){var H=this._matchPattern(f,this.CODE_PATTERN[P]);H<c.error&&(c.code=P,c.error=H)}return c.end=C,c.code===-1||c.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[c.code]&&(c.correction.bar=this.calculateCorrection(this.CODE_PATTERN[c.code],f,this.MODULE_INDICES.bar),c.correction.space=this.calculateCorrection(this.CODE_PATTERN[c.code],f,this.MODULE_INDICES.space)),c)}f[++_]=1,b=!b}return null}},{key:"_correct",value:function(l,u){this._correctBars(l,u.bar,this.MODULE_INDICES.bar),this._correctBars(l,u.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var l=[0,0,0,0,0,0],u=this._nextSet(this._row),c={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},f=!1,v=0,b=u;b<this._row.length;b++)if(this._row[b]^(f?1:0))l[v]++;else{if(v===l.length-1){for(var _=l.reduce(function(re,Y){return re+Y},0),C=this.START_CODE_A;C<=this.START_CODE_C;C++){var P=this._matchPattern(l,this.CODE_PATTERN[C]);P<c.error&&(c.code=C,c.error=P)}if(c.error<this.AVG_CODE_ERROR)return c.start=b-_,c.end=b,c.correction.bar=this.calculateCorrection(this.CODE_PATTERN[c.code],l,this.MODULE_INDICES.bar),c.correction.space=this.calculateCorrection(this.CODE_PATTERN[c.code],l,this.MODULE_INDICES.space),c;for(var H=0;H<4;H++)l[H]=l[H+2];l[4]=0,l[5]=0,v--}else v++;l[v]=1,f=!f}return null}},{key:"decode",value:function(l,u){var c=this,f=this._findStart();if(f===null)return null;var v={code:f.code,start:f.start,end:f.end,correction:{bar:f.correction.bar,space:f.correction.space}},b=[];b.push(v);for(var _=v.code,C=function(Ee){switch(Ee){case c.START_CODE_A:return c.CODE_A;case c.START_CODE_B:return c.CODE_B;case c.START_CODE_C:return c.CODE_C;default:return null}}(v.code),P=!1,H=!1,re=H,Y=!0,le=0,Me=[],De=[];!P;){if(re=H,H=!1,(v=this._decodeCode(v.end,v.correction))!==null)switch(v.code!==this.STOP_CODE&&(Y=!0),v.code!==this.STOP_CODE&&(Me.push(v.code),_+=++le*v.code),b.push(v),C){case this.CODE_A:if(v.code<64)De.push(String.fromCharCode(32+v.code));else if(v.code<96)De.push(String.fromCharCode(v.code-64));else switch(v.code!==this.STOP_CODE&&(Y=!1),v.code){case this.CODE_SHIFT:H=!0,C=this.CODE_B;break;case this.CODE_B:C=this.CODE_B;break;case this.CODE_C:C=this.CODE_C;break;case this.STOP_CODE:P=!0}break;case this.CODE_B:if(v.code<96)De.push(String.fromCharCode(32+v.code));else switch(v.code!==this.STOP_CODE&&(Y=!1),v.code){case this.CODE_SHIFT:H=!0,C=this.CODE_A;break;case this.CODE_A:C=this.CODE_A;break;case this.CODE_C:C=this.CODE_C;break;case this.STOP_CODE:P=!0}break;case this.CODE_C:if(v.code<100)De.push(v.code<10?"0"+v.code:v.code);else switch(v.code!==this.STOP_CODE&&(Y=!1),v.code){case this.CODE_A:C=this.CODE_A;break;case this.CODE_B:C=this.CODE_B;break;case this.STOP_CODE:P=!0}}else P=!0;re&&(C=C===this.CODE_A?this.CODE_B:this.CODE_A)}return v===null?null:(v.end=this._nextUnset(this._row,v.end),this._verifyTrailingWhitespace(v)?(_-=le*Me[Me.length-1])%103!==Me[Me.length-1]?null:De.length?(Y&&De.splice(De.length-1,1),{code:De.join(""),start:f.start,end:v.end,codeset:C,startInfo:f,decodedCodes:b,endInfo:v,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(l){var u;return(u=l.end+(l.end-l.start)/2)<this._row.length&&this._matchRange(l.end,u,0)?l:null}},{key:"calculateCorrection",value:function(l,u,c){for(var f=c.length,v=0,b=0;f--;)b+=l[c[f]],v+=u[c[f]];return b/v}}]),p}(se),tt=t(14),lt=t.n(tt),ft=t(33),dt=t.n(ft);function jr(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var u=L()(this).constructor;p=Reflect.construct(l,arguments,u)}else p=l.apply(this,arguments);return D()(this,p)}}var wo=new Uint16Array(dt()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(g){return g.charCodeAt(0)})),Ur=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),wn=function(g){I()(p,g);var x=jr(p);function p(){var l;J()(this,p);for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=x.call.apply(x,[this].concat(c)),A()(R()(l),"FORMAT","code_39"),l}return G()(p,[{key:"_findStart",value:function(){for(var l=this._nextSet(this._row),u=l,c=new Uint16Array([0,0,0,0,0,0,0,0,0]),f=0,v=!1,b=l;b<this._row.length;b++)if(this._row[b]^(v?1:0))c[f]++;else{if(f===c.length-1){if(this._toPattern(c)===148){var _=Math.floor(Math.max(0,u-(b-u)/4));if(this._matchRange(_,u,0))return{start:u,end:b}}u+=c[0]+c[1];for(var C=0;C<7;C++)c[C]=c[C+2];c[7]=0,c[8]=0,f--}else f++;c[f]=1,v=!v}return null}},{key:"_toPattern",value:function(l){for(var u=l.length,c=0,f=u,v=0;f>3;){c=this._findNextWidth(l,c),f=0;for(var b=0,_=0;_<u;_++)l[_]>c&&(b|=1<<u-1-_,f++,v+=l[_]);if(f===3){for(var C=0;C<u&&f>0;C++)if(l[C]>c&&(f--,2*l[C]>=v))return-1;return b}}return-1}},{key:"_findNextWidth",value:function(l,u){for(var c=Number.MAX_VALUE,f=0;f<l.length;f++)l[f]<c&&l[f]>u&&(c=l[f]);return c}},{key:"_patternToChar",value:function(l){for(var u=0;u<Ur.length;u++)if(Ur[u]===l)return String.fromCharCode(wo[u]);return null}},{key:"_verifyTrailingWhitespace",value:function(l,u,c){var f=Z.a.sum(c);return 3*(u-l-f)>=f}},{key:"decode",value:function(){var l=new Uint16Array([0,0,0,0,0,0,0,0,0]),u=[],c=this._findStart();if(!c)return null;var f,v,b=this._nextSet(this._row,c.end);do{l=this._toCounters(b,l);var _=this._toPattern(l);if(_<0||(f=this._patternToChar(_))===null)return null;u.push(f),v=b,b+=Z.a.sum(l),b=this._nextSet(this._row,b)}while(f!=="*");return u.pop(),u.length&&this._verifyTrailingWhitespace(v,b,l)?{code:u.join(""),start:c.start,end:b,startInfo:c,decodedCodes:u,format:this.FORMAT}:null}}]),p}(se);function So(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var u=L()(this).constructor;p=Reflect.construct(l,arguments,u)}else p=l.apply(this,arguments);return D()(this,p)}}var Oo=/[AEIO]/g,zr=function(g){I()(p,g);var x=So(p);function p(){var l;J()(this,p);for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=x.call.apply(x,[this].concat(c)),A()(R()(l),"FORMAT","code_32_reader"),l}return G()(p,[{key:"_decodeCode32",value:function(l){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(l))return null;for(var u=0,c=0;c<l.length;c++)u=32*u+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(l[c]);var f="".concat(u);return f.length<9&&(f=("000000000"+f).slice(-9)),"A"+f}},{key:"_checkChecksum",value:function(l){return!!l}},{key:"decode",value:function(){var l=lt()(L()(p.prototype),"decode",this).call(this);if(!l)return null;var u=l.code;if(!u||(u=u.replace(Oo,""),!this._checkChecksum(u)))return null;var c=this._decodeCode32(u);return c?(l.code=c,l):null}}]),p}(wn);function Mo(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var u=L()(this).constructor;p=Reflect.construct(l,arguments,u)}else p=l.apply(this,arguments);return D()(this,p)}}var Vr=/[IOQ]/g,Gr=/[A-Z0-9]{17}/,rr=function(g){I()(p,g);var x=Mo(p);function p(){var l;J()(this,p);for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=x.call.apply(x,[this].concat(c)),A()(R()(l),"FORMAT","code_39_vin"),l}return G()(p,[{key:"_checkChecksum",value:function(l){return!!l}},{key:"decode",value:function(){var l=lt()(L()(p.prototype),"decode",this).call(this);if(!l)return null;var u=l.code;return u&&(u=u.replace(Vr,"")).match(Gr)&&this._checkChecksum(u)?(l.code=u,l):null}}]),p}(wn);function Hr(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var u=L()(this).constructor;p=Reflect.construct(l,arguments,u)}else p=l.apply(this,arguments);return D()(this,p)}}var ir=new Uint16Array(dt()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(g){return g.charCodeAt(0)})),Wr=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),$r=function(g){I()(p,g);var x=Hr(p);function p(){var l;J()(this,p);for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=x.call.apply(x,[this].concat(c)),A()(R()(l),"FORMAT","code_93"),l}return G()(p,[{key:"_patternToChar",value:function(l){for(var u=0;u<Wr.length;u++)if(Wr[u]===l)return String.fromCharCode(ir[u]);return null}},{key:"_toPattern",value:function(l){for(var u=l.length,c=l.reduce(function(C,P){return C+P},0),f=0,v=0;v<u;v++){var b=Math.round(9*l[v]/c);if(b<1||b>4)return-1;if(1&v)f<<=b;else for(var _=0;_<b;_++)f=f<<1|1}return f}},{key:"_findStart",value:function(){for(var l=this._nextSet(this._row),u=l,c=new Uint16Array([0,0,0,0,0,0]),f=0,v=!1,b=l;b<this._row.length;b++)if(this._row[b]^(v?1:0))c[f]++;else{if(f===c.length-1){if(this._toPattern(c)===350){var _=Math.floor(Math.max(0,u-(b-u)/4));if(this._matchRange(_,u,0))return{start:u,end:b}}u+=c[0]+c[1];for(var C=0;C<4;C++)c[C]=c[C+2];c[4]=0,c[5]=0,f--}else f++;c[f]=1,v=!v}return null}},{key:"_verifyEnd",value:function(l,u){return!(l===u||!this._row[u])}},{key:"_decodeExtended",value:function(l){for(var u=l.length,c=[],f=0;f<u;f++){var v=l[f];if(v>="a"&&v<="d"){if(f>u-2)return null;var b=l[++f],_=b.charCodeAt(0),C=void 0;switch(v){case"a":if(!(b>="A"&&b<="Z"))return null;C=String.fromCharCode(_-64);break;case"b":if(b>="A"&&b<="E")C=String.fromCharCode(_-38);else if(b>="F"&&b<="J")C=String.fromCharCode(_-11);else if(b>="K"&&b<="O")C=String.fromCharCode(_+16);else if(b>="P"&&b<="S")C=String.fromCharCode(_+43);else{if(!(b>="T"&&b<="Z"))return null;C="\x7F"}break;case"c":if(b>="A"&&b<="O")C=String.fromCharCode(_-32);else{if(b!=="Z")return null;C=":"}break;case"d":if(!(b>="A"&&b<="Z"))return null;C=String.fromCharCode(_+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",C),null}c.push(C)}else c.push(v)}return c}},{key:"_matchCheckChar",value:function(l,u,c){var f=l.slice(0,u),v=f.length,b=f.reduce(function(_,C,P){return _+((-1*P+(v-1))%c+1)*ir.indexOf(C.charCodeAt(0))},0);return ir[b%47]===l[u].charCodeAt(0)}},{key:"_verifyChecksums",value:function(l){return this._matchCheckChar(l,l.length-2,20)&&this._matchCheckChar(l,l.length-1,15)}},{key:"decode",value:function(l,u){if(!(u=this._findStart()))return null;var c,f,v=new Uint16Array([0,0,0,0,0,0]),b=[],_=this._nextSet(this._row,u.end);do{v=this._toCounters(_,v);var C=this._toPattern(v);if(C<0||(f=this._patternToChar(C))===null)return null;b.push(f),c=_,_+=Z.a.sum(v),_=this._nextSet(this._row,_)}while(f!=="*");return b.pop(),b.length&&this._verifyEnd(c,_)&&this._verifyChecksums(b)?(b=b.slice(0,b.length-2),(b=this._decodeExtended(b))===null?null:{code:b.join(""),start:u.start,end:_,startInfo:u,decodedCodes:b,format:this.FORMAT}):null}}]),p}(se);function Qr(g,x){var p=Object.keys(g);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(g);x&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(g,u).enumerable})),p.push.apply(p,l)}return p}function or(g){for(var x=1;x<arguments.length;x++){var p=arguments[x]!=null?arguments[x]:{};x%2?Qr(Object(p),!0).forEach(function(l){A()(g,l,p[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(p)):Qr(Object(p)).forEach(function(l){Object.defineProperty(g,l,Object.getOwnPropertyDescriptor(p,l))})}return g}function Eo(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var u=L()(this).constructor;p=Reflect.construct(l,arguments,u)}else p=l.apply(this,arguments);return D()(this,p)}}var Po=[1,1,1],Xr=[1,1,1,1,1],Io=[1,1,2],Yr=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Kr=[0,11,13,14,19,25,28,21,22,26],Ft=function(g){I()(p,g);var x=Eo(p);function p(l,u){var c;return J()(this,p),c=x.call(this,s()({supplements:[]},l),u),A()(R()(c),"FORMAT","ean_13"),A()(R()(c),"SINGLE_CODE_ERROR",.7),A()(R()(c),"STOP_PATTERN",[1,1,1]),c}return G()(p,[{key:"_findPattern",value:function(l,u,c,f){var v=new Array(l.length).fill(0),b={error:Number.MAX_VALUE,start:0,end:0},_=0;u||(u=this._nextSet(this._row));for(var C=!1,P=u;P<this._row.length;P++)if(this._row[P]^(c?1:0))v[_]+=1;else{if(_===v.length-1){var H=this._matchPattern(v,l);if(H<.48&&b.error&&H<b.error)return C=!0,b.error=H,b.start=P-v.reduce(function(Y,le){return Y+le},0),b.end=P,b;if(f){for(var re=0;re<v.length-2;re++)v[re]=v[re+2];v[v.length-2]=0,v[v.length-1]=0,_--}}else _++;v[_]=1,c=!c}return C?b:null}},{key:"_decodeCode",value:function(l,u){var c=[0,0,0,0],f=l,v={error:Number.MAX_VALUE,code:-1,start:l,end:l},b=!this._row[f],_=0;u||(u=Yr.length);for(var C=f;C<this._row.length;C++)if(this._row[C]^(b?1:0))c[_]++;else{if(_===c.length-1){for(var P=0;P<u;P++){var H=this._matchPattern(c,Yr[P]);v.end=C,H<v.error&&(v.code=P,v.error=H)}return v.error>.48?null:v}c[++_]=1,b=!b}return null}},{key:"_findStart",value:function(){for(var l=this._nextSet(this._row),u=null;!u;){if(!(u=this._findPattern(Po,l,!1,!0)))return null;var c=u.start-(u.end-u.start);if(c>=0&&this._matchRange(c,u.start,0))return u;l=u.end,u=null}return null}},{key:"_calculateFirstDigit",value:function(l){for(var u=0;u<Kr.length;u++)if(l===Kr[u])return u;return null}},{key:"_decodePayload",value:function(l,u,c){for(var f=or({},l),v=0,b=0;b<6;b++){if(!(f=this._decodeCode(f.end)))return null;f.code>=10?(f.code-=10,v|=1<<5-b):v|=0<<5-b,u.push(f.code),c.push(f)}var _=this._calculateFirstDigit(v);if(_===null)return null;u.unshift(_);var C=this._findPattern(Xr,f.end,!0,!1);if(C===null||!C.end)return null;c.push(C);for(var P=0;P<6;P++){if(!(C=this._decodeCode(C.end,10)))return null;c.push(C),u.push(C.code)}return C}},{key:"_verifyTrailingWhitespace",value:function(l){var u=l.end+(l.end-l.start);return u<this._row.length&&this._matchRange(l.end,u,0)?l:null}},{key:"_findEnd",value:function(l,u){var c=this._findPattern(this.STOP_PATTERN,l,u,!1);return c!==null?this._verifyTrailingWhitespace(c):null}},{key:"_checksum",value:function(l){for(var u=0,c=l.length-2;c>=0;c-=2)u+=l[c];u*=3;for(var f=l.length-1;f>=0;f-=2)u+=l[f];return u%10==0}},{key:"_decodeExtensions",value:function(l){var u=this._nextSet(this._row,l),c=this._findPattern(Io,u,!1,!1);if(c===null)return null;for(var f=0;f<this.supplements.length;f++)try{var v=this.supplements[f].decode(this._row,c.end);if(v!==null)return{code:v.code,start:u,startInfo:c,end:v.end,decodedCodes:v.decodedCodes,format:this.supplements[f].FORMAT}}catch(b){console.error("* decodeExtensions error in ",this.supplements[f],": ",b)}return null}},{key:"decode",value:function(l,u){var c=new Array,f=new Array,v={},b=this._findStart();if(!b)return null;var _={start:b.start,end:b.end};if(f.push(_),!(_=this._decodePayload(_,c,f))||!(_=this._findEnd(_.end,!1))||(f.push(_),!this._checksum(c)))return null;if(this.supplements.length>0){var C=this._decodeExtensions(_.end);if(!C||!C.decodedCodes)return null;var P=C.decodedCodes[C.decodedCodes.length-1],H={start:P.start+((P.end-P.start)/2|0),end:P.end};if(!this._verifyTrailingWhitespace(H))return null;v={supplement:C,code:c.join("")+C.code}}return or(or({code:c.join(""),start:b.start,end:_.end,startInfo:b,decodedCodes:f},v),{},{format:this.FORMAT})}}]),p}(se);function To(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var u=L()(this).constructor;p=Reflect.construct(l,arguments,u)}else p=l.apply(this,arguments);return D()(this,p)}}var Zr=function(g){I()(p,g);var x=To(p);function p(){var l;J()(this,p);for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=x.call.apply(x,[this].concat(c)),A()(R()(l),"FORMAT","ean_2"),l}return G()(p,[{key:"decode",value:function(l,u){l&&(this._row=l);var c=0,f=u,v=this._row.length,b=[],_=[],C=null;if(f===void 0)return null;for(var P=0;P<2&&f<v;P++){if(!(C=this._decodeCode(f)))return null;_.push(C),b.push(C.code%10),C.code>=10&&(c|=1<<1-P),P!==1&&(f=this._nextSet(this._row,C.end),f=this._nextUnset(this._row,f))}if(b.length!==2||parseInt(b.join(""))%4!==c)return null;var H=this._findStart();return{code:b.join(""),decodedCodes:_,end:C.end,format:this.FORMAT,startInfo:H,start:H.start}}}]),p}(Ft);function Ro(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var u=L()(this).constructor;p=Reflect.construct(l,arguments,u)}else p=l.apply(this,arguments);return D()(this,p)}}var Do=[24,20,18,17,12,6,3,10,9,5],Jr=function(g){I()(p,g);var x=Ro(p);function p(){var l;J()(this,p);for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=x.call.apply(x,[this].concat(c)),A()(R()(l),"FORMAT","ean_5"),l}return G()(p,[{key:"decode",value:function(l,u){if(u===void 0)return null;l&&(this._row=l);for(var c=0,f=u,v=this._row.length,b=null,_=[],C=[],P=0;P<5&&f<v;P++){if(!(b=this._decodeCode(f)))return null;C.push(b),_.push(b.code%10),b.code>=10&&(c|=1<<4-P),P!==4&&(f=this._nextSet(this._row,b.end),f=this._nextUnset(this._row,f))}if(_.length!==5||function(re){for(var Y=re.length,le=0,Me=Y-2;Me>=0;Me-=2)le+=re[Me];le*=3;for(var De=Y-1;De>=0;De-=2)le+=re[De];return(le*=3)%10}(_)!==function(re){for(var Y=0;Y<10;Y++)if(re===Do[Y])return Y;return null}(c))return null;var H=this._findStart();return{code:_.join(""),decodedCodes:C,end:b.end,format:this.FORMAT,startInfo:H,start:H.start}}}]),p}(Ft);function qt(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var u=L()(this).constructor;p=Reflect.construct(l,arguments,u)}else p=l.apply(this,arguments);return D()(this,p)}}var ei=function(g){I()(p,g);var x=qt(p);function p(){var l;J()(this,p);for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=x.call.apply(x,[this].concat(c)),A()(R()(l),"FORMAT","ean_8"),l}return G()(p,[{key:"_decodePayload",value:function(l,u,c){for(var f=l,v=0;v<4;v++){if(!(f=this._decodeCode(f.end,10)))return null;u.push(f.code),c.push(f)}if((f=this._findPattern(Xr,f.end,!0,!1))===null)return null;c.push(f);for(var b=0;b<4;b++){if(!(f=this._decodeCode(f.end,10)))return null;c.push(f),u.push(f.code)}return f}}]),p}(Ft);function Ao(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var u=L()(this).constructor;p=Reflect.construct(l,arguments,u)}else p=l.apply(this,arguments);return D()(this,p)}}var ti=function(g){I()(p,g);var x=Ao(p);function p(l){var u;return J()(this,p),u=x.call(this,s()({normalizeBarSpaceWidth:!1},l)),A()(R()(u),"barSpaceRatio",[1,1]),A()(R()(u),"SINGLE_CODE_ERROR",.78),A()(R()(u),"AVG_CODE_ERROR",.38),A()(R()(u),"START_PATTERN",[1,1,1,1]),A()(R()(u),"STOP_PATTERN",[1,1,3]),A()(R()(u),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),A()(R()(u),"MAX_CORRECTION_FACTOR",5),A()(R()(u),"FORMAT","i2of5"),l.normalizeBarSpaceWidth&&(u.SINGLE_CODE_ERROR=.38,u.AVG_CODE_ERROR=.09),u.config=l,D()(u,R()(u))}return G()(p,[{key:"_matchPattern",value:function(l,u){if(this.config.normalizeBarSpaceWidth){for(var c=[0,0],f=[0,0],v=[0,0],b=this.MAX_CORRECTION_FACTOR,_=1/b,C=0;C<l.length;C++)c[C%2]+=l[C],f[C%2]+=u[C];v[0]=f[0]/c[0],v[1]=f[1]/c[1],v[0]=Math.max(Math.min(v[0],b),_),v[1]=Math.max(Math.min(v[1],b),_),this.barSpaceRatio=v;for(var P=0;P<l.length;P++)l[P]*=this.barSpaceRatio[P%2]}return lt()(L()(p.prototype),"_matchPattern",this).call(this,l,u)}},{key:"_findPattern",value:function(l,u){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=new Array(l.length).fill(0),b=0,_={error:Number.MAX_VALUE,start:0,end:0},C=this.AVG_CODE_ERROR;c=c||!1,f=f||!1,u||(u=this._nextSet(this._row));for(var P=u;P<this._row.length;P++)if(this._row[P]^(c?1:0))v[b]++;else{if(b===v.length-1){var H=v.reduce(function(le,Me){return le+Me},0),re=this._matchPattern(v,l);if(re<C)return _.error=re,_.start=P-H,_.end=P,_;if(!f)return null;for(var Y=0;Y<v.length-2;Y++)v[Y]=v[Y+2];v[v.length-2]=0,v[v.length-1]=0,b--}else b++;v[b]=1,c=!c}return null}},{key:"_findStart",value:function(){for(var l=0,u=this._nextSet(this._row),c=null,f=1;!c;){if(!(c=this._findPattern(this.START_PATTERN,u,!1,!0)))return null;if(f=Math.floor((c.end-c.start)/4),(l=c.start-10*f)>=0&&this._matchRange(l,c.start,0))return c;u=c.end,c=null}return null}},{key:"_verifyTrailingWhitespace",value:function(l){var u=l.end+(l.end-l.start)/2;return u<this._row.length&&this._matchRange(l.end,u,0)?l:null}},{key:"_findEnd",value:function(){this._row.reverse();var l=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),l===null)return null;var u=l.start;return l.start=this._row.length-l.end,l.end=this._row.length-u,l!==null?this._verifyTrailingWhitespace(l):null}},{key:"_decodePair",value:function(l){for(var u=[],c=0;c<l.length;c++){var f=this._decodeCode(l[c]);if(!f)return null;u.push(f)}return u}},{key:"_decodeCode",value:function(l){for(var u=this.AVG_CODE_ERROR,c={error:Number.MAX_VALUE,code:-1,start:0,end:0},f=0;f<this.CODE_PATTERN.length;f++){var v=this._matchPattern(l,this.CODE_PATTERN[f]);v<c.error&&(c.code=f,c.error=v)}return c.error<u?c:null}},{key:"_decodePayload",value:function(l,u,c){for(var f=0,v=l.length,b=[[0,0,0,0,0],[0,0,0,0,0]],_=null;f<v;){for(var C=0;C<5;C++)b[0][C]=l[f]*this.barSpaceRatio[0],b[1][C]=l[f+1]*this.barSpaceRatio[1],f+=2;if(!(_=this._decodePair(b)))return null;for(var P=0;P<_.length;P++)u.push(_[P].code+""),c.push(_[P])}return _}},{key:"_verifyCounterLength",value:function(l){return l.length%10==0}},{key:"decode",value:function(l,u){var c=new Array,f=new Array,v=this._findStart();if(!v)return null;f.push(v);var b=this._findEnd();if(!b)return null;var _=this._fillCounters(v.end,b.start,!1);return this._verifyCounterLength(_)&&this._decodePayload(_,c,f)?c.length%2!=0||c.length<6?null:(f.push(b),{code:c.join(""),start:v.start,end:b.end,startInfo:v,decodedCodes:f,format:this.FORMAT}):null}}]),p}(se);function ni(g,x){var p=Object.keys(g);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(g);x&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(g,u).enumerable})),p.push.apply(p,l)}return p}function ko(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var u=L()(this).constructor;p=Reflect.construct(l,arguments,u)}else p=l.apply(this,arguments);return D()(this,p)}}var ri=function(g){I()(p,g);var x=ko(p);function p(){var l;J()(this,p);for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=x.call.apply(x,[this].concat(c)),A()(R()(l),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),A()(R()(l),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),A()(R()(l),"FORMAT","upc_e"),l}return G()(p,[{key:"_decodePayload",value:function(l,u,c){for(var f=function(_){for(var C=1;C<arguments.length;C++){var P=arguments[C]!=null?arguments[C]:{};C%2?ni(Object(P),!0).forEach(function(H){A()(_,H,P[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(P)):ni(Object(P)).forEach(function(H){Object.defineProperty(_,H,Object.getOwnPropertyDescriptor(P,H))})}return _}({},l),v=0,b=0;b<6;b++){if(!(f=this._decodeCode(f.end)))return null;f.code>=10&&(f.code=f.code-10,v|=1<<5-b),u.push(f.code),c.push(f)}return this._determineParity(v,u)?f:null}},{key:"_determineParity",value:function(l,u){for(var c=0;c<this.CODE_FREQUENCY.length;c++)for(var f=0;f<this.CODE_FREQUENCY[c].length;f++)if(l===this.CODE_FREQUENCY[c][f])return u.unshift(c),u.push(f),!0;return!1}},{key:"_convertToUPCA",value:function(l){var u=[l[0]],c=l[l.length-2];return(u=c<=2?u.concat(l.slice(1,3)).concat([c,0,0,0,0]).concat(l.slice(3,6)):c===3?u.concat(l.slice(1,4)).concat([0,0,0,0,0]).concat(l.slice(4,6)):c===4?u.concat(l.slice(1,5)).concat([0,0,0,0,0,l[5]]):u.concat(l.slice(1,6)).concat([0,0,0,0,c])).push(l[l.length-1]),u}},{key:"_checksum",value:function(l){return lt()(L()(p.prototype),"_checksum",this).call(this,this._convertToUPCA(l))}},{key:"_findEnd",value:function(l,u){return lt()(L()(p.prototype),"_findEnd",this).call(this,l,!0)}},{key:"_verifyTrailingWhitespace",value:function(l){var u=l.end+(l.end-l.start)/2;return u<this._row.length&&this._matchRange(l.end,u,0)?l:null}}]),p}(Ft);function Fo(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var u=L()(this).constructor;p=Reflect.construct(l,arguments,u)}else p=l.apply(this,arguments);return D()(this,p)}}var ii=function(g){I()(p,g);var x=Fo(p);function p(){var l;J()(this,p);for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=x.call.apply(x,[this].concat(c)),A()(R()(l),"FORMAT","upc_a"),l}return G()(p,[{key:"decode",value:function(l,u){var c=Ft.prototype.decode.call(this);return c&&c.code&&c.code.length===13&&c.code.charAt(0)==="0"?(c.code=c.code.substring(1),c):null}}]),p}(Ft),an={},Sn={UP:1,DOWN:-1};an.getBarcodeLine=function(g,x,p){var l,u,c,f,v,b=0|x.x,_=0|x.y,C=0|p.x,P=0|p.y,H=Math.abs(P-_)>Math.abs(C-b),re=[],Y=g.data,le=g.size.x,Me=255,De=0;function Ee(cn,ta){v=Y[ta*le+cn],Me=v<Me?v:Me,De=v>De?v:De,re.push(v)}H&&(c=b,b=_,_=c,c=C,C=P,P=c),b>C&&(c=b,b=C,C=c,c=_,_=P,P=c);var ze=C-b,nt=Math.abs(P-_);l=ze/2|0,u=_;var pt=_<P?1:-1;for(f=b;f<C;f++)H?Ee(u,f):Ee(f,u),(l-=nt)<0&&(u+=pt,l+=ze);return{line:re,min:Me,max:De}},an.toBinaryLine=function(g){var x,p,l,u,c,f,v=g.min,b=g.max,_=g.line,C=v+(b-v)/2,P=[],H=(b-v)/12,re=-H;for(l=_[0]>C?Sn.UP:Sn.DOWN,P.push({pos:0,val:_[0]}),c=0;c<_.length-2;c++)l!==(u=(x=_[c+1]-_[c])+(p=_[c+2]-_[c+1])<re&&_[c+1]<1.5*C?Sn.DOWN:x+p>H&&_[c+1]>.5*C?Sn.UP:l)&&(P.push({pos:c,val:_[c]}),l=u);for(P.push({pos:_.length,val:_[_.length-1]}),f=P[0].pos;f<P[1].pos;f++)_[f]=_[f]>C?0:1;for(c=1;c<P.length-1;c++)for(H=P[c+1].val>P[c].val?P[c].val+(P[c+1].val-P[c].val)/3*2|0:P[c+1].val+(P[c].val-P[c+1].val)/3|0,f=P[c].pos;f<P[c+1].pos;f++)_[f]=_[f]>H?0:1;return{line:_,threshold:H}},an.debug={printFrequency:function(g,x){var p,l=x.getContext("2d");for(x.width=g.length,x.height=256,l.beginPath(),l.strokeStyle="blue",p=0;p<g.length;p++)l.moveTo(p,255),l.lineTo(p,255-g[p]);l.stroke(),l.closePath()},printPattern:function(g,x){var p,l=x.getContext("2d");for(x.width=g.length,l.fillColor="black",p=0;p<g.length;p++)g[p]===1&&l.fillRect(p,0,1,100)}};var ar=an;function No(g,x){var p=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!p){if(Array.isArray(g)||(p=function(b,_){if(b){if(typeof b=="string")return oi(b,_);var C=Object.prototype.toString.call(b).slice(8,-1);if(C==="Object"&&b.constructor&&(C=b.constructor.name),C==="Map"||C==="Set")return Array.from(b);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return oi(b,_)}}(g))||x&&g&&typeof g.length=="number"){p&&(g=p);var l=0,u=function(){};return{s:u,n:function(){return l>=g.length?{done:!0}:{done:!1,value:g[l++]}},e:function(b){throw b},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,v=!1;return{s:function(){p=p.call(g)},n:function(){var b=p.next();return f=b.done,b},e:function(b){v=!0,c=b},f:function(){try{f||p.return==null||p.return()}finally{if(v)throw c}}}}function oi(g,x){(x==null||x>g.length)&&(x=g.length);for(var p=0,l=new Array(x);p<x;p++)l[p]=g[p];return l}var ln={code_128_reader:Ge,ean_reader:Ft,ean_5_reader:Jr,ean_2_reader:Zr,ean_8_reader:ei,code_39_reader:wn,code_39_vin_reader:rr,codabar_reader:Te,upc_reader:ii,upc_e_reader:ri,i2of5_reader:ti,"2of5_reader":z,code_93_reader:$r,code_32_reader:zr},lr={registerReader:function(g,x){ln[g]=x},create:function(g,x){var p={frequency:null,pattern:null,overlay:null},l=[];function u(){g.readers.forEach(function(_){var C,P={},H=[];o()(_)==="object"?(C=_.format,P=_.config):typeof _=="string"&&(C=_),P.supplements&&(H=P.supplements.map(function(Y){return new ln[Y]}));try{var re=new ln[C](P,H);l.push(re)}catch(Y){throw console.error("* Error constructing reader ",C,Y),Y}})}function c(_){var C,P=null,H=ar.getBarcodeLine(x,_[0],_[1]);for(ar.toBinaryLine(H),C=0;C<l.length&&P===null;C++)P=l[C].decodePattern(H.line);return P===null?null:{codeResult:P,barcodeLine:H}}function f(_){return v.apply(this,arguments)}function v(){return(v=S()(T.a.mark(function _(C){var P,H,re,Y;return T.a.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:P=null,H=No(l),le.prev=2,H.s();case 4:if((re=H.n()).done){le.next=14;break}if(!(Y=re.value).decodeImage){le.next=12;break}return le.next=9,Y.decodeImage(C);case 9:if(!(P=le.sent)){le.next=12;break}return le.abrupt("break",14);case 12:le.next=4;break;case 14:le.next=19;break;case 16:le.prev=16,le.t0=le.catch(2),H.e(le.t0);case 19:return le.prev=19,H.f(),le.finish(19);case 22:return le.abrupt("return",P);case 23:case"end":return le.stop()}},_,null,[[2,16,19,22]])}))).apply(this,arguments)}function b(_){var C,P;p.overlay;var H=function(Y){return Math.sqrt(Math.pow(Math.abs(Y[1].y-Y[0].y),2)+Math.pow(Math.abs(Y[1].x-Y[0].x),2))}(C=function(Y){return[{x:(Y[1][0]-Y[0][0])/2+Y[0][0],y:(Y[1][1]-Y[0][1])/2+Y[0][1]},{x:(Y[3][0]-Y[2][0])/2+Y[2][0],y:(Y[3][1]-Y[2][1])/2+Y[2][1]}]}(_)),re=Math.atan2(C[1].y-C[0].y,C[1].x-C[0].x);return(C=function(Y,le,Me){function De(Ee){var ze=Ee*Math.sin(le),nt=Ee*Math.cos(le);Y[0].y-=ze,Y[0].x-=nt,Y[1].y+=ze,Y[1].x+=nt}for(De(Me);Me>1&&(!x.inImageWithBorder(Y[0])||!x.inImageWithBorder(Y[1]));)De(-(Me-=Math.ceil(Me/2)));return Y}(C,re,Math.floor(.1*H)))===null?null:((P=c(C))===null&&(P=function(Y,le,Me){var De,Ee,ze,nt=Math.sqrt(Math.pow(Y[1][0]-Y[0][0],2)+Math.pow(Y[1][1]-Y[0][1],2)),pt=null,cn=Math.sin(Me),ta=Math.cos(Me);for(De=1;De<16&&pt===null;De++)ze={y:(Ee=nt/16*De*(De%2==0?-1:1))*cn,x:Ee*ta},le[0].y+=ze.x,le[0].x-=ze.y,le[1].y+=ze.x,le[1].x-=ze.y,pt=c(le);return pt}(_,C,re)),P===null?null:{codeResult:P.codeResult,line:C,angle:re,pattern:P.barcodeLine.line,threshold:P.barcodeLine.threshold})}return u(),{decodeFromBoundingBox:function(_){return b(_)},decodeFromBoundingBoxes:function(_){var C,P,H=[],re=g.multiple;for(C=0;C<_.length;C++){var Y=_[C];if((P=b(Y)||{}).box=Y,re)H.push(P);else if(P.codeResult)return P}return{barcodes:H}},decodeFromImage:function(_){return S()(T.a.mark(function C(){var P;return T.a.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,f(_);case 2:return P=H.sent,H.abrupt("return",P);case 4:case"end":return H.stop()}},C)}))()},registerReader:function(_,C){if(ln[_])throw new Error("cannot register existing reader",_);ln[_]=C},setReaders:function(_){g.readers=_,l.length=0,u()}}}},Nt=function(){var g={};function x(u){return g[u]||(g[u]={subscribers:[]}),g[u]}function p(u,c){u.async?setTimeout(function(){u.callback(c)},4):u.callback(c)}function l(u,c,f){var v;if(typeof c=="function")v={callback:c,async:f};else if(!(v=c).callback)throw new Error("Callback was not specified on options");x(u).subscribers.push(v)}return{subscribe:function(u,c,f){return l(u,c,f)},publish:function(u,c){var f=x(u),v=f.subscribers;v.filter(function(b){return!!b.once}).forEach(function(b){p(b,c)}),f.subscribers=v.filter(function(b){return!b.once}),f.subscribers.forEach(function(b){p(b,c)})},once:function(u,c){var f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];l(u,{callback:c,async:f,once:!0})},unsubscribe:function(u,c){if(u){var f=x(u);f.subscribers=f&&c?f.subscribers.filter(function(v){return v.callback!==c}):[]}else g={}}}}(),ai=t(63),li=t.n(ai),Lo=t(64);function Bo(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var u=L()(this).constructor;p=Reflect.construct(l,arguments,u)}else p=l.apply(this,arguments);return D()(this,p)}}var Xt,sr=function(g){I()(p,g);var x=Bo(p);function p(l,u){var c;return J()(this,p),c=x.call(this,l),A()(R()(c),"code",void 0),c.code=u,Object.setPrototypeOf(R()(c),p.prototype),c}return G()(p)}(t.n(Lo)()(Error)),si="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function qo(){try{return navigator.mediaDevices.enumerateDevices()}catch{var g=new sr("enumerateDevices is not defined. ".concat(si),-1);return Promise.reject(g)}}function jo(g){try{return navigator.mediaDevices.getUserMedia(g)}catch{var x=new sr("getUserMedia is not defined. ".concat(si),-1);return Promise.reject(x)}}function ui(g){return new Promise(function(x,p){var l=10;(function u(){l>0?g.videoWidth>10&&g.videoHeight>10?x():window.setTimeout(u,500):p(new sr("Unable to play video stream. Is webcam working?",-1)),l--})()})}function ci(g,x){return ur.apply(this,arguments)}function ur(){return(ur=S()(T.a.mark(function g(x,p){var l;return T.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,jo(p);case 2:if(l=u.sent,Xt=l,!x){u.next=11;break}return x.setAttribute("autoplay","true"),x.setAttribute("muted","true"),x.setAttribute("playsinline","true"),x.srcObject=l,x.addEventListener("loadedmetadata",function(){x.play().catch(function(c){console.warn("* Error while trying to play video stream:",c)})}),u.abrupt("return",ui(x));case 11:return u.abrupt("return",Promise.resolve());case 12:case"end":return u.stop()}},g)}))).apply(this,arguments)}function Uo(g){var x=li()(g,["width","height","facingMode","aspectRatio","deviceId"]);return g.minAspectRatio!==void 0&&g.minAspectRatio>0&&(x.aspectRatio=g.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),g.facing!==void 0&&(x.facingMode=g.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),x}function zo(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=Uo(g);return x&&x.deviceId&&x.facingMode&&delete x.facingMode,Promise.resolve({audio:!1,video:x})}function di(){return(di=S()(T.a.mark(function g(){var x;return T.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,qo();case 2:return x=p.sent,p.abrupt("return",x.filter(function(l){return l.kind==="videoinput"}));case 4:case"end":return p.stop()}},g)}))).apply(this,arguments)}function sn(){if(!Xt)return null;var g=Xt.getVideoTracks();return g&&g!=null&&g.length?g[0]:null}var un={requestedVideoElement:null,request:function(g,x){return S()(T.a.mark(function p(){var l;return T.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return un.requestedVideoElement=g,u.next=3,zo(x);case 3:return l=u.sent,u.abrupt("return",ci(g,l));case 5:case"end":return u.stop()}},p)}))()},release:function(){var g=Xt&&Xt.getVideoTracks();return un.requestedVideoElement!==null&&un.requestedVideoElement.pause(),new Promise(function(x){setTimeout(function(){g&&g.length&&g.forEach(function(p){return p.stop()}),Xt=null,un.requestedVideoElement=null,x()},0)})},enumerateVideoDevices:function(){return di.apply(this,arguments)},getActiveStreamLabel:function(){var g=sn();return g?g.label:""},getActiveTrack:sn,disableTorch:function(){return S()(T.a.mark(function g(){var x;return T.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!(x=sn())){p.next=11;break}return p.prev=2,p.next=5,x.applyConstraints({advanced:[{torch:!1}]});case 5:p.next=11;break;case 7:throw p.prev=7,p.t0=p.catch(2),p.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),p.t0;case 11:case"end":return p.stop()}},g,null,[[2,7]])}))()},enableTorch:function(){return S()(T.a.mark(function g(){var x;return T.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!(x=sn())){p.next=11;break}return p.prev=2,p.next=5,x.applyConstraints({advanced:[{torch:!0}]});case 5:p.next=11;break;case 7:throw p.prev=7,p.t0=p.catch(2),p.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),p.t0;case 11:case"end":return p.stop()}},g,null,[[2,7]])}))()}},On=un,fi={create:function(g){var x,p=document.createElement("canvas"),l=p.getContext("2d",{willReadFrequently:!!g.willReadFrequently}),u=[],c=(x=g.capacity)!==null&&x!==void 0?x:20,f=g.capture===!0;function v(b){return!!c&&b&&!function(_,C){return C&&C.some(function(P){return Object.keys(P).every(function(H){return P[H]===_[H]})})}(b,g.blacklist)&&function(_,C){return typeof C!="function"||C(_)}(b,g.filter)}return{addResult:function(b,_,C){var P={};v(C)&&(c--,P.codeResult=C,f&&(p.width=_.x,p.height=_.y,W.a.drawImage(b,_,l),P.frame=p.toDataURL()),u.push(P))},getResults:function(){return u}}}},Vo={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},xt=t(5),Mn=t(10),pi=Math.PI/180,Go={create:function(g,x){var p,l={},u=g.getConfig(),c=(Object(Mn.h)(g.getRealWidth(),g.getRealHeight()),g.getCanvasSize()),f=Object(Mn.h)(g.getWidth(),g.getHeight()),v=g.getTopRight(),b=v.x,_=v.y,C=null,P=null,H=u.willReadFrequently;return(p=x||document.createElement("canvas")).width=c.x,p.height=c.y,console.warn("*** frame_grabber_browser: willReadFrequently=",H,"canvas=",p),C=p.getContext("2d",{willReadFrequently:!!H}),P=new Uint8Array(f.x*f.y),l.attachData=function(re){P=re},l.getData=function(){return P},l.grab=function(){var re,Y=u.halfSample,le=g.getFrame(),Me=le,De=0;if(Me){if(function(Ee,ze){Ee.width!==ze.x&&(Ee.width=ze.x),Ee.height!==ze.y&&(Ee.height=ze.y)}(p,c),u.type==="ImageStream"&&(Me=le.img,le.tags&&le.tags.orientation))switch(le.tags.orientation){case 6:De=90*pi;break;case 8:De=-90*pi}return De!==0?(C.translate(c.x/2,c.y/2),C.rotate(De),C.drawImage(Me,-c.y/2,-c.x/2,c.y,c.x),C.rotate(-De),C.translate(-c.x/2,-c.y/2)):C.drawImage(Me,0,0,c.x,c.y),re=C.getImageData(b,_,f.x,f.y).data,Y?Object(Mn.e)(re,f,P):Object(Mn.c)(re,P,u),!0}return!1},l.getSize=function(){return f},l}},Ho=Go,En={274:"orientation"},hi=Object.keys(En).map(function(g){return En[g]});function Wo(g){return new Promise(function(x){var p=new FileReader;p.onload=function(l){return x(l.target.result)},p.readAsArrayBuffer(g)})}function $o(g){return new Promise(function(x,p){var l=new XMLHttpRequest;l.open("GET",g,!0),l.responseType="blob",l.onreadystatechange=function(){l.readyState!==XMLHttpRequest.DONE||l.status!==200&&l.status!==0||x(this.response)},l.onerror=p,l.send()})}function Qo(g){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hi,p=new DataView(g),l=g.byteLength,u=x.reduce(function(f,v){var b=Object.keys(En).filter(function(_){return En[_]===v})[0];return b&&(f[b]=v),f},{}),c=2;if(p.getUint8(0)!==255||p.getUint8(1)!==216)return!1;for(;c<l;){if(p.getUint8(c)!==255)return!1;if(p.getUint8(c+1)===225)return Xo(p,c+4,u);c+=2+p.getUint16(c+2)}return!1}function Xo(g,x,p){if(function(f,v,b){for(var _="",C=v;C<v+b;C++)_+=String.fromCharCode(f.getUint8(C));return _}(g,x,4)!=="Exif")return!1;var l,u=x+6;if(g.getUint16(u)===18761)l=!1;else{if(g.getUint16(u)!==19789)return!1;l=!0}if(g.getUint16(u+2,!l)!==42)return!1;var c=g.getUint32(u+4,!l);return!(c<8)&&function(f,v,b,_,C){for(var P=f.getUint16(b,!C),H={},re=0;re<P;re++){var Y=b+12*re+2,le=_[f.getUint16(Y,!C)];le&&(H[le]=Yo(f,Y,v,b,C))}return H}(g,u,u+c,p,l)}function Yo(g,x,p,l,u){var c=g.getUint16(x+2,!u),f=g.getUint32(x+4,!u);switch(c){case 3:if(f===1)return g.getUint16(x+8,!u)}return null}var mi={};function Ko(g,x){g.onload=function(){x.loaded(this)}}mi.load=function(g,x,p,l,u){var c,f,v,b=new Array(l),_=new Array(b.length);if(u===!1)b[0]=g;else for(c=0;c<b.length;c++)v=p+c,b[c]="".concat(g,"image-").concat("00".concat(v).slice(-3),".jpg");for(_.notLoaded=[],_.addImage=function(C){_.notLoaded.push(C)},_.loaded=function(C){for(var P=_.notLoaded,H=0;H<P.length;H++)if(P[H]===C){P.splice(H,1);for(var re=0;re<b.length;re++){var Y=b[re].substr(b[re].lastIndexOf("/"));if(C.src.lastIndexOf(Y)!==-1){_[re]={img:C};break}}break}P.length===0&&(u===!1?function(le){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hi;return/^blob:/i.test(le)?$o(le).then(Wo).then(function(De){return Qo(De,Me)}):Promise.resolve(null)}(g,["orientation"]).then(function(le){_[0].tags=le,x(_)}).catch(function(le){console.log(le),x(_)}):x(_))},c=0;c<b.length;c++)f=new Image,_.addImage(f),Ko(f,_),f.src=b[c]};var Zo=mi,gi={createVideoStream:function(g){console.warn("**** InputStreamBrowser createVideoStream");var x,p,l=null,u=["canrecord","ended"],c={},f={x:0,y:0,type:"Point"},v={x:0,y:0,type:"XYSize"},b={getRealWidth:function(){return g.videoWidth},getRealHeight:function(){return g.videoHeight},getWidth:function(){return x},getHeight:function(){return p},setWidth:function(_){x=_},setHeight:function(_){p=_},setInputStream:function(_){l=_,this.setAttribute("src",_.src!==void 0?_.src:"")},ended:function(){return g.ended},getConfig:function(){return l},setAttribute:function(_,C){g&&g.setAttribute(_,C)},pause:function(){g.pause()},play:function(){g.play()},setCurrentTime:function(_){var C;((C=l)===null||C===void 0?void 0:C.type)!=="LiveStream"&&this.setAttribute("currentTime",_.toString())},addEventListener:function(_,C,P){u.indexOf(_)!==-1?(c[_]||(c[_]=[]),c[_].push(C)):g.addEventListener(_,C,P)},clearEventHandlers:function(){u.forEach(function(_){var C=c[_];C&&C.length>0&&C.forEach(function(P){g.removeEventListener(_,P)})})},trigger:function(_,C){var P,H,re,Y,le,Me=c[_];if(_==="canrecord"&&(Y=g.videoWidth,le=g.videoHeight,x=(H=l)!==null&&H!==void 0&&H.size?Y/le>1?l.size:Math.floor(Y/le*l.size):Y,p=(re=l)!==null&&re!==void 0&&re.size?Y/le>1?Math.floor(le/Y*l.size):l.size:le,v.x=x,v.y=p),Me&&Me.length>0)for(P=0;P<Me.length;P++)Me[P].apply(b,C)},setTopRight:function(_){f.x=_.x,f.y=_.y},getTopRight:function(){return f},setCanvasSize:function(_){v.x=_.x,v.y=_.y},getCanvasSize:function(){return v},getFrame:function(){return g}};return b},createLiveStream:function(g){console.warn("**** InputStreamBrowser createLiveStream"),g&&g.setAttribute("autoplay","true");var x=gi.createVideoStream(g);return x.ended=function(){return!1},x},createImageStream:function(){var g,x,p=null,l=0,u=0,c=0,f=!0,v=!1,b=null,_=0,C=null,P=!1,H=["canrecord","ended"],re={},Y={x:0,y:0,type:"Point"},le={x:0,y:0,type:"XYSize"};function Me(Ee,ze){var nt,pt=re[Ee];if(pt&&pt.length>0)for(nt=0;nt<pt.length;nt++)pt[nt].apply(De,ze)}var De={trigger:Me,getWidth:function(){return g},getHeight:function(){return x},setWidth:function(Ee){g=Ee},setHeight:function(Ee){x=Ee},getRealWidth:function(){return l},getRealHeight:function(){return u},setInputStream:function(Ee){var ze;p=Ee,Ee.sequence===!1?(C=Ee.src,_=1):(C=Ee.src,_=Ee.length),v=!1,Zo.load(C,function(nt){var pt,cn;if(b=nt,nt[0].tags&&nt[0].tags.orientation)switch(nt[0].tags.orientation){case 6:case 8:l=nt[0].img.height,u=nt[0].img.width;break;default:l=nt[0].img.width,u=nt[0].img.height}else l=nt[0].img.width,u=nt[0].img.height;g=(pt=p)!==null&&pt!==void 0&&pt.size?l/u>1?p.size:Math.floor(l/u*p.size):l,x=(cn=p)!==null&&cn!==void 0&&cn.size?l/u>1?Math.floor(u/l*p.size):p.size:u,le.x=g,le.y=x,v=!0,c=0,setTimeout(function(){Me("canrecord",[])},0)},1,_,(ze=p)===null||ze===void 0?void 0:ze.sequence)},ended:function(){return P},setAttribute:function(){},getConfig:function(){return p},pause:function(){f=!0},play:function(){f=!1},setCurrentTime:function(Ee){c=Ee},addEventListener:function(Ee,ze){H.indexOf(Ee)!==-1&&(re[Ee]||(re[Ee]=[]),re[Ee].push(ze))},clearEventHandlers:function(){Object.keys(re).forEach(function(Ee){return delete re[Ee]})},setTopRight:function(Ee){Y.x=Ee.x,Y.y=Ee.y},getTopRight:function(){return Y},setCanvasSize:function(Ee){le.x=Ee.x,le.y=Ee.y},getCanvasSize:function(){return le},getFrame:function(){var Ee,ze;return v?(f||(Ee=(ze=b)===null||ze===void 0?void 0:ze[c],c<_-1?c++:setTimeout(function(){P=!0,Me("ended",[])},0)),Ee):null}};return De}},Jo=gi,cr=t(23),ea=G()(function g(){J()(this,g),A()(this,"config",void 0),A()(this,"inputStream",void 0),A()(this,"framegrabber",void 0),A()(this,"inputImageWrapper",void 0),A()(this,"stopped",!1),A()(this,"boxSize",void 0),A()(this,"resultCollector",void 0),A()(this,"decoder",void 0),A()(this,"workerPool",[]),A()(this,"onUIThread",!0),A()(this,"canvasContainer",new d)}),vi=G()(function g(){J()(this,g),A()(this,"image",void 0),A()(this,"overlay",void 0)}),d=G()(function g(){J()(this,g),A()(this,"ctx",void 0),A()(this,"dom",void 0),this.ctx=new vi,this.dom=new vi});function m(g){if(typeof document>"u")return null;if(g instanceof HTMLElement&&g.nodeName&&g.nodeType===1)return g;var x=typeof g=="string"?g:"#interactive.viewport";return document.querySelector(x)}function y(g,x,p){var l=function(c,f){var v=document.querySelector(c);return v||((v=document.createElement("canvas")).className=f),v}(g,x);console.warn("* initCanvas getCanvasAndContext");var u=l.getContext("2d",{willReadFrequently:p.willReadFrequently});return{canvas:l,context:u}}function k(g){var x,p,l,u,c,f,v=m(g==null||(x=g.config)===null||x===void 0||(p=x.inputStream)===null||p===void 0?void 0:p.target),b=g==null||(l=g.config)===null||l===void 0||(u=l.inputStream)===null||u===void 0?void 0:u.type;if(!b)return null;var _=function(P,H){var re=H.willReadFrequently;if(typeof document<"u"){var Y=y("canvas.imgBuffer","imgBuffer",{willReadFrequently:re}),le=y("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:re});return Y.canvas.width=le.canvas.width=P.x,Y.canvas.height=le.canvas.height=P.y,{dom:{image:Y.canvas,overlay:le.canvas},ctx:{image:Y.context,overlay:le.context}}}return null}(g.inputStream.getCanvasSize(),{willReadFrequently:!(g==null||(c=g.config)===null||c===void 0||(f=c.inputStream)===null||f===void 0||!f.willReadFrequently)});if(!_)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var C=_.dom;return typeof document<"u"&&v&&(b!=="ImageStream"||v.contains(C.image)||v.appendChild(C.image),v.contains(C.overlay)||v.appendChild(C.overlay)),_}function U(g,x){var p=Object.keys(g);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(g);x&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(g,u).enumerable})),p.push.apply(p,l)}return p}function Q(g){for(var x=1;x<arguments.length;x++){var p=arguments[x]!=null?arguments[x]:{};x%2?U(Object(p),!0).forEach(function(l){A()(g,l,p[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(p)):U(Object(p)).forEach(function(l){Object.defineProperty(g,l,Object.getOwnPropertyDescriptor(p,l))})}return g}xt.a.setMatrixArrayType(Array);var pe=[];function be(g){return Q(Q({},g),{},{inputStream:Q(Q({},g.inputStream),{},{target:null})})}function ke(g){if(g){var x=g().default;if(!x)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var p;function l(c){self.postMessage({event:"processed",imageData:p.data,result:c},[p.data.buffer])}function u(){self.postMessage({event:"initialized",imageData:p.data},[p.data.buffer])}self.onmessage=function(c){if(c.data.cmd==="init"){var f=c.data.config;f.numOfWorkers=0,p=new x.ImageWrapper({x:c.data.size.x,y:c.data.size.y},new Uint8Array(c.data.imageData)),x.init(f,u,p),x.onProcessed(l)}else c.data.cmd==="process"?(p.data=new Uint8Array(c.data.imageData),x.start()):c.data.cmd==="setReaders"?x.setReaders(c.data.readers):c.data.cmd==="registerReader"&&x.registerReader(c.data.name,c.data.reader)}}function rt(g,x,p){var l,u,c=(typeof __factorySource__<"u"&&(u=__factorySource__),l=new Blob(["("+ke.toString()+")("+u+");"],{type:"text/javascript"}),window.URL.createObjectURL(l)),f={worker:new Worker(c),imageData:new Uint8Array(x.getWidth()*x.getHeight()),busy:!0};f.worker.onmessage=function(v){v.data.event==="initialized"?(URL.revokeObjectURL(c),f.busy=!1,f.imageData=new Uint8Array(v.data.imageData),p(f)):v.data.event==="processed"?(f.imageData=new Uint8Array(v.data.imageData),f.busy=!1,typeof publishResult<"u"&&publishResult(v.data.result,f.imageData)):v.data.event},f.worker.postMessage({cmd:"init",size:{x:x.getWidth(),y:x.getHeight()},imageData:f.imageData,config:be(g)},[f.imageData.buffer])}function ut(g,x,p,l){var u=g-pe.length;if(u===0&&l)l();else if(u<0)pe.slice(u).forEach(function(v){v.worker.terminate()}),pe=pe.slice(0,u),l&&l();else{var c=function(v){pe.push(v),pe.length>=g&&l&&l()};if(x)for(var f=0;f<u;f++)rt(x,p,c)}}function Rt(g,x,p){for(var l=g.length;l--;)g[l][0]+=x,g[l][1]+=p}xt.a.setMatrixArrayType(Array);var Dt=function(){function g(){var l=this;J()(this,g),A()(this,"context",new ea),A()(this,"canRecord",function(u){var c;l.context.config&&(cr.a.checkImageConstraints(l.context.inputStream,(c=l.context.config)===null||c===void 0?void 0:c.locator),l.initCanvas(),l.context.framegrabber=Ho.create(l.context.inputStream,l.context.canvasContainer.dom.image),l.context.config.numOfWorkers===void 0&&(l.context.config.numOfWorkers=0),ut(l.context.config.numOfWorkers,l.context.config,l.context.inputStream,function(){var f;((f=l.context.config)===null||f===void 0?void 0:f.numOfWorkers)===0&&l.initializeData(),l.ready(u)}))}),A()(this,"update",function(){if(l.context.onUIThread){var u,c=(v=l.context.framegrabber,pe.length?!!(b=pe.filter(function(_){return!_.busy})[0])&&(v.attachData(b.imageData),v.grab()&&(b.busy=!0,b.worker.postMessage({cmd:"process",imageData:b.imageData},[b.imageData.buffer])),!0):null);c||(l.context.framegrabber.attachData((u=l.context.inputImageWrapper)===null||u===void 0?void 0:u.data),l.context.framegrabber.grab()&&(c||l.locateAndDecode()))}else{var f;l.context.framegrabber.attachData((f=l.context.inputImageWrapper)===null||f===void 0?void 0:f.data),l.context.framegrabber.grab(),l.locateAndDecode()}var v,b})}var x,p;return G()(g,[{key:"initBuffers",value:function(l){if(this.context.config){var u=function(v,b,_){var C=b||new h.a({x:v.getWidth(),y:v.getHeight(),type:"XYSize"}),P=[xt.c.clone([0,0]),xt.c.clone([0,C.size.y]),xt.c.clone([C.size.x,C.size.y]),xt.c.clone([C.size.x,0])];return cr.a.init(C,_),{inputImageWrapper:C,boxSize:P}}(this.context.inputStream,l,this.context.config.locator),c=u.inputImageWrapper,f=u.boxSize;this.context.inputImageWrapper=c,this.context.boxSize=f}}},{key:"initializeData",value:function(l){this.context.config&&(this.initBuffers(l),this.context.decoder=lr.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?m(this.context.config.inputStream.target):null}},{key:"ready",value:function(l){this.context.inputStream.play(),l()}},{key:"initCanvas",value:function(){var l=k(this.context);if(l){var u=l.ctx,c=l.dom;this.context.canvasContainer.dom.image=c.image,this.context.canvasContainer.dom.overlay=c.overlay,this.context.canvasContainer.ctx.image=u.image,this.context.canvasContainer.ctx.overlay=u.overlay}}},{key:"initInputStream",value:function(l){if(this.context.config&&this.context.config.inputStream){var u=this.context.config.inputStream,c=u.type,f=u.constraints,v=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"LiveStream",P=arguments.length>1?arguments[1]:void 0,H=arguments.length>2?arguments[2]:void 0;switch(C){case"VideoStream":var re=document.createElement("video");return{video:re,inputStream:H.createVideoStream(re)};case"ImageStream":return{inputStream:H.createImageStream()};case"LiveStream":var Y=null;return P&&((Y=P.querySelector("video"))||(Y=document.createElement("video"),P.appendChild(Y))),{video:Y,inputStream:H.createLiveStream(Y)};default:return console.error("* setupInputStream invalid type ".concat(C)),{video:null,inputStream:null}}}(c,this.getViewPort(),Jo),b=v.video,_=v.inputStream;c==="LiveStream"&&b&&On.request(b,f).then(function(){return _.trigger("canrecord")}).catch(function(C){return l(C)}),_&&(_.setAttribute("preload","auto"),_.setInputStream(this.context.config.inputStream),_.addEventListener("canrecord",this.canRecord.bind(void 0,l))),this.context.inputStream=_}}},{key:"getBoundingBoxes",value:function(){var l;return(l=this.context.config)!==null&&l!==void 0&&l.locate?cr.a.locate():[[xt.c.clone(this.context.boxSize[0]),xt.c.clone(this.context.boxSize[1]),xt.c.clone(this.context.boxSize[2]),xt.c.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(l){var u=this,c=this.context.inputStream.getTopRight(),f=c.x,v=c.y;if((f!==0||v!==0)&&(l.barcodes&&l.barcodes.forEach(function(_){return u.transformResult(_)}),l.line&&l.line.length===2&&function(_,C,P){_[0].x+=C,_[0].y+=P,_[1].x+=C,_[1].y+=P}(l.line,f,v),l.box&&Rt(l.box,f,v),l.boxes&&l.boxes.length>0))for(var b=0;b<l.boxes.length;b++)Rt(l.boxes[b],f,v)}},{key:"addResult",value:function(l,u){var c=this;u&&this.context.resultCollector&&(l.barcodes?l.barcodes.filter(function(f){return f.codeResult}).forEach(function(f){return c.addResult(f,u)}):l.codeResult&&this.context.resultCollector.addResult(u,this.context.inputStream.getCanvasSize(),l.codeResult))}},{key:"hasCodeResult",value:function(l){return!(!l||!(l.barcodes?l.barcodes.some(function(u){return u.codeResult}):l.codeResult))}},{key:"publishResult",value:function(){var l,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,c=arguments.length>1?arguments[1]:void 0,f=u;u&&this.context.onUIThread&&(this.transformResult(u),this.addResult(u,c),f=(u==null||(l=u.barcodes)===null||l===void 0?void 0:l.length)>0?u.barcodes:u),Nt.publish("processed",f),this.hasCodeResult(u)&&Nt.publish("detected",f)}},{key:"locateAndDecode",value:(p=S()(T.a.mark(function l(){var u,c,f,v,b;return T.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!(u=this.getBoundingBoxes())){_.next=12;break}return _.next=4,this.context.decoder.decodeFromBoundingBoxes(u);case 4:if(_.t0=_.sent,_.t0){_.next=7;break}_.t0={};case 7:(f=_.t0).boxes=u,this.publishResult(f,(c=this.context.inputImageWrapper)===null||c===void 0?void 0:c.data),_.next=16;break;case 12:return _.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(v=_.sent)?this.publishResult(v,(b=this.context.inputImageWrapper)===null||b===void 0?void 0:b.data):this.publishResult();case 16:case"end":return _.stop()}},l,this)})),function(){return p.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var l,u=this,c=null,f=1e3/(((l=this.context.config)===null||l===void 0?void 0:l.frequency)||60);this.context.stopped=!1;var v=this.context;(function b(_){c=c||_,v.stopped||(_>=c&&(c+=f,u.update()),window.requestAnimationFrame(b))})(performance.now())}},{key:"start",value:function(){var l,u;this.context.onUIThread&&((l=this.context.config)===null||l===void 0||(u=l.inputStream)===null||u===void 0?void 0:u.type)==="LiveStream"?this.startContinuousUpdate():this.update()}},{key:"stop",value:(x=S()(T.a.mark(function l(){var u;return T.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.context.stopped=!0,ut(0),(u=this.context.config)===null||u===void 0||!u.inputStream||this.context.config.inputStream.type!=="LiveStream"){c.next=6;break}return c.next=5,On.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return c.stop()}},l,this)})),function(){return x.apply(this,arguments)})},{key:"setReaders",value:function(l){this.context.decoder&&this.context.decoder.setReaders(l),function(u){pe.forEach(function(c){return c.worker.postMessage({cmd:"setReaders",readers:u})})}(l)}},{key:"registerReader",value:function(l,u){lr.registerReader(l,u),this.context.decoder&&this.context.decoder.registerReader(l,u),function(c,f){pe.forEach(function(v){return v.worker.postMessage({cmd:"registerReader",name:c,reader:f})})}(l,u)}}]),g}(),jt=new Dt,Pn=jt.context,dr={init:function(g,x,p){var l,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:jt;return x||(l=new Promise(function(c,f){x=function(v){v?f(v):c()}})),u.context.config=s()({},Vo,g),u.context.config.numOfWorkers>0&&(u.context.config.numOfWorkers=0),p?(u.context.onUIThread=!1,u.initializeData(p),x&&x()):u.initInputStream(x),l},start:function(){return jt.start()},stop:function(){return jt.stop()},pause:function(){Pn.stopped=!0},onDetected:function(g){g&&(typeof g=="function"||o()(g)==="object"&&g.callback)?Nt.subscribe("detected",g):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(g){Nt.unsubscribe("detected",g)},onProcessed:function(g){g&&(typeof g=="function"||o()(g)==="object"&&g.callback)?Nt.subscribe("processed",g):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(g){Nt.unsubscribe("processed",g)},setReaders:function(g){g?jt.setReaders(g):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(g,x){g?x?jt.registerReader(g,x):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(g){g&&typeof g.addResult=="function"&&(Pn.resultCollector=g)},get canvas(){return Pn.canvasContainer},decodeSingle:function(g,x){var p=this,l=new Dt;return(g=s()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:g.src},numOfWorkers:1,locator:{halfSample:!1}},g)).numOfWorkers>0&&(g.numOfWorkers=0),g.numOfWorkers>0&&(typeof Blob>"u"||typeof Worker>"u")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),g.numOfWorkers=0),new Promise(function(u,c){try{p.init(g,function(){Nt.once("processed",function(f){l.stop(),x&&x.call(null,f),u(f)},!0),l.start()},null,l)}catch(f){c(f)}})},get default(){return dr},Readers:r,CameraAccess:On,ImageDebug:W.a,ImageWrapper:h.a,ResultCollector:fi};n.default=dr}]).default})});var mc=oe((Sr,Hn)=>{"use strict";var Yp=200,Qu="__lodash_hash_undefined__",Kp=800,Zp=16,Xu=9007199254740991,Yu="[object Arguments]",Jp="[object Array]",e0="[object AsyncFunction]",t0="[object Boolean]",n0="[object Date]",r0="[object Error]",Ku="[object Function]",i0="[object GeneratorFunction]",o0="[object Map]",a0="[object Number]",l0="[object Null]",Zu="[object Object]",s0="[object Proxy]",u0="[object RegExp]",c0="[object Set]",d0="[object String]",f0="[object Undefined]",p0="[object WeakMap]",h0="[object ArrayBuffer]",m0="[object DataView]",g0="[object Float32Array]",v0="[object Float64Array]",_0="[object Int8Array]",y0="[object Int16Array]",b0="[object Int32Array]",x0="[object Uint8Array]",C0="[object Uint8ClampedArray]",w0="[object Uint16Array]",S0="[object Uint32Array]",O0=/[\\^$.*+?()[\]{}|]/g,M0=/^\[object .+?Constructor\]$/,E0=/^(?:0|[1-9]\d*)$/,Je={};Je[g0]=Je[v0]=Je[_0]=Je[y0]=Je[b0]=Je[x0]=Je[C0]=Je[w0]=Je[S0]=!0;Je[Yu]=Je[Jp]=Je[h0]=Je[t0]=Je[m0]=Je[n0]=Je[r0]=Je[Ku]=Je[o0]=Je[a0]=Je[Zu]=Je[u0]=Je[c0]=Je[d0]=Je[p0]=!1;var Ju=typeof global=="object"&&global&&global.Object===Object&&global,P0=typeof self=="object"&&self&&self.Object===Object&&self,Er=Ju||P0||Function("return this")(),ec=typeof Sr=="object"&&Sr&&!Sr.nodeType&&Sr,Or=ec&&typeof Hn=="object"&&Hn&&!Hn.nodeType&&Hn,tc=Or&&Or.exports===ec,La=tc&&Ju.process,qu=function(){try{var e=Or&&Or.require&&Or.require("util").types;return e||La&&La.binding&&La.binding("util")}catch{}}(),ju=qu&&qu.isTypedArray;function nc(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}function I0(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}function T0(e){return function(n){return e(n)}}function R0(e,n){return e?.[n]}function D0(e,n){return function(t){return e(n(t))}}var A0=Array.prototype,k0=Function.prototype,Xi=Object.prototype,Ba=Er["__core-js_shared__"],Yi=k0.toString,Wt=Xi.hasOwnProperty,Uu=function(){var e=/[^.]+$/.exec(Ba&&Ba.keys&&Ba.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),rc=Xi.toString,F0=Yi.call(Object),N0=RegExp("^"+Yi.call(Wt).replace(O0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$i=tc?Er.Buffer:void 0,zu=Er.Symbol,Vu=Er.Uint8Array,Gu=$i?$i.allocUnsafe:void 0,ic=D0(Object.getPrototypeOf,Object),Hu=Object.create,L0=Xi.propertyIsEnumerable,B0=A0.splice,bn=zu?zu.toStringTag:void 0,Qi=function(){try{var e=Ha(Object,"defineProperty");return e({},"",{}),e}catch{}}(),q0=$i?$i.isBuffer:void 0,Wu=Math.max,j0=Date.now,oc=Ha(Er,"Map"),Mr=Ha(Object,"create"),U0=function(){function e(){}return function(n){if(!Ht(n))return{};if(Hu)return Hu(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}();function xn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function z0(){this.__data__=Mr?Mr(null):{},this.size=0}function V0(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function G0(e){var n=this.__data__;if(Mr){var t=n[e];return t===Qu?void 0:t}return Wt.call(n,e)?n[e]:void 0}function H0(e){var n=this.__data__;return Mr?n[e]!==void 0:Wt.call(n,e)}function W0(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Mr&&n===void 0?Qu:n,this}xn.prototype.clear=z0;xn.prototype.delete=V0;xn.prototype.get=G0;xn.prototype.has=H0;xn.prototype.set=W0;function $t(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function $0(){this.__data__=[],this.size=0}function Q0(e){var n=this.__data__,t=Ki(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():B0.call(n,t,1),--this.size,!0}function X0(e){var n=this.__data__,t=Ki(n,e);return t<0?void 0:n[t][1]}function Y0(e){return Ki(this.__data__,e)>-1}function K0(e,n){var t=this.__data__,r=Ki(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}$t.prototype.clear=$0;$t.prototype.delete=Q0;$t.prototype.get=X0;$t.prototype.has=Y0;$t.prototype.set=K0;function Wn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function Z0(){this.size=0,this.__data__={hash:new xn,map:new(oc||$t),string:new xn}}function J0(e){var n=Ji(this,e).delete(e);return this.size-=n?1:0,n}function eh(e){return Ji(this,e).get(e)}function th(e){return Ji(this,e).has(e)}function nh(e,n){var t=Ji(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}Wn.prototype.clear=Z0;Wn.prototype.delete=J0;Wn.prototype.get=eh;Wn.prototype.has=th;Wn.prototype.set=nh;function $n(e){var n=this.__data__=new $t(e);this.size=n.size}function rh(){this.__data__=new $t,this.size=0}function ih(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function oh(e){return this.__data__.get(e)}function ah(e){return this.__data__.has(e)}function lh(e,n){var t=this.__data__;if(t instanceof $t){var r=t.__data__;if(!oc||r.length<Yp-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new Wn(r)}return t.set(e,n),this.size=t.size,this}$n.prototype.clear=rh;$n.prototype.delete=ih;$n.prototype.get=oh;$n.prototype.has=ah;$n.prototype.set=lh;function sh(e,n){var t=za(e),r=!t&&Ua(e),i=!t&&!r&&cc(e),o=!t&&!r&&!i&&fc(e),a=t||r||i||o,s=a?I0(e.length,String):[],h=s.length;for(var w in e)(n||Wt.call(e,w))&&!(a&&(w=="length"||i&&(w=="offset"||w=="parent")||o&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||sc(w,h)))&&s.push(w);return s}function qa(e,n,t){(t!==void 0&&!eo(e[n],t)||t===void 0&&!(n in e))&&Va(e,n,t)}function uh(e,n,t){var r=e[n];(!(Wt.call(e,n)&&eo(r,t))||t===void 0&&!(n in e))&&Va(e,n,t)}function Ki(e,n){for(var t=e.length;t--;)if(eo(e[t][0],n))return t;return-1}function Va(e,n,t){n=="__proto__"&&Qi?Qi(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}var ch=Ch();function Zi(e){return e==null?e===void 0?f0:l0:bn&&bn in Object(e)?wh(e):Ih(e)}function $u(e){return Pr(e)&&Zi(e)==Yu}function dh(e){if(!Ht(e)||Eh(e))return!1;var n=$a(e)?N0:M0;return n.test(Ah(e))}function fh(e){return Pr(e)&&dc(e.length)&&!!Je[Zi(e)]}function ph(e){if(!Ht(e))return Ph(e);var n=uc(e),t=[];for(var r in e)r=="constructor"&&(n||!Wt.call(e,r))||t.push(r);return t}function Ga(e,n,t,r,i){e!==n&&ch(n,function(o,a){if(i||(i=new $n),Ht(o))hh(e,n,a,t,Ga,r,i);else{var s=r?r(ja(e,a),o,a+"",e,n,i):void 0;s===void 0&&(s=o),qa(e,a,s)}},pc)}function hh(e,n,t,r,i,o,a){var s=ja(e,t),h=ja(n,t),w=a.get(h);if(w){qa(e,t,w);return}var S=o?o(s,h,t+"",e,n,a):void 0,B=S===void 0;if(B){var T=za(h),W=!T&&cc(h),ee=!T&&!W&&fc(h);S=h,T||W||ee?za(s)?S=s:kh(s)?S=yh(s):W?(B=!1,S=gh(h,!0)):ee?(B=!1,S=_h(h,!0)):S=[]:Fh(h)||Ua(h)?(S=s,Ua(s)?S=Nh(s):(!Ht(s)||$a(s))&&(S=Sh(h))):B=!1}B&&(a.set(h,S),i(S,h,r,o,a),a.delete(h)),qa(e,t,S)}function ac(e,n){return Rh(Th(e,n,hc),e+"")}var mh=Qi?function(e,n){return Qi(e,"toString",{configurable:!0,enumerable:!1,value:qh(n),writable:!0})}:hc;function gh(e,n){if(n)return e.slice();var t=e.length,r=Gu?Gu(t):new e.constructor(t);return e.copy(r),r}function vh(e){var n=new e.constructor(e.byteLength);return new Vu(n).set(new Vu(e)),n}function _h(e,n){var t=n?vh(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function yh(e,n){var t=-1,r=e.length;for(n||(n=Array(r));++t<r;)n[t]=e[t];return n}function bh(e,n,t,r){var i=!t;t||(t={});for(var o=-1,a=n.length;++o<a;){var s=n[o],h=r?r(t[s],e[s],s,t,e):void 0;h===void 0&&(h=e[s]),i?Va(t,s,h):uh(t,s,h)}return t}function xh(e){return ac(function(n,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,a=i>2?t[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,a&&Oh(t[0],t[1],a)&&(o=i<3?void 0:o,i=1),n=Object(n);++r<i;){var s=t[r];s&&e(n,s,r,o)}return n})}function Ch(e){return function(n,t,r){for(var i=-1,o=Object(n),a=r(n),s=a.length;s--;){var h=a[e?s:++i];if(t(o[h],h,o)===!1)break}return n}}function lc(e,n,t,r,i,o){return Ht(e)&&Ht(n)&&(o.set(n,e),Ga(e,n,void 0,lc,o),o.delete(n)),e}function Ji(e,n){var t=e.__data__;return Mh(n)?t[typeof n=="string"?"string":"hash"]:t.map}function Ha(e,n){var t=R0(e,n);return dh(t)?t:void 0}function wh(e){var n=Wt.call(e,bn),t=e[bn];try{e[bn]=void 0;var r=!0}catch{}var i=rc.call(e);return r&&(n?e[bn]=t:delete e[bn]),i}function Sh(e){return typeof e.constructor=="function"&&!uc(e)?U0(ic(e)):{}}function sc(e,n){var t=typeof e;return n=n??Xu,!!n&&(t=="number"||t!="symbol"&&E0.test(e))&&e>-1&&e%1==0&&e<n}function Oh(e,n,t){if(!Ht(t))return!1;var r=typeof n;return(r=="number"?Wa(t)&&sc(n,t.length):r=="string"&&n in t)?eo(t[n],e):!1}function Mh(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Eh(e){return!!Uu&&Uu in e}function uc(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||Xi;return e===t}function Ph(e){var n=[];if(e!=null)for(var t in Object(e))n.push(t);return n}function Ih(e){return rc.call(e)}function Th(e,n,t){return n=Wu(n===void 0?e.length-1:n,0),function(){for(var r=arguments,i=-1,o=Wu(r.length-n,0),a=Array(o);++i<o;)a[i]=r[n+i];i=-1;for(var s=Array(n+1);++i<n;)s[i]=r[i];return s[n]=t(a),nc(e,this,s)}}function ja(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var Rh=Dh(mh);function Dh(e){var n=0,t=0;return function(){var r=j0(),i=Zp-(r-t);if(t=r,i>0){if(++n>=Kp)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function Ah(e){if(e!=null){try{return Yi.call(e)}catch{}try{return e+""}catch{}}return""}function eo(e,n){return e===n||e!==e&&n!==n}var Ua=$u(function(){return arguments}())?$u:function(e){return Pr(e)&&Wt.call(e,"callee")&&!L0.call(e,"callee")},za=Array.isArray;function Wa(e){return e!=null&&dc(e.length)&&!$a(e)}function kh(e){return Pr(e)&&Wa(e)}var cc=q0||jh;function $a(e){if(!Ht(e))return!1;var n=Zi(e);return n==Ku||n==i0||n==e0||n==s0}function dc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Xu}function Ht(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function Pr(e){return e!=null&&typeof e=="object"}function Fh(e){if(!Pr(e)||Zi(e)!=Zu)return!1;var n=ic(e);if(n===null)return!0;var t=Wt.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&Yi.call(t)==F0}var fc=ju?T0(ju):fh;function Nh(e){return bh(e,pc(e))}var Lh=ac(function(e){return e.push(void 0,lc),nc(Bh,void 0,e)});function pc(e){return Wa(e)?sh(e,!0):ph(e)}var Bh=xh(function(e,n,t,r){Ga(e,n,t,r)});function qh(e){return function(){return e}}function hc(e){return e}function jh(){return!1}Hn.exports=Lh});var yt=oe(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});function Wh(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var $h=function e(n,t){Wh(this,e),this.data=n,this.text=t.text||n,this.options=t};Qa.default=$h});var Cc=oe(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.CODE39=void 0;var Qh=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Xh=yt(),Yh=Kh(Xh);function Kh(e){return e&&e.__esModule?e:{default:e}}function Zh(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Jh(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function em(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var tm=function(e){em(n,e);function n(t,r){return Zh(this,n),t=t.toUpperCase(),r.mod43&&(t+=im(om(t))),Jh(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return Qh(n,[{key:"encode",value:function(){for(var r=Xa("*"),i=0;i<this.data.length;i++)r+=Xa(this.data[i])+"0";return r+=Xa("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),n}(Yh.default),bc=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],nm=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function Xa(e){return rm(xc(e))}function rm(e){return nm[e].toString(2)}function im(e){return bc[e]}function xc(e){return bc.indexOf(e)}function om(e){for(var n=0,t=0;t<e.length;t++)n+=xc(e[t]);return n=n%43,n}no.CODE39=tm});var Qn=oe(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});var Ir;function Ya(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var wc=it.SET_A=0,Sc=it.SET_B=1,Oc=it.SET_C=2,WC=it.SHIFT=98,am=it.START_A=103,lm=it.START_B=104,sm=it.START_C=105,$C=it.MODULO=103,QC=it.STOP=106,XC=it.FNC1=207,YC=it.SET_BY_CODE=(Ir={},Ya(Ir,am,wc),Ya(Ir,lm,Sc),Ya(Ir,sm,Oc),Ir),KC=it.SWAP={101:wc,100:Sc,99:Oc},ZC=it.A_START_CHAR="\xD0",JC=it.B_START_CHAR="\xD1",e2=it.C_START_CHAR="\xD2",t2=it.A_CHARS="[\0-_\xC8-\xCF]",n2=it.B_CHARS="[ -\x7F\xC8-\xCF]",r2=it.C_CHARS="(\xCF*[0-9]{2}\xCF*)",i2=it.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]});var Tr=oe(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});var um=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),cm=yt(),dm=fm(cm),bt=Qn();function fm(e){return e&&e.__esModule?e:{default:e}}function pm(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function hm(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function mm(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var gm=function(e){mm(n,e);function n(t,r){pm(this,n);var i=hm(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t.substring(1),r));return i.bytes=t.split("").map(function(o){return o.charCodeAt(0)}),i}return um(n,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,i=r.shift()-105,o=bt.SET_BY_CODE[i];if(o===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(bt.FNC1);var a=n.next(r,1,o);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:n.getBar(i)+a.result+n.getBar((a.checksum+i)%bt.MODULO)+n.getBar(bt.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return bt.BARS[r]?bt.BARS[r].toString():""}},{key:"correctIndex",value:function(r,i){if(i===bt.SET_A){var o=r.shift();return o<32?o+64:o-32}else return i===bt.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,i,o){if(!r.length)return{result:"",checksum:0};var a=void 0,s=void 0;if(r[0]>=200){s=r.shift()-105;var h=bt.SWAP[s];h!==void 0?a=n.next(r,i+1,h):((o===bt.SET_A||o===bt.SET_B)&&s===bt.SHIFT&&(r[0]=o===bt.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),a=n.next(r,i+1,o))}else s=n.correctIndex(r,o),a=n.next(r,i+1,o);var w=n.getBar(s),S=s*i;return{result:w+a.result,checksum:S+a.checksum}}}]),n}(dm.default);Ka.default=gm});var Tc=oe(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});var nn=Qn(),Mc=function(n){return n.match(new RegExp("^"+nn.A_CHARS+"*"))[0].length},Ec=function(n){return n.match(new RegExp("^"+nn.B_CHARS+"*"))[0].length},Pc=function(n){return n.match(new RegExp("^"+nn.C_CHARS+"*"))[0]};function Za(e,n){var t=n?nn.A_CHARS:nn.B_CHARS,r=e.match(new RegExp("^("+t+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+"\xCC"+Ic(e.substring(r[1].length));var i=e.match(new RegExp("^"+t+"+"))[0];return i.length===e.length?e:i+String.fromCharCode(n?205:206)+Za(e.substring(i.length),!n)}function Ic(e){var n=Pc(e),t=n.length;if(t===e.length)return e;e=e.substring(t);var r=Mc(e)>=Ec(e);return n+String.fromCharCode(r?206:205)+Za(e,r)}Ja.default=function(e){var n=void 0,t=Pc(e).length;if(t>=2)n=nn.C_START_CHAR+Ic(e);else{var r=Mc(e)>Ec(e);n=(r?nn.A_START_CHAR:nn.B_START_CHAR)+Za(e,r)}return n.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,o){return"\xCB"+o})}});var Dc=oe(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});var vm=Tr(),_m=Rc(vm),ym=Tc(),bm=Rc(ym);function Rc(e){return e&&e.__esModule?e:{default:e}}function xm(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function el(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Cm(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var wm=function(e){Cm(n,e);function n(t,r){if(xm(this,n),/^[\x00-\x7F\xC8-\xD3]+$/.test(t))var i=el(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,(0,bm.default)(t),r));else var i=el(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r));return el(i)}return n}(_m.default);tl.default=wm});var kc=oe(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});var Sm=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Om=Tr(),Mm=Em(Om),Ac=Qn();function Em(e){return e&&e.__esModule?e:{default:e}}function Pm(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Im(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Tm(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Rm=function(e){Tm(n,e);function n(t,r){return Pm(this,n),Im(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,Ac.A_START_CHAR+t,r))}return Sm(n,[{key:"valid",value:function(){return new RegExp("^"+Ac.A_CHARS+"+$").test(this.data)}}]),n}(Mm.default);nl.default=Rm});var Nc=oe(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});var Dm=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Am=Tr(),km=Fm(Am),Fc=Qn();function Fm(e){return e&&e.__esModule?e:{default:e}}function Nm(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Lm(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Bm(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var qm=function(e){Bm(n,e);function n(t,r){return Nm(this,n),Lm(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,Fc.B_START_CHAR+t,r))}return Dm(n,[{key:"valid",value:function(){return new RegExp("^"+Fc.B_CHARS+"+$").test(this.data)}}]),n}(km.default);rl.default=qm});var Bc=oe(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});var jm=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Um=Tr(),zm=Vm(Um),Lc=Qn();function Vm(e){return e&&e.__esModule?e:{default:e}}function Gm(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Hm(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Wm(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var $m=function(e){Wm(n,e);function n(t,r){return Gm(this,n),Hm(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,Lc.C_START_CHAR+t,r))}return jm(n,[{key:"valid",value:function(){return new RegExp("^"+Lc.C_CHARS+"+$").test(this.data)}}]),n}(zm.default);il.default=$m});var qc=oe(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.CODE128C=Bt.CODE128B=Bt.CODE128A=Bt.CODE128=void 0;var Qm=Dc(),Xm=ro(Qm),Ym=kc(),Km=ro(Ym),Zm=Nc(),Jm=ro(Zm),e1=Bc(),t1=ro(e1);function ro(e){return e&&e.__esModule?e:{default:e}}Bt.CODE128=Xm.default;Bt.CODE128A=Km.default;Bt.CODE128B=Jm.default;Bt.CODE128C=t1.default});var Xn=oe(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});var p2=rn.SIDE_BIN="101",h2=rn.MIDDLE_BIN="01010",m2=rn.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},g2=rn.EAN2_STRUCTURE=["LL","LG","GL","GG"],v2=rn.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],_2=rn.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]});var Yn=oe(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});var n1=Xn(),r1=function(n,t,r){var i=n.split("").map(function(a,s){return n1.BINARIES[t[s]]}).map(function(a,s){return a?a[n[s]]:""});if(r){var o=n.length-1;i=i.map(function(a,s){return s<o?a+r:a})}return i.join("")};ol.default=r1});var ll=oe(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});var i1=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Kn=Xn(),o1=Yn(),jc=Uc(o1),a1=yt(),l1=Uc(a1);function Uc(e){return e&&e.__esModule?e:{default:e}}function s1(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function u1(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function c1(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var d1=function(e){c1(n,e);function n(t,r){s1(this,n);var i=u1(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r));return i.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return i1(n,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,i){return this.text.substr(r,i)}},{key:"leftEncode",value:function(r,i){return(0,jc.default)(r,i)}},{key:"rightText",value:function(r,i){return this.text.substr(r,i)}},{key:"rightEncode",value:function(r,i){return(0,jc.default)(r,i)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:Kn.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:r},{data:Kn.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:r},{data:Kn.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var r=[Kn.SIDE_BIN,this.leftEncode(),Kn.MIDDLE_BIN,this.rightEncode(),Kn.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),n}(l1.default);al.default=d1});var Vc=oe(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});var f1=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Rr=function e(n,t,r){n===null&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,t);if(i===void 0){var o=Object.getPrototypeOf(n);return o===null?void 0:e(o,t,r)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(r)}},p1=Xn(),h1=ll(),m1=g1(h1);function g1(e){return e&&e.__esModule?e:{default:e}}function v1(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _1(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function y1(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var zc=function(n){var t=n.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i*3:r+i},0);return(10-t%10)%10},b1=function(e){y1(n,e);function n(t,r){v1(this,n),t.search(/^[0-9]{12}$/)!==-1&&(t+=zc(t));var i=_1(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r));return i.lastChar=r.lastChar,i}return f1(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===zc(this.data)}},{key:"leftText",value:function(){return Rr(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),i=p1.EAN13_STRUCTURE[this.data[0]];return Rr(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftEncode",this).call(this,r,i)}},{key:"rightText",value:function(){return Rr(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return Rr(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=Rr(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),n}(m1.default);sl.default=b1});var Hc=oe(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});var x1=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),io=function e(n,t,r){n===null&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,t);if(i===void 0){var o=Object.getPrototypeOf(n);return o===null?void 0:e(o,t,r)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(r)}},C1=ll(),w1=S1(C1);function S1(e){return e&&e.__esModule?e:{default:e}}function O1(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function M1(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function E1(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Gc=function(n){var t=n.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i:r+i*3},0);return(10-t%10)%10},P1=function(e){E1(n,e);function n(t,r){return O1(this,n),t.search(/^[0-9]{7}$/)!==-1&&(t+=Gc(t)),M1(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return x1(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===Gc(this.data)}},{key:"leftText",value:function(){return io(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return io(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return io(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return io(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),n}(w1.default);ul.default=P1});var $c=oe(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});var I1=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),T1=Xn(),R1=Yn(),D1=Wc(R1),A1=yt(),k1=Wc(A1);function Wc(e){return e&&e.__esModule?e:{default:e}}function F1(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function N1(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function L1(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var B1=function(n){var t=n.split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i*9:r+i*3},0);return t%10},q1=function(e){L1(n,e);function n(t,r){return F1(this,n),N1(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return I1(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=T1.EAN5_STRUCTURE[B1(this.data)];return{data:"1011"+(0,D1.default)(this.data,r,"01"),text:this.text}}}]),n}(k1.default);cl.default=q1});var Xc=oe(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});var j1=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),U1=Xn(),z1=Yn(),V1=Qc(z1),G1=yt(),H1=Qc(G1);function Qc(e){return e&&e.__esModule?e:{default:e}}function W1(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function $1(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Q1(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var X1=function(e){Q1(n,e);function n(t,r){return W1(this,n),$1(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return j1(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=U1.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,V1.default)(this.data,r,"01"),text:this.text}}}]),n}(H1.default);dl.default=X1});var pl=oe(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});var Y1=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();oo.checksum=fl;var K1=Yn(),Zn=Yc(K1),Z1=yt(),J1=Yc(Z1);function Yc(e){return e&&e.__esModule?e:{default:e}}function eg(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function tg(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function ng(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var rg=function(e){ng(n,e);function n(t,r){eg(this,n),t.search(/^[0-9]{11}$/)!==-1&&(t+=fl(t));var i=tg(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r));return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return Y1(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==fl(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,Zn.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,Zn.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,Zn.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,Zn.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,Zn.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,Zn.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),n}(J1.default);function fl(e){var n=0,t;for(t=1;t<11;t+=2)n+=parseInt(e[t]);for(t=0;t<11;t+=2)n+=parseInt(e[t])*3;return(10-n%10)%10}oo.default=rg});var Jc=oe(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});var ig=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),og=Yn(),ag=Zc(og),lg=yt(),sg=Zc(lg),ug=pl();function Zc(e){return e&&e.__esModule?e:{default:e}}function cg(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function hl(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function dg(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var fg=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],pg=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],hg=function(e){dg(n,e);function n(t,r){cg(this,n);var i=hl(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r));if(i.isValid=!1,t.search(/^[0-9]{6}$/)!==-1)i.middleDigits=t,i.upcA=Kc(t,"0"),i.text=r.text||""+i.upcA[0]+t+i.upcA[i.upcA.length-1],i.isValid=!0;else if(t.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=t.substring(1,t.length-1),i.upcA=Kc(i.middleDigits,t[0]),i.upcA[i.upcA.length-1]===t[t.length-1])i.isValid=!0;else return hl(i);else return hl(i);return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return ig(n,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],i=this.upcA[this.upcA.length-1],o=pg[parseInt(i)][parseInt(r)];return(0,ag.default)(this.middleDigits,o)}}]),n}(sg.default);function Kc(e,n){for(var t=parseInt(e[e.length-1]),r=fg[t],i="",o=0,a=0;a<r.length;a++){var s=r[a];s==="X"?i+=e[o++]:i+=s}return i=""+n+i,""+i+(0,ug.checksum)(i)}ml.default=hg});var ed=oe(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.UPCE=gt.UPC=gt.EAN2=gt.EAN5=gt.EAN8=gt.EAN13=void 0;var mg=Vc(),gg=Jn(mg),vg=Hc(),_g=Jn(vg),yg=$c(),bg=Jn(yg),xg=Xc(),Cg=Jn(xg),wg=pl(),Sg=Jn(wg),Og=Jc(),Mg=Jn(Og);function Jn(e){return e&&e.__esModule?e:{default:e}}gt.EAN13=gg.default;gt.EAN8=_g.default;gt.EAN5=bg.default;gt.EAN2=Cg.default;gt.UPC=Sg.default;gt.UPCE=Mg.default});var td=oe(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});var I2=Dr.START_BIN="1010",T2=Dr.END_BIN="11101",R2=Dr.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]});var vl=oe(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});var Eg=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),ao=td(),Pg=yt(),Ig=Tg(Pg);function Tg(e){return e&&e.__esModule?e:{default:e}}function Rg(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Dg(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Ag(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var kg=function(e){Ag(n,e);function n(){return Rg(this,n),Dg(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return Eg(n,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,i=this.data.match(/.{2}/g).map(function(o){return r.encodePair(o)}).join("");return{data:ao.START_BIN+i+ao.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var i=ao.BINARIES[r[1]];return ao.BINARIES[r[0]].split("").map(function(o,a){return(o==="1"?"111":"1")+(i[a]==="1"?"000":"0")}).join("")}}]),n}(Ig.default);gl.default=kg});var rd=oe(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});var Fg=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Ng=vl(),Lg=Bg(Ng);function Bg(e){return e&&e.__esModule?e:{default:e}}function qg(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function jg(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Ug(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var nd=function(n){var t=n.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,i,o){return r+i*(3-o%2*2)},0);return Math.ceil(t/10)*10-t},zg=function(e){Ug(n,e);function n(t,r){return qg(this,n),t.search(/^[0-9]{13}$/)!==-1&&(t+=nd(t)),jg(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return Fg(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===nd(this.data)}}]),n}(Lg.default);_l.default=zg});var od=oe(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.ITF14=er.ITF=void 0;var Vg=vl(),Gg=id(Vg),Hg=rd(),Wg=id(Hg);function id(e){return e&&e.__esModule?e:{default:e}}er.ITF=Gg.default;er.ITF14=Wg.default});var tr=oe(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});var $g=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Qg=yt(),Xg=Yg(Qg);function Yg(e){return e&&e.__esModule?e:{default:e}}function Kg(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Zg(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Jg(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var ev=function(e){Jg(n,e);function n(t,r){return Kg(this,n),Zg(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return $g(n,[{key:"encode",value:function(){for(var r="110",i=0;i<this.data.length;i++){var o=parseInt(this.data[i]),a=o.toString(2);a=tv(a,4-a.length);for(var s=0;s<a.length;s++)r+=a[s]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),n}(Xg.default);function tv(e,n){for(var t=0;t<n;t++)e="0"+e;return e}yl.default=ev});var Ar=oe(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.mod10=nv;lo.mod11=rv;function nv(e){for(var n=0,t=0;t<e.length;t++){var r=parseInt(e[t]);(t+e.length)%2===0?n+=r:n+=r*2%10+Math.floor(r*2/10)}return(10-n%10)%10}function rv(e){for(var n=0,t=[2,3,4,5,6,7],r=0;r<e.length;r++){var i=parseInt(e[e.length-1-r]);n+=t[r%t.length]*i}return(11-n%11)%11}});var ad=oe(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});var iv=tr(),ov=lv(iv),av=Ar();function lv(e){return e&&e.__esModule?e:{default:e}}function sv(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function uv(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function cv(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var dv=function(e){cv(n,e);function n(t,r){return sv(this,n),uv(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t+(0,av.mod10)(t),r))}return n}(ov.default);bl.default=dv});var ld=oe(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});var fv=tr(),pv=mv(fv),hv=Ar();function mv(e){return e&&e.__esModule?e:{default:e}}function gv(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function vv(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function _v(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var yv=function(e){_v(n,e);function n(t,r){return gv(this,n),vv(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t+(0,hv.mod11)(t),r))}return n}(pv.default);xl.default=yv});var ud=oe(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});var bv=tr(),xv=Cv(bv),sd=Ar();function Cv(e){return e&&e.__esModule?e:{default:e}}function wv(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Sv(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Ov(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Mv=function(e){Ov(n,e);function n(t,r){return wv(this,n),t+=(0,sd.mod10)(t),t+=(0,sd.mod10)(t),Sv(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return n}(xv.default);Cl.default=Mv});var dd=oe(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});var Ev=tr(),Pv=Iv(Ev),cd=Ar();function Iv(e){return e&&e.__esModule?e:{default:e}}function Tv(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Rv(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Dv(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Av=function(e){Dv(n,e);function n(t,r){return Tv(this,n),t+=(0,cd.mod11)(t),t+=(0,cd.mod10)(t),Rv(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return n}(Pv.default);wl.default=Av});var fd=oe(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.MSI1110=It.MSI1010=It.MSI11=It.MSI10=It.MSI=void 0;var kv=tr(),Fv=kr(kv),Nv=ad(),Lv=kr(Nv),Bv=ld(),qv=kr(Bv),jv=ud(),Uv=kr(jv),zv=dd(),Vv=kr(zv);function kr(e){return e&&e.__esModule?e:{default:e}}It.MSI=Fv.default;It.MSI10=Lv.default;It.MSI11=qv.default;It.MSI1010=Uv.default;It.MSI1110=Vv.default});var pd=oe(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.pharmacode=void 0;var Gv=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Hv=yt(),Wv=$v(Hv);function $v(e){return e&&e.__esModule?e:{default:e}}function Qv(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Xv(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Yv(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Kv=function(e){Yv(n,e);function n(t,r){Qv(this,n);var i=Xv(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r));return i.number=parseInt(t,10),i}return Gv(n,[{key:"encode",value:function(){for(var r=this.number,i="";!isNaN(r)&&r!=0;)r%2===0?(i="11100"+i,r=(r-2)/2):(i="100"+i,r=(r-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),n}(Wv.default);so.pharmacode=Kv});var hd=oe(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.codabar=void 0;var Zv=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Jv=yt(),e_=t_(Jv);function t_(e){return e&&e.__esModule?e:{default:e}}function n_(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r_(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function i_(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var o_=function(e){i_(n,e);function n(t,r){n_(this,n),t.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(t="A"+t+"A");var i=r_(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t.toUpperCase(),r));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return Zv(n,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],i=this.getEncodings(),o=0;o<this.data.length;o++)r.push(i[this.data.charAt(o)]),o!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),n}(e_.default);uo.codabar=o_});var md=oe(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.GenericBarcode=void 0;var a_=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),l_=yt(),s_=u_(l_);function u_(e){return e&&e.__esModule?e:{default:e}}function c_(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function d_(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function f_(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var p_=function(e){f_(n,e);function n(t,r){return c_(this,n),d_(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return a_(n,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),n}(s_.default);co.GenericBarcode=p_});var vd=oe(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});var h_=Cc(),fo=qc(),nr=ed(),gd=od(),Fr=fd(),m_=pd(),g_=hd(),v_=md();Sl.default={CODE39:h_.CODE39,CODE128:fo.CODE128,CODE128A:fo.CODE128A,CODE128B:fo.CODE128B,CODE128C:fo.CODE128C,EAN13:nr.EAN13,EAN8:nr.EAN8,EAN5:nr.EAN5,EAN2:nr.EAN2,UPC:nr.UPC,UPCE:nr.UPCE,ITF14:gd.ITF14,ITF:gd.ITF,MSI:Fr.MSI,MSI10:Fr.MSI10,MSI11:Fr.MSI11,MSI1010:Fr.MSI1010,MSI1110:Fr.MSI1110,pharmacode:m_.pharmacode,codabar:g_.codabar,GenericBarcode:v_.GenericBarcode}});var Nr=oe(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});var __=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Ol.default=function(e,n){return __({},e,n)}});var _d=oe(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.default=y_;function y_(e){var n=[];function t(r){if(Array.isArray(r))for(var i=0;i<r.length;i++)t(r[i]);else r.text=r.text||"",r.data=r.data||"",n.push(r)}return t(e),n}});var yd=oe(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.default=b_;function b_(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}});var Il=oe(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.default=x_;function x_(e){var n=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var t in n)n.hasOwnProperty(t)&&(t=n[t],typeof e[t]=="string"&&(e[t]=parseInt(e[t],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}});var Rl=oe(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});var C_={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};Tl.default=C_});var Cd=oe(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});var w_=Il(),S_=xd(w_),O_=Rl(),bd=xd(O_);function xd(e){return e&&e.__esModule?e:{default:e}}function M_(e){var n={};for(var t in bd.default)bd.default.hasOwnProperty(t)&&(e.hasAttribute("jsbarcode-"+t.toLowerCase())&&(n[t]=e.getAttribute("jsbarcode-"+t.toLowerCase())),e.hasAttribute("data-"+t.toLowerCase())&&(n[t]=e.getAttribute("data-"+t.toLowerCase())));return n.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),n=(0,S_.default)(n),n}Dl.default=M_});var Al=oe(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.getTotalWidthOfEncodings=Tt.calculateEncodingAttributes=Tt.getBarcodePadding=Tt.getEncodingHeight=Tt.getMaximumHeightOfEncodings=void 0;var E_=Nr(),P_=I_(E_);function I_(e){return e&&e.__esModule?e:{default:e}}function wd(e,n){return n.height+(n.displayValue&&e.text.length>0?n.fontSize+n.textMargin:0)+n.marginTop+n.marginBottom}function Sd(e,n,t){if(t.displayValue&&n<e){if(t.textAlign=="center")return Math.floor((e-n)/2);if(t.textAlign=="left")return 0;if(t.textAlign=="right")return Math.floor(e-n)}return 0}function T_(e,n,t){for(var r=0;r<e.length;r++){var i=e[r],o=(0,P_.default)(n,i.options),a;o.displayValue?a=A_(i.text,o,t):a=0;var s=i.data.length*o.width;i.width=Math.ceil(Math.max(a,s)),i.height=wd(i,o),i.barcodePadding=Sd(a,s,o)}}function R_(e){for(var n=0,t=0;t<e.length;t++)n+=e[t].width;return n}function D_(e){for(var n=0,t=0;t<e.length;t++)e[t].height>n&&(n=e[t].height);return n}function A_(e,n,t){var r;if(t)r=t;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=n.fontOptions+" "+n.fontSize+"px "+n.font;var i=r.measureText(e);if(!i)return 0;var o=i.width;return o}Tt.getMaximumHeightOfEncodings=D_;Tt.getEncodingHeight=wd;Tt.getBarcodePadding=Sd;Tt.calculateEncodingAttributes=T_;Tt.getTotalWidthOfEncodings=R_});var Od=oe(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});var k_=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),F_=Nr(),N_=L_(F_),kl=Al();function L_(e){return e&&e.__esModule?e:{default:e}}function B_(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var q_=function(){function e(n,t,r){B_(this,e),this.canvas=n,this.encodings=t,this.options=r}return k_(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var t=0;t<this.encodings.length;t++){var r=(0,N_.default)(this.options,this.encodings[t].options);this.drawCanvasBarcode(r,this.encodings[t]),this.drawCanvasText(r,this.encodings[t]),this.moveCanvasDrawing(this.encodings[t])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var t=this.canvas.getContext("2d");t.save(),(0,kl.calculateEncodingAttributes)(this.encodings,this.options,t);var r=(0,kl.getTotalWidthOfEncodings)(this.encodings),i=(0,kl.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(t.fillStyle=this.options.background,t.fillRect(0,0,this.canvas.width,this.canvas.height)),t.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(t,r){var i=this.canvas.getContext("2d"),o=r.data,a;t.textPosition=="top"?a=t.marginTop+t.fontSize+t.textMargin:a=t.marginTop,i.fillStyle=t.lineColor;for(var s=0;s<o.length;s++){var h=s*t.width+r.barcodePadding;o[s]==="1"?i.fillRect(h,a,t.width,t.height):o[s]&&i.fillRect(h,a,t.width,t.height*o[s])}}},{key:"drawCanvasText",value:function(t,r){var i=this.canvas.getContext("2d"),o=t.fontOptions+" "+t.fontSize+"px "+t.font;if(t.displayValue){var a,s;t.textPosition=="top"?s=t.marginTop+t.fontSize-t.textMargin:s=t.height+t.textMargin+t.marginTop+t.fontSize,i.font=o,t.textAlign=="left"||r.barcodePadding>0?(a=0,i.textAlign="left"):t.textAlign=="right"?(a=r.width-1,i.textAlign="right"):(a=r.width/2,i.textAlign="center"),i.fillText(r.text,a,s)}}},{key:"moveCanvasDrawing",value:function(t){var r=this.canvas.getContext("2d");r.translate(t.width,0)}},{key:"restoreCanvas",value:function(){var t=this.canvas.getContext("2d");t.restore()}}]),e}();Fl.default=q_});var Md=oe(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});var j_=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),U_=Nr(),z_=V_(U_),Nl=Al();function V_(e){return e&&e.__esModule?e:{default:e}}function G_(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var po="http://www.w3.org/2000/svg",H_=function(){function e(n,t,r){G_(this,e),this.svg=n,this.encodings=t,this.options=r,this.document=r.xmlDocument||document}return j_(e,[{key:"render",value:function(){var t=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var i=this.encodings[r],o=(0,z_.default)(this.options,i.options),a=this.createGroup(t,o.marginTop,this.svg);this.setGroupOptions(a,o),this.drawSvgBarcode(a,o,i),this.drawSVGText(a,o,i),t+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,Nl.calculateEncodingAttributes)(this.encodings,this.options);var t=(0,Nl.getTotalWidthOfEncodings)(this.encodings),r=(0,Nl.getMaximumHeightOfEncodings)(this.encodings),i=t+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,r),this.options.background&&this.drawRect(0,0,i,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(t,r,i){var o=i.data,a;r.textPosition=="top"?a=r.fontSize+r.textMargin:a=0;for(var s=0,h=0,w=0;w<o.length;w++)h=w*r.width+i.barcodePadding,o[w]==="1"?s++:s>0&&(this.drawRect(h-r.width*s,a,r.width*s,r.height,t),s=0);s>0&&this.drawRect(h-r.width*(s-1),a,r.width*s,r.height,t)}},{key:"drawSVGText",value:function(t,r,i){var o=this.document.createElementNS(po,"text");if(r.displayValue){var a,s;o.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),r.textPosition=="top"?s=r.fontSize-r.textMargin:s=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||i.barcodePadding>0?(a=0,o.setAttribute("text-anchor","start")):r.textAlign=="right"?(a=i.width-1,o.setAttribute("text-anchor","end")):(a=i.width/2,o.setAttribute("text-anchor","middle")),o.setAttribute("x",a),o.setAttribute("y",s),o.appendChild(this.document.createTextNode(i.text)),t.appendChild(o)}}},{key:"setSvgAttributes",value:function(t,r){var i=this.svg;i.setAttribute("width",t+"px"),i.setAttribute("height",r+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+t+" "+r),i.setAttribute("xmlns",po),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(t,r,i){var o=this.document.createElementNS(po,"g");return o.setAttribute("transform","translate("+t+", "+r+")"),i.appendChild(o),o}},{key:"setGroupOptions",value:function(t,r){t.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(t,r,i,o,a){var s=this.document.createElementNS(po,"rect");return s.setAttribute("x",t),s.setAttribute("y",r),s.setAttribute("width",i),s.setAttribute("height",o),a.appendChild(s),s}}]),e}();Ll.default=H_});var Ed=oe(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});var W_=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();function $_(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var Q_=function(){function e(n,t,r){$_(this,e),this.object=n,this.encodings=t,this.options=r}return W_(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();Bl.default=Q_});var Pd=oe(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});var X_=Od(),Y_=ql(X_),K_=Md(),Z_=ql(K_),J_=Ed(),ey=ql(J_);function ql(e){return e&&e.__esModule?e:{default:e}}jl.default={CanvasRenderer:Y_.default,SVGRenderer:Z_.default,ObjectRenderer:ey.default}});var Gl=oe(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});function Ul(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function zl(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Vl(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var ty=function(e){Vl(n,e);function n(t,r){Ul(this,n);var i=zl(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return i.name="InvalidInputException",i.symbology=t,i.input=r,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return n}(Error),ny=function(e){Vl(n,e);function n(){Ul(this,n);var t=zl(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.name="InvalidElementException",t.message="Not supported type to render on",t}return n}(Error),ry=function(e){Vl(n,e);function n(){Ul(this,n);var t=zl(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.name="NoElementException",t.message="No element to render on.",t}return n}(Error);Lr.InvalidInputException=ty;Lr.InvalidElementException=ny;Lr.NoElementException=ry});var Td=oe($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});var iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy=Cd(),Hl=Id(oy),ay=Pd(),Br=Id(ay),ly=Gl();function Id(e){return e&&e.__esModule?e:{default:e}}function Wl(e){if(typeof e=="string")return sy(e);if(Array.isArray(e)){for(var n=[],t=0;t<e.length;t++)n.push(Wl(e[t]));return n}else{if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLImageElement)return uy(e);if(e&&e.nodeName&&e.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&e instanceof SVGElement)return{element:e,options:(0,Hl.default)(e),renderer:Br.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement)return{element:e,options:(0,Hl.default)(e),renderer:Br.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:Br.default.CanvasRenderer};if(e&&(typeof e>"u"?"undefined":iy(e))==="object"&&!e.nodeName)return{element:e,renderer:Br.default.ObjectRenderer};throw new ly.InvalidElementException}}function sy(e){var n=document.querySelectorAll(e);if(n.length!==0){for(var t=[],r=0;r<n.length;r++)t.push(Wl(n[r]));return t}}function uy(e){var n=document.createElement("canvas");return{element:n,options:(0,Hl.default)(e),renderer:Br.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",n.toDataURL())}}}$l.default=Wl});var Rd=oe(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});var cy=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();function dy(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var fy=function(){function e(n){dy(this,e),this.api=n}return cy(e,[{key:"handleCatch",value:function(t){if(t.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw t.message;else throw t;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(t){try{var r=t.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(i){return this.handleCatch(i),this.api}}}]),e}();Ql.default=fy});var qd=oe((lw,Bd)=>{"use strict";var py=vd(),Cn=on(py),hy=Nr(),qr=on(hy),my=_d(),Ad=on(my),gy=yd(),Dd=on(gy),vy=Td(),_y=on(vy),yy=Il(),by=on(yy),xy=Rd(),Cy=on(xy),kd=Gl(),wy=Rl(),Fd=on(wy);function on(e){return e&&e.__esModule?e:{default:e}}var Qt=function(){},ho=function(n,t,r){var i=new Qt;if(typeof n>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,_y.default)(n),i._encodings=[],i._options=Fd.default,i._errorHandler=new Cy.default(i),typeof t<"u"&&(r=r||{},r.format||(r.format=Ld()),i.options(r)[r.format](t,r).render()),i};ho.getModule=function(e){return Cn.default[e]};for(Xl in Cn.default)Cn.default.hasOwnProperty(Xl)&&Sy(Cn.default,Xl);var Xl;function Sy(e,n){Qt.prototype[n]=Qt.prototype[n.toUpperCase()]=Qt.prototype[n.toLowerCase()]=function(t,r){var i=this;return i._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var o=(0,qr.default)(i._options,r);o=(0,by.default)(o);var a=e[n],s=Nd(t,a,o);return i._encodings.push(s),i})}}function Nd(e,n,t){e=""+e;var r=new n(e,t);if(!r.valid())throw new kd.InvalidInputException(r.constructor.name,e);var i=r.encode();i=(0,Ad.default)(i);for(var o=0;o<i.length;o++)i[o].options=(0,qr.default)(t,i[o].options);return i}function Ld(){return Cn.default.CODE128?"CODE128":Object.keys(Cn.default)[0]}Qt.prototype.options=function(e){return this._options=(0,qr.default)(this._options,e),this};Qt.prototype.blank=function(e){var n=new Array(e+1).join("0");return this._encodings.push({data:n}),this};Qt.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var e;for(var n in this._renderProperties){e=this._renderProperties[n];var t=(0,qr.default)(this._options,e.options);t.format=="auto"&&(t.format=Ld()),this._errorHandler.wrapBarcodeCall(function(){var r=t.value,i=Cn.default[t.format.toUpperCase()],o=Nd(r,i,t);Yl(e,o,t)})}}};Qt.prototype.render=function(){if(!this._renderProperties)throw new kd.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)Yl(this._renderProperties[e],this._encodings,this._options);else Yl(this._renderProperties,this._encodings,this._options);return this};Qt.prototype._defaults=Fd.default;function Yl(e,n,t){n=(0,Ad.default)(n);for(var r=0;r<n.length;r++)n[r].options=(0,qr.default)(t,n[r].options),(0,Dd.default)(n[r].options);(0,Dd.default)(t);var i=e.renderer,o=new i(e.element,n,t);o.render(),e.afterRender&&e.afterRender()}typeof window<"u"&&(window.JsBarcode=ho);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(e,n){var t=[];return jQuery(this).each(function(){t.push(this)}),ho(t,e,n)});Bd.exports=ho});var Ps=(()=>{let n=class n{constructor(){this.product={},this.remove=new ot}onRemove(r){this.remove.emit(r)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-product-card"]],inputs:{product:"product"},outputs:{remove:"remove"},standalone:!0,features:[Re],decls:14,vars:6,consts:[[1,"product-card"],[1,"product-card-header"],[1,"ri-close-fill",3,"click"],[1,"product-card-body"],[1,"product-card-content"],["alt","product-img",3,"src"],[1,"product-description"],[1,"offer-label"]],template:function(i,o){i&1&&(O(0,"div",0)(1,"div",1)(2,"p"),ie(3),E(),O(4,"i",2),ue("click",function(){return o.onRemove(o.product)}),E()(),O(5,"div",3)(6,"div",4),he(7,"img",5),O(8,"div",6)(9,"span"),ie(10),E(),O(11,"div",7),ie(12),St(13,"number"),E()()()()()),i&2&&(F(3),Ze(o.product.brandName),F(4),st("src",o.product.imagesUrls[0],Ct),F(3),Ze(o.product.productName),F(2),je("",hn(13,4,o.product.price)," DA"))},dependencies:[Ci],styles:['@font-face{font-family:Ubuntu;src:url("./media/Ubuntu-Regular-55DNWN2R.ttf") format("truetype");font-weight:400;font-style:normal}[_ngcontent-%COMP%]:root{--bg-color: #ffffff;--font-color: #000000;--hover-font-color: #000000;--input-border-color: rgba(128, 128, 128, .44);--main-bg-color: #f2f2f2;--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: #E8476057;--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(27, 31, 35, .15);--footer-color:#000;--box-shadow: $box-shadow}[data-theme=dark][_ngcontent-%COMP%]{--bg-color: #161625;--font-color: #ffffff;--hover-font-color: #000000;--input-border-color: #E8476057;--main-bg-color: rgb(14, 14, 27);--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: rgba(255, 255, 255, .16);--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(60, 64, 68, .78);--footer-color:#fff;--box-shadow: $box-shadow}[_ngcontent-%COMP%]:dir(ltr){font-family:Ubuntu,sans-serif;--small-font-size: 11px;--normal-font-size: 14px;--medium-font-size: 18px;--big-font-size: 21px}[_ngcontent-%COMP%]:dir(rtl){font-family:Ubuntu,sans-serif;--small-font-size: 13px;--normal-font-size: 16px;--medium-font-size: 20px;--big-font-size: 23px}.excel-color[_ngcontent-%COMP%]{color:green!important}.pdf-color[_ngcontent-%COMP%]{color:#ff4500!important}.focus-color[_ngcontent-%COMP%]{border-color:var(--main-secoundary-color);outline:0;-webkit-box-shadow:0 0 0 .1rem rgba(199,37,62,.31);box-shadow:0 0 0 .1rem #c7253e4f}.product-card[_ngcontent-%COMP%]{border:.1em solid var(--main-bg-color);border-radius:1em;background-color:var(--main-bg-color);box-shadow:0 2px 4px #00000014;padding:10px 20px;margin-bottom:20px}.product-card[_ngcontent-%COMP%]   .product-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.product-card[_ngcontent-%COMP%]   .product-card-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--normal-font-size);font-weight:700}.product-card[_ngcontent-%COMP%]   .product-card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:var(--main-primary-color);cursor:pointer}.product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]   .product-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3px 0}.product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]   .product-card-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:60px;border-radius:50%;margin-right:10px}.product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]   .product-card-content[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column}.product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]   .product-card-content[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color);font-size:var(--normal-font-size);font-weight:700;margin:5px 0}.product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]   .product-card-content[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]   .offer-label[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center;background-color:var(--main-secoundary-color);color:var(--main-primary-color);padding:.3em;font-size:var(--small-font-size);border-radius:.5em}.product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--main-primary-color);cursor:pointer}.product-card[_ngcontent-%COMP%]:hover{cursor:pointer}@media (max-width: 767px){a[_ngcontent-%COMP%], p[_ngcontent-%COMP%], span[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:var(--small-font-size)!important}*[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}*[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}}@media (min-width: 768px) and (max-width: 991px){a[_ngcontent-%COMP%], p[_ngcontent-%COMP%], span[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:var(--small-font-size)!important}*[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}*[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}}']});let e=n;return e})();var bf=["chart"],Is=(()=>{let n=class n{constructor(){this.autoUpdateSeries=!0,this.chartReady=new ot,this.chartInstance=cs(null),this.ngZone=ia(ss),this.isBrowser=gs(ia(us))}ngOnChanges(r){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{Jl.schedule(()=>this.hydrate(r))})}ngOnDestroy(){this.destroy()}hydrate(r){if(this.autoUpdateSeries&&Object.keys(r).filter(o=>o!=="series").length===0){this.updateSeries(this.series,!0);return}this.createElement()}createElement(){return _e(this,null,function*(){let{default:r}=yield import("./chunk-FGYZFYLO.js");window.ApexCharts||=r;let i={};this.annotations&&(i.annotations=this.annotations),this.chart&&(i.chart=this.chart),this.colors&&(i.colors=this.colors),this.dataLabels&&(i.dataLabels=this.dataLabels),this.series&&(i.series=this.series),this.stroke&&(i.stroke=this.stroke),this.labels&&(i.labels=this.labels),this.legend&&(i.legend=this.legend),this.fill&&(i.fill=this.fill),this.tooltip&&(i.tooltip=this.tooltip),this.plotOptions&&(i.plotOptions=this.plotOptions),this.responsive&&(i.responsive=this.responsive),this.markers&&(i.markers=this.markers),this.noData&&(i.noData=this.noData),this.xaxis&&(i.xaxis=this.xaxis),this.yaxis&&(i.yaxis=this.yaxis),this.forecastDataPoints&&(i.forecastDataPoints=this.forecastDataPoints),this.grid&&(i.grid=this.grid),this.states&&(i.states=this.states),this.title&&(i.title=this.title),this.subtitle&&(i.subtitle=this.subtitle),this.theme&&(i.theme=this.theme),this.destroy();let o=this.ngZone.runOutsideAngular(()=>new r(this.chartElement.nativeElement,i));this.chartInstance.set(o),this.render(),this.chartReady.emit({chartObj:o})})}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(r,i,o,a){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(r,i,o,a))}updateSeries(r,i){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(r,i))}appendSeries(r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(r,i))}appendData(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(r))}highlightSeries(r){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(r))}toggleSeries(r){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(r))}showSeries(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(r))}hideSeries(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(r))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(r,i))}toggleDataPointSelection(r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(r,i))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(r))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(r,i,o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(r,i,o))}addYaxisAnnotation(r,i,o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(r,i,o))}addPointAnnotation(r,i,o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(r,i,o))}removeAnnotation(r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(r,i))}clearAnnotations(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(r))}dataURI(r){return this.chartInstance()?.dataURI(r)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Ie({type:n,selectors:[["apx-chart"]],viewQuery:function(i,o){if(i&1&&Fe(bf,7),i&2){let a;Ne(a=Le())&&(o.chartElement=a.first)}},inputs:{chart:"chart",annotations:"annotations",colors:"colors",dataLabels:"dataLabels",series:"series",stroke:"stroke",labels:"labels",legend:"legend",markers:"markers",noData:"noData",fill:"fill",tooltip:"tooltip",plotOptions:"plotOptions",responsive:"responsive",xaxis:"xaxis",yaxis:"yaxis",forecastDataPoints:"forecastDataPoints",grid:"grid",states:"states",title:"title",subtitle:"subtitle",theme:"theme",autoUpdateSeries:"autoUpdateSeries"},outputs:{chartReady:"chartReady"},standalone:!0,features:[Vt,Re],decls:2,vars:0,consts:[["chart",""]],template:function(i,o){i&1&&he(0,"div",null,0)},encapsulation:2,changeDetection:0});let e=n;return e})();var xf=()=>["var(--main-primary-color)"];function Cf(e,n){if(e&1&&(O(0,"div"),he(1,"apx-chart",0),E()),e&2){let t=N();F(),te("colors",Xe(15,xf))("series",t.chartOptions.series)("chart",t.chartOptions.chart)("xaxis",t.chartOptions.xaxis)("yaxis",t.chartOptions.yaxis)("title",t.chartOptions.title)("dataLabels",t.chartOptions.dataLabels)("stroke",t.chartOptions.stroke)("markers",t.chartOptions.markers)("tooltip",t.chartOptions.tooltip)("legend",t.chartOptions.legend)("responsive",t.chartOptions.responsive)("fill",t.chartOptions.fill)("plotOptions",t.chartOptions.plotOptions)("grid",t.chartOptions.grid)}}var ua=(()=>{let n=class n{constructor(){this.chartOptions={}}ngOnInit(){}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-generic-chart"]],inputs:{chartOptions:"chartOptions"},standalone:!0,features:[Re],decls:1,vars:1,consts:[[3,"colors","series","chart","xaxis","yaxis","title","dataLabels","stroke","markers","tooltip","legend","responsive","fill","plotOptions","grid"]],template:function(i,o){i&1&&xe(0,Cf,2,16,"div"),i&2&&Pe(o.chartOptions?0:-1)},dependencies:[Is]});let e=n;return e})();var Ts={series:[{name:"Sales",data:[]}],chart:{type:"line",height:300},title:{text:"Product Trends by Month (last 6 months)",align:"left"},xaxis:{categories:[]}},Rs={series:[150,200,100,80],chart:{type:"pie",height:350},title:{text:"Number of Orders by Customer",align:"left"},tooltip:{enabled:!0,y:{formatter:e=>`${e} Orders`}},responsive:[{breakpoint:480,options:{chart:{width:250},legend:{position:"bottom"}}}]},Ds={series:[{name:"Sales",data:[]}],chart:{type:"bar",height:350},title:{text:"Top 5 Products Sales ",align:"left"},xaxis:{categories:[]}};var wf=()=>[import("./chunk-RXS5DXLC.js").then(e=>e.DropDownComponent)],ca=()=>[At,import("./chunk-6IKDBJ33.js").then(e=>e.RouterLink)],Sf=()=>[import("./chunk-MGBABKHQ.js").then(e=>e.StatCardComponent)],Of=()=>[ua,import("./chunk-SUBI2KKQ.js").then(e=>e.GenericDropDownComponent)],Mf=()=>[ua],da=()=>[];function Ef(e,n){if(e&1){let t=Ae();O(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17)(5,"span"),ie(6),E()(),O(7,"div",18)(8,"h1",19),ie(9,"Good morning"),E(),O(10,"h4",20),ie(11),E()()()(),O(12,"div",21)(13,"div",22)(14,"app-drop-down",23),ue("selectOption",function(i){Se(t);let o=N();return Oe(o.onSelectDate(i))}),E(),O(15,"span"),ie(16,"you have :"),E(),O(17,"span"),ie(18),E()(),O(19,"div",24)(20,"span")(21,"span",25),ie(22),E(),ie(23,"new orders"),E(),O(24,"span"),ie(25,"|"),E(),O(26,"span")(27,"span",26),ie(28),E(),ie(29,"Product reviews"),E(),O(30,"span"),ie(31,"|"),E(),O(32,"span")(33,"span",27),ie(34),E(),ie(35,"new visitors"),E()()()()()}if(e&2){let t,r=N();F(4),ht("height",80,"px")("width",80,"px")("background-color",r.user==null?null:r.user.profileColor),F(2),Ze(r.user==null||r.user.lastName==null||(t=r.user.lastName.substring(0,1))==null?null:t.toUpperCase()),F(5),Ze((r.user==null?null:r.user.lastName)+" "+(r.user==null?null:r.user.firstName)),F(3),te("options",r.weeksDropdownOptions)("selectedOption",r.weeksDropdownOptions[0]),F(4),je(" ",r.ordersCount+r.reviewsCount," new Updates "),F(4),je(" ",r.ordersCount," "),F(6),je(" ",r.reviewsCount," "),F(6),je(" ",r.visitorsCount,"")}}function Pf(e,n){e&1&&he(0,"app-skelton",28),e&2&&te("height",100)("maxHeight",115)("shape","dr-banner")}function If(e,n){if(e&1&&(O(0,"div",29)(1,"div",30)(2,"div",31),he(3,"i",32),O(4,"h1",33),ie(5),E()(),O(6,"div",16),he(7,"i"),O(8,"span",33),ie(9),E()()(),O(10,"div",34)(11,"div",35)(12,"span",36),ie(13,"total of reviews"),E()(),O(14,"div",37),he(15,"app-button",38),E()()()),e&2){let t=N();F(5),Ze(t.reviewsCount),F(2),Dn("",t.reviewsChangesIconClass,"  mr-5"),F(2),je("",t.reviewsPercentageAccordingToLastWeek,"% than the last day")}}function Tf(e,n){e&1&&he(0,"app-skelton",39),e&2&&te("height",141)("maxHeight",141)}function Rf(e,n){if(e&1&&(O(0,"div",40)(1,"div",30)(2,"div",31),he(3,"i",41),O(4,"h1",33),ie(5),E()(),O(6,"div",16),he(7,"i"),O(8,"span",33),ie(9),E()()(),O(10,"div",34)(11,"div",35)(12,"span",36),ie(13," total of visitors"),E()(),O(14,"div",37),he(15,"app-button",42),E()()()),e&2){let t=N();F(5),Ze(t.visitorsCount),F(2),Dn("",t.visitorsChangesIconClass," red-text mr-5"),F(2),je("",t.visitorsPercentageAccordingToLastWeek,"% than the last day")}}function Df(e,n){e&1&&he(0,"app-skelton",39),e&2&&te("height",141)("maxHeight",141)}function Af(e,n){if(e&1&&(O(0,"div",43)(1,"div",30)(2,"div",31),he(3,"i",44),O(4,"h1",33),ie(5),E()(),O(6,"div",16),he(7,"i"),O(8,"span",33),ie(9),E()()(),O(10,"div",34)(11,"div",35)(12,"span",36),ie(13," total of orders "),E()(),O(14,"div",37),he(15,"app-button",45),E()()()),e&2){let t=N();F(5),Ze(t.ordersCount),F(2),Dn("",t.orderChangesIconClass," green-text mr-5 "),F(2),je("",t.ordersPercentageAccordingToLastWeek,"% than the last day")}}function kf(e,n){e&1&&he(0,"app-skelton",39),e&2&&te("height",141)("maxHeight",141)}function Ff(e,n){if(e&1){let t=Ae();O(0,"app-stat-card",47),ue("consultCard",function(i){Se(t);let o=N(2);return Oe(o.onConsultCard(i))}),E()}if(e&2){let t=n.$implicit;te("statData",t)}}function Nf(e,n){if(e&1&&We(0,Ff,1,1,"app-stat-card",46,He),e&2){let t=N();$e(t.statsData)}}function Lf(e,n){e&1&&he(0,"app-skelton",28),e&2&&te("height",100)("maxHeight",137)("shape","notification-card")}function Bf(e,n){e&1&&We(0,Lf,1,3,"app-skelton",28,He),e&2&&$e(Xe(0,da).constructor(2))}function qf(e,n){if(e&1){let t=Ae();O(0,"div",48)(1,"div",49)(2,"app-generic-drop-down",50),ue("selectOption",function(i){Se(t);let o=N();return Oe(o.onSelectProduct(i))}),E()(),he(3,"app-generic-chart",51),E()}if(e&2){let t=N();F(2),te("options",t.allProducts),F(),te("chartOptions",t.lineChartOptions)}}function jf(e,n){e&1&&he(0,"app-skelton",39),e&2&&te("height",200)("maxHeight",200)}function Uf(e,n){if(e&1&&(O(0,"div",48),he(1,"app-generic-chart",51),E()),e&2){let t=N();F(),te("chartOptions",t.barChartOptions)}}function zf(e,n){e&1&&he(0,"app-skelton",39),e&2&&te("height",200)("maxHeight",200)}function Vf(e,n){if(e&1){let t=Ae();O(0,"div",52)(1,"app-product-card",53),ue("remove",function(i){Se(t);let o=N(2);return Oe(o.removeFromRecommended(i))}),E()()}if(e&2){let t=n.$implicit;F(),te("product",t)}}function Gf(e,n){if(e&1){let t=Ae();O(0,"div",52)(1,"div",54),ue("click",function(){Se(t);let i=N(3);return Oe(i.productDialog=!0)}),he(2,"i",55),E()()}}function Hf(e,n){if(e&1&&We(0,Gf,3,0,"div",52,He),e&2){let t=N(2);$e(Xe(0,da).constructor(5-t.recommendedProducts.length))}}function Wf(e,n){if(e&1&&(O(0,"h4"),ie(1," List of Produits recommand\xE9s :"),E(),O(2,"div",1)(3,"div",2),We(4,Vf,2,1,"div",52,He),xe(6,Hf,2,1),E()()),e&2){let t=N();F(4),$e(t.recommendedProducts),F(2),Pe(t.recommendedProducts.length<5?6:-1)}}function $f(e,n){e&1&&(O(0,"div",62)(1,"div",63)(2,"span",36),ie(3,"You have a new notification mr zineddine zebiri"),E(),he(4,"i",64),E(),O(5,"div",65)(6,"span",36),ie(7,"4 hours ago"),E()()())}function Qf(e,n){if(e&1&&(O(0,"div",10)(1,"div",56)(2,"h2",57),ie(3," list of notifications :"),E(),O(4,"div",58)(5,"span",59),ie(6),E(),O(7,"span",36),ie(8,"Mark all as read"),E(),he(9,"i",60),E()(),O(10,"div",61),We(11,$f,8,0,"div",62,He),E()()),e&2){let t=N();F(6),Ze(t.selectedStat.count),F(5),$e(Xe(1,da).constructor(t.selectedStat.count))}}function Xf(e,n){}function Yf(e,n){if(e&1){let t=Ae();O(0,"div",12)(1,"div",35)(2,"div",16),he(3,"img",66),O(4,"span",57),ie(5),E()(),O(6,"app-button",67),ue("click",function(){let i=Se(t).$implicit,o=N();return Oe(i.isRecommended?!0:o.addToRecommended(i))}),E()()()}if(e&2){let t=n.$implicit;F(3),st("src",t.imagesUrls[0],Ct),F(2),Ze(t.productName),F(),te("disabled",t.isRecommended)}}var ks=(()=>{let n=class n{constructor(r,i,o,a){this.authFirebaseService=r,this.cdr=i,this.crudService=o,this.applicationService=a,this.user={},this.currentUserRole="",this.visitorsPercentageAccordingToLastWeek=0,this.visitorsCount=0,this.barChartOptions=Ds,this.landingDetailsDialog=!1,this.productDialog=!1,this.weeksDropdownOptions=vs,this.selectedDate=this.weeksDropdownOptions[0],this.statsData=[{count:4,title:"Notifications",action:"open notifications"},{count:0,title:"Produits recommand\xE9s",action:"Update List"}],this.selectedStat={},this.lineChartOptions=Ts,this.allOrders=[],this.ordersPieChartOptions=Rs,this.allProducts=[],this.recommendedProducts=[],this.getTopProducts=h=>h.sort((w,S)=>S.numberSales-w.numberSales).slice(0,5),this.DB_PATHS=Ce,this.authFirebaseService.$user.subscribe(h=>{this.user=h}),this.authFirebaseService.$user.subscribe(h=>{this.currentUserRole=h?.role}),this.listOfLastSixMonths=a.getLastSixMonthsLabels();let s=this.getProductCountByMonth("-OADYFViBhXxP3QW9XR_");console.log(Array.from(s.values())),this.lineChartOptions.xaxis.categories=this.listOfLastSixMonths}ngOnInit(){return _e(this,null,function*(){this.loading=!0,yield this.getStats(),yield this.findProducts(),this.updateCount("Produits recommand\xE9s",this.recommendedProducts.length),yield this.findOrders(),this.loading=!1})}findProducts(){return new Promise((r,i)=>{this.crudService.getItemsList(Ce.PRODUCTS).subscribe({next:o=>{this.allProducts=o,this.recommendedProducts=[],console.log("all product",this.allProducts),this.allProducts.map(h=>{h.isRecommended&&this.recommendedProducts.push(h)});let a=this.getTopProducts(this.allProducts);this.barChartOptions.series[0].data=a.map(h=>h.numberSales);let s=this.getProductCountByMonth(this.allProducts[0].id);this.barChartOptions.xaxis.categories=a.map(h=>h.productName),this.lineChartOptions=Tn(In({},this.lineChartOptions),{series:[Tn(In({},this.lineChartOptions.series[0]),{data:Array.from(s.values())})]}),r()},error:o=>{i(o)}})})}findOrders(){return new Promise((r,i)=>{let o=new Date,a=new Date;a.setMonth(o.getMonth()-6),this.crudService.getItemsByDateRange("date",a,o,Ce.ORDERS).subscribe({next:s=>{this.allOrders=s.sort((h,w)=>w.date-h.date),this.getProductCountByMonth(this.allProducts[0].id),r()},error:s=>{i(s)}})})}getOrdersByMonth(){let r=new Map;return this.listOfLastSixMonths.forEach(i=>{let o=this.allOrders.filter(a=>new Date(a.date).toLocaleString("default",{month:"long"}).trim()===i.trim());r.set(i,o)}),console.log("orders by month:",r),r}getProductCountByMonth(r){let i=new Map;return this.listOfLastSixMonths.forEach(o=>{let s=this.allOrders.filter(h=>new Date(h.date).toLocaleString("default",{month:"long"}).trim()===o.trim()).reduce((h,w)=>{console.log("order",w.products),console.log("count",h);let S=w.products.map(B=>B.productId===r?B.quantity:0).reduce((B,T)=>B+Number(T),0);return h+S},0);i.set(o,s)}),console.log("Product count by month:",i),i}getStats(){return _e(this,null,function*(){yield this.getCountOfData(Ce.ORDERS).then(r=>{this.ordersCount=r.todayCount,this.ordersPercentageAccordingToLastWeek=r.lastDayCountPercentage,this.orderChangesIconClass=r.iconClass}).catch(r=>{console.error(r)}),yield this.getCountOfData(Ce.REVIEWS).then(r=>{this.reviewsCount=r.todayCount,this.reviewsPercentageAccordingToLastWeek=r.lastDayCountPercentage,this.reviewsChangesIconClass=r.iconClass}).catch(r=>{console.error(r)})})}getCountOfData(r){return _e(this,null,function*(){return new Promise((i,o)=>{this.crudService.getItemsList(r).subscribe(a=>{let s=new Date(this.selectedDate.value);s.setHours(0,0,0,0),new Date().setHours(0,0,0,0);let w=new Date(s);w.setDate(s.getDate()-1),console.log("last date ......"),console.log(w);let S=a.filter(ee=>{let J=new Date(ee.createdAt);return J.setHours(0,0,0,0),J.getTime()===s.getTime()}).length,B=a.filter(ee=>{let J=new Date(ee.createdAt);return J.setHours(0,0,0,0),J.getTime()===w.getTime()}).length;console.log("todayCount"+r),console.log(S),console.log("last day count "+r),console.log(B);let T=this.percentageOfChanges(B,S),W=S>B?"ri-arrow-right-up-line green-text":S===B?"ri-arrow-right-line ":"ri-arrow-right-down-line red-text";i({todayCount:S,lastDayCountPercentage:T,iconClass:W})},a=>o(a))})})}percentageOfChanges(r,i){let o=0;return r>0?o=(i-r)/r*100:r===0?o=i>0?100:0:o=0,Math.round(Math.abs(o))}onSelectDate(r){return _e(this,null,function*(){this.selectedDate=r,this.loading=!0,yield this.getStats(),this.loading=!1})}onConsultCard(r){return _e(this,null,function*(){this.selectedStat=r,this.landingDetailsDialog=!0})}addToRecommended(r){r.isRecommended=!0,this.recommendedProducts.push(r),this.crudService.updateItem(Ce.PRODUCTS,r.id,r).then(i=>{this.updateCount("Produits recommand\xE9s",this.recommendedProducts.length),this.productDialog=!1,this.applicationService.showSwalDialog("Product added successfully","success","#cce5cc")})}removeFromRecommended(r){console.log(r.id),r.isRecommended=!1,this.crudService.updateItem(Ce.PRODUCTS,r.id,r).then(i=>{this.recommendedProducts=this.recommendedProducts.filter(o=>o.id!=r.id),this.updateCount("Produits recommand\xE9s",this.recommendedProducts.length),this.productDialog=!1,this.applicationService.showSwalDialog("Product removed successfully successfully","success","#cce5cc")})}onSelectProduct(r){console.log(r.id);let i=this.getProductCountByMonth(r.id);this.lineChartOptions.xaxis.categories=this.listOfLastSixMonths,this.lineChartOptions=Tn(In({},this.lineChartOptions),{series:[Tn(In({},this.lineChartOptions.series[0]),{data:Array.from(i.values())})]})}updateCount(r,i){this.statsData=this.statsData.map(o=>o.title===r?Tn(In({},o),{count:i}):o)}};n.\u0275fac=function(i){return new(i||n)(ve(Ln),ve(ps),ve(Be),ve(Ve))},n.\u0275cmp=Ie({type:n,selectors:[["app-landing"]],standalone:!0,features:[Re],decls:49,vars:9,consts:[[3e3],[1,"container"],[1,"row"],[1,"col-lg-10","col-md-12","col-sm-12"],[1,"col-lg-4","col-md-12","col-sm-12"],[1,"col-lg-2","col-md-12","col-sm-12"],[1,"p-0"],[1,"col-lg-8","col-md-12","col-sm-12"],["height","80%","width","50%",3,"closeModal","modalId","showFooter","showModal"],["modal-body",""],[1,"notification-container"],["height","100%","width","30%",3,"closeModal","modalId","showModal"],[1,"card","main-background-color"],[1,"col-12"],[1,"welcome-card","row"],[1,"welcome-card-left","col-lg-6","col-sm-12","col-md-12"],[1,"d-flex","align-center","justify-start"],[1,"blank-user","mr-10"],[1,"d-flex","flex-column"],[1,"m-0","mb-3"],[1,"m-0","primary-text"],[1,"welcome-card-right","col-lg-6","col-sm-12","col-md-12"],[1,"welcome-card-right-top"],[2,"width","150px",3,"selectOption","options","selectedOption"],[1,"welcome-card-right-bottom"],[1,"orders-text-color"],[1,"reviews-text-color"],[1,"visitors-text-color"],[3,"height","maxHeight","shape"],[1,"banner-utility-card","reviews-bg-color","d-flex","flex-column"],[1,"banner-utility-card-header"],[1,"d-flex","align-center","justify-start","banner-utility-card-header-left"],[1,"ri-star-fill"],[1,"fade-in-fwd"],[1,"banner-utility-card-content"],[1,"d-flex","align-center","justify-content-between"],[1,"font-color-text"],[1,"mt-20"],["color","#ffffff","bgColor","transparent","hoverColor","transparent","label","view more","routerLink","reviews","icon","ri-arrow-right-s-line","size","small"],[3,"height","maxHeight"],[1,"banner-utility-card","visitors-card-bg-color","d-flex","flex-column"],[1,"ri-eye-fill"],["color","#ffffff","bgColor","transparent","hoverColor","transparent","label","view more","routerLink","orders","icon","ri-arrow-right-s-line","size","small"],[1,"banner-utility-card","orders-bg-color","d-flex","flex-column"],[1,"ri-shopping-bag-fill"],["color","#ffffff","bgColor","transparent","hoverColor","transparent","label","view more","routerLink","/orders","icon","ri-arrow-right-s-line","size","small"],[3,"statData"],[3,"consultCard","statData"],[1,"card"],[1,"col-lg-3","col-md-6","col-sm-12","mb-10"],["bindLabel","productName","bindValue","id",3,"selectOption","options"],[3,"chartOptions"],[1,"col-6","fade-in-fwd"],[3,"remove","product"],[1,"card","clickable","add-new-card","h-100",3,"click"],[1,"ri","ri-add-line"],[1,"notification-container-header","d-flex","align-center","justify-content-between","mb-10"],[1,"font-color-text","bold"],[1,"d-flex","align-center","justify-starts"],[1,"notifications-count","d-flex","align-center","justify-content-center"],[1,"ri-checkbox-circle-line","primary-text","bold","clickable","cursor-pointer"],[1,"notification-container-body"],[1,"card","notification-card","main-background-color","clickable","cursor-pointer"],[1,"notification-card-content","d-flex","align-center","justify-content-between"],[1,"ri-circle-fill"],[1,"notification-card-date","d-flex","align-center","justify-content-between"],["height","40","alt","p-image",1,"mr-5",3,"src"],["label","Add","size","small",3,"click","disabled"]],template:function(i,o){if(i&1&&(O(0,"div",1)(1,"div",2)(2,"div",3),xe(3,Ef,36,14)(4,Pf,1,3),ct(5,3,wf,null,4,null,null,0,Yt),fr(),O(7,"div",2)(8,"div",4),xe(9,If,16,5)(10,Tf,1,2),ct(11,9,ca,null,10,null,null,0,Yt),E(),O(13,"div",4),xe(14,Rf,16,5)(15,Df,1,2),ct(16,14,ca,null,15,null,null,0,Yt),E(),O(18,"div",4),xe(19,Af,16,5)(20,kf,1,2),ct(21,19,ca,null,20,null,null,0,Yt),E()()(),O(23,"div",5)(24,"div",6),xe(25,Nf,2,0)(26,Bf,2,1),ct(27,25,Sf,null,26,null,null,0,Yt),fr(),E()()(),O(29,"div",2)(30,"div",7),xe(31,qf,4,2)(32,jf,1,2),ct(33,31,Of,null,32,null,null,0,Yt),fr(),E(),O(35,"div",4),xe(36,Uf,2,1)(37,zf,1,2),ct(38,36,Mf,null,37,null,null,0,Yt),fr(),E()()(),O(40,"app-modal",8),ue("closeModal",function(s){return o.landingDetailsDialog=s}),O(41,"div",9),xe(42,Wf,7,1)(43,Qf,13,2,"div",10)(44,Xf,0,0),E()(),O(45,"app-modal",11),ue("closeModal",function(s){return o.productDialog=s}),O(46,"div",9),We(47,Yf,7,3,"div",12,He),E()()),i&2){let a;F(11),wt(!o.loading),F(5),wt(!o.loading),F(5),wt(!o.loading),F(19),te("modalId","details-news-dialog")("showFooter",o.selectedStat.title=="Produits recommand\xE9s")("showModal",o.landingDetailsDialog),F(2),Pe((a=o.selectedStat.title)==="Produits recommand\xE9s"?42:a==="Notifications"?43:44),F(3),te("modalId","list-products-dialog")("showModal",o.productDialog),F(2),$e(o.allProducts)}},dependencies:[wi,Ps,At,mn,Nn],styles:[".welcome-card-bg[_ngcontent-%COMP%]{z-index:4}.banner-utility-card[_ngcontent-%COMP%]{box-shadow:#00000029 0 1px 4px;padding:1em;border:0!important;height:auto;box-sizing:border-box;border-radius:.4em;margin-bottom:20px;color:#fff}.banner-utility-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.banner-utility-card-header-left[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:.2em;background-color:transparent;color:#fff;font-size:32px;font-weight:600;border-radius:.2em}.banner-utility-card-header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-weight:600;color:#fff}.banner-utility-card-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:10px;font-size:17px;font-weight:600;color:#fff}.visitors-card-bg-color[_ngcontent-%COMP%]{background-color:#8bc6ec;background-image:linear-gradient(135deg,#8bc6ec,#9599e2)}.visitors-text-color[_ngcontent-%COMP%]{color:#8bc6ec}.orders-bg-color[_ngcontent-%COMP%]{background-color:#fbab7e;background-image:linear-gradient(62deg,#fbab7e,#f7ce68)}.orders-text-color[_ngcontent-%COMP%]{color:#fbab7e}.reviews-bg-color[_ngcontent-%COMP%]{background-color:#ff3cac;background-image:linear-gradient(225deg,#ff3cac,#784ba0,#2b86c5)}.reviews-text-color[_ngcontent-%COMP%]{color:#ff3cac}.notification-container[_ngcontent-%COMP%]{position:relative}.notification-container-header[_ngcontent-%COMP%]{position:sticky;top:calc(0px - 1.25rem);padding-bottom:20px;background-color:var(--bg-color)}.notification-container-header[_ngcontent-%COMP%]   .notifications-count[_ngcontent-%COMP%]{background-color:red;color:#fff;padding:.7em;border-radius:50%;height:20px;width:20px}.notification-container-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px}.notification-container-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.notification-container-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:17px}.notification-container-body[_ngcontent-%COMP%]{overflow-y:scroll}.notification-container-body[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.7em!important;margin-bottom:10px!important}.notification-container-body[_ngcontent-%COMP%]   .notification-card-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color);font-size:17px}.notification-container-body[_ngcontent-%COMP%]   .notification-card-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10px;color:#a60000e6}.notification-container-body[_ngcontent-%COMP%]   .notification-card-date[_ngcontent-%COMP%]{margin-top:5px;text-indent:5px}.notification-container-body[_ngcontent-%COMP%]   .notification-card-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;color:gray}.add-new-card[_ngcontent-%COMP%]{height:130px!important;border-radius:1em!important;display:flex;align-items:center;justify-content:center;flex-direction:column;color:var(--main-primary-color);background-color:var(--main-bg-color);cursor:pointer;box-shadow:#0000001a 0 1px 2px!important}.add-new-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:60px;font-weight:600;color:var(--main-primary-color)}"]});let e=n;return e})();var Kt=(()=>{let n=class n{constructor(r){this.storage=r,this.listFilesSubject=new ra([]),this.$listFiles=this.listFilesSubject.asObservable(),this.uploadedFilesSubject=new ra(!1),this.$uploadedFiles=this.uploadedFilesSubject.asObservable()}uploadFile(r){return _e(this,null,function*(){let o=Math.random().toString(36).substr(2,9)+r.name,a=this.storage.ref(o),s=this.storage.upload(o,r);return new Zl(h=>{s.snapshotChanges().pipe(ns(()=>{a.getDownloadURL().subscribe(w=>{h.next(w),h.complete()})})).subscribe()})})}getDownloadablePath(r){return this.storage.ref(r).getDownloadURL()}};n.\u0275fac=function(i){return new(i||n)(os(Os))},n.\u0275prov=is({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var Kf=["fileInput"];function Zf(e,n){if(e&1){let t=Ae();O(0,"div",1),ue("drop",function(i){Se(t);let o=N();return Oe(o.onFileDropped(i))})("dragover",function(i){Se(t);let o=N();return Oe(o.onDragOver(i))}),O(1,"label",2)(2,"input",3),ue("change",function(i){Se(t);let o=N();return Oe(o.onFilesSelected(i))}),E(),O(3,"div",4),he(4,"i",5),O(5,"span",6),ie(6,"Upload or drag photo here"),E()()()()}}function Jf(e,n){if(e&1&&(O(0,"div",8)(1,"div",14),he(2,"i",15),O(3,"div",16)(4,"span"),ie(5),E(),O(6,"span",17),ie(7),E()()()()),e&2){let t=n.$implicit;F(5),Ze(t.name),F(2),je("",t.size," KB")}}function ep(e,n){e&1&&he(0,"i",11)}function tp(e,n){if(e&1){let t=Ae();O(0,"div",7),We(1,Jf,8,2,"div",8,He),E(),O(3,"div",6)(4,"div",9)(5,"label",2)(6,"input",10),ue("change",function(i){Se(t);let o=N();return Oe(o.onFilesSelected(i))}),E(),xe(7,ep,1,0,"i",11),E(),O(8,"app-button",12),ue("handleClick",function(){Se(t);let i=N();return Oe(i.uploadFile())}),E(),O(9,"app-button",13),ue("handleClick",function(){Se(t);let i=N();return Oe(i.resetFiles())}),E()()()}if(e&2){let t=N();F(),$e(t.listFiles),F(6),Pe(t.isUploaded?-1:7),F(),te("disabled",t.isUploaded),F(),te("outlined",!0)}}var Ai=(()=>{let n=class n{constructor(r,i){this.applicationService=r,this.fileService=i,this.listFiles=[],this.isUploaded=!1,this.filesUpload=new ot,this.fileService.$listFiles.subscribe(o=>{this.listFiles=o}),this.fileService.$uploadedFiles.subscribe(o=>{this.isUploaded=o})}ngOnDestroy(){this.listFiles=[]}ngOnInit(){this.listFiles=[]}onFilesSelected(r){for(let i of r.target.files)this.listFiles.push(i);this.listFiles=[...this.listFiles],console.log(this.listFiles)}onDragOver(r){r.preventDefault()}onFileDropped(r){r.preventDefault(),r.dataTransfer&&r.dataTransfer.files&&(this.listFiles=r.dataTransfer.files)}uploadFile(){this.isUploaded=!0,this.applicationService.showSuccessfulSaveDialog("saved","success","your files are ulploaded succecfuly"),this.filesUpload.emit(this.listFiles)}resetFiles(){this.listFiles=[],this.isUploaded=!1}clearFile(r){console.log("index......."),console.log(r),this.listFiles=this.listFiles.splice(r,r),console.log(this.listFiles),this.isUploaded=!1,this.fileInput&&(this.fileInput.nativeElement.value="")}};n.\u0275fac=function(i){return new(i||n)(ve(Ve),ve(Kt))},n.\u0275cmp=Ie({type:n,selectors:[["app-custom-file-upload"]],viewQuery:function(i,o){if(i&1&&Fe(Kf,5),i&2){let a;Ne(a=Le())&&(o.fileInput=a.first)}},outputs:{filesUpload:"filesUpload"},standalone:!0,features:[Re],decls:2,vars:2,consts:[[1,"upload-container"],[1,"upload-container",3,"drop","dragover"],[1,"upload-label"],["type","file","multiple","multiple","accept","image/*",1,"file-input",3,"change"],[1,"d-flex","flex-column","align-center"],[1,"ri-file-fill","primary-text","bold"],[1,"mt-5"],[1,"file-preview-card"],[1,"file-preview","d-flex","align-center","justify-content-between"],[1,"d-flex","align-center","justify-end"],["type","file","multiple","multiple",1,"file-input",3,"change"],[1,"ri-add-line","add-plus-icon","clickable","cursor-pointer"],["icon","ri-upload-line","label","upload","size","small",1,"mr-5",3,"handleClick","disabled"],["icon","ri-refresh-line","label","Reset","size","small",1,"mr-5",3,"handleClick","outlined"],[1,"d-flex","justify-start","align-center"],[1,"ri-attachment-2","mr-5","primary-text","bold"],[1,"d-flex","flex-column","text-align-left"],[1,"mt-2"]],template:function(i,o){i&1&&xe(0,Zf,7,0,"div",0)(1,tp,10,3),i&2&&(Pe(o.listFiles.length===0?0:-1),F(),Pe(o.listFiles.length>0?1:-1))},dependencies:[At],styles:['@font-face{font-family:Ubuntu;src:url("./media/Ubuntu-Regular-55DNWN2R.ttf") format("truetype");font-weight:400;font-style:normal}[_ngcontent-%COMP%]:root{--bg-color: #ffffff;--font-color: #000000;--hover-font-color: #000000;--input-border-color: rgba(128, 128, 128, .44);--main-bg-color: #f2f2f2;--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: #E8476057;--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(27, 31, 35, .15);--footer-color:#000;--box-shadow: $box-shadow}[data-theme=dark][_ngcontent-%COMP%]{--bg-color: #161625;--font-color: #ffffff;--hover-font-color: #000000;--input-border-color: #E8476057;--main-bg-color: rgb(14, 14, 27);--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: rgba(255, 255, 255, .16);--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(60, 64, 68, .78);--footer-color:#fff;--box-shadow: $box-shadow}[_ngcontent-%COMP%]:dir(ltr){font-family:Ubuntu,sans-serif;--small-font-size: 11px;--normal-font-size: 14px;--medium-font-size: 18px;--big-font-size: 21px}[_ngcontent-%COMP%]:dir(rtl){font-family:Ubuntu,sans-serif;--small-font-size: 13px;--normal-font-size: 16px;--medium-font-size: 20px;--big-font-size: 23px}.excel-color[_ngcontent-%COMP%]{color:green!important}.pdf-color[_ngcontent-%COMP%]{color:#ff4500!important}.focus-color[_ngcontent-%COMP%]{border-color:var(--main-secoundary-color);outline:0;-webkit-box-shadow:0 0 0 .1rem rgba(199,37,62,.31);box-shadow:0 0 0 .1rem #c7253e4f}.upload-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}.upload-container[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]{display:block;width:100%;border:2px dashed #ccc;padding:20px;text-align:center;cursor:pointer;transition:border-color .3s ease;border-radius:1em}.upload-container[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]:hover{border-color:#999}.upload-container[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.add-plus-icon[_ngcontent-%COMP%]{background-color:var(--main-primary-color);color:#fff;padding:8px;border-radius:.4em;margin-right:5px}.file-preview-card[_ngcontent-%COMP%]{padding:.5em;border:solid 2px rgba(203,203,203,.31);border-radius:1em;max-height:200px;overflow-y:auto}.file-preview-card[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]{box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;border-radius:.5em;margin:10px 0;padding:.3em 1em;background-color:var(--bg-color);color:var(--font-color);height:40px}.file-preview-card[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color);font-size:14px;font-weight:700}.file-preview-card[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:12px;font-weight:400}.file-toolbar[_ngcontent-%COMP%]{box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;border-radius:.5em;margin:10px 0;padding:.3em 1em;background-color:var(--bg-color);color:var(--font-color);height:40px}']});let e=n;return e})();var Fa=_i(Nu(),1);var Gn=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=Ut({});let e=n;return e})();var Hi=(()=>{let n=class n{transform(r,i,o){if(!r||r.length===0)return[];if(o=o.toLowerCase(),o!=="asc"&&o!=="desc")throw new Error('Invalid sorting direction. Use "asc" or "desc".');return r.sort((a,s)=>{let h=a[i]<s[i]?-1:a[i]>s[i]?1:0;return o==="asc"?h:-h})}};n.\u0275fac=function(i){return new(i||n)},n.\u0275pipe=ls({name:"sort",type:n,pure:!0,standalone:!0});let e=n;return e})();var Lu=(()=>{let n=class n{constructor(){this.isVisible=!1,this.placeholder="",this.readonly=!1,this.styles={},this.inputValue=new ot}onInput(r){this.inputValue.emit(r.target.value)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-secure-password"]],inputs:{isVisible:"isVisible",placeholder:"placeholder",readonly:"readonly",styles:"styles",value:"value"},outputs:{inputValue:"inputValue"},standalone:!0,features:[Re],decls:3,vars:8,consts:[[1,"input-container"],[3,"input","type","readonly","placeholder","value"],[1,"cursor-pointer",3,"click","ngClass"]],template:function(i,o){i&1&&(O(0,"div",0)(1,"input",1),ue("input",function(s){return o.onInput(s)}),E(),O(2,"i",2),ue("click",function(){return o.isVisible?o.isVisible=!1:o.isVisible=!0}),E()()),i&2&&(F(),pr(o.styles),te("type",o.isVisible?"text":"password")("readonly",o.readonly)("placeholder",o.placeholder)("value",o.value),F(),te("ngClass",o.isVisible?"ri-eye-off-line":"ri-eye-line"))},dependencies:[Ot,hr]});let e=n;return e})();var _t=_i(Bu(),1),_c=_i(mc(),1);var Uh=["BarcodeScanner"];var zh={inputStream:{name:"Live",type:"LiveStream",target:null,constraints:{width:{min:640},height:{min:480},aspectRatio:{min:1,max:2},facingMode:"environment"},singleChannel:!1},locator:{patchSize:"medium",halfSample:!0},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]}},Vh=["code_128","code_39","code_39_vin","ean","ean_extended","ean_8","upc","upc_e","codabar","i2of5","2of5","code_93"];function Gh(e){return typeof e=="string"?(gc(e),[vc(e)]):e.map(n=>(gc(n),vc(n)))}function gc(e){if(!Vh.some(n=>n===e))throw new Error(`This barcode type '${e}' is not valid.`)}function vc(e){return`${e}_reader`}var to=(()=>{class e{constructor(){this.maxWidth="100%",this._valueChanges=new na,this.valueChanges=new ot,this.started=new ot,this._started=!1,this._destroyed=new na,this._valueChanges.pipe(rs(this._destroyed),ts(t=>{let r=t.codeResult.decodedCodes.filter(o=>o.error!==void 0).map(o=>o.error),i=this._getMedian(r);return!this.errorFilter||!(this.errorFilter.median&&i>this.errorFilter.median||this.errorFilter.threshold&&r.some(o=>o>this.errorFilter.threshold))})).subscribe(t=>{let r=_t.default.canvas.ctx.overlay;_t.default.ImageDebug.drawPath(t.line,{x:"x",y:"y"},r,{color:"red",lineWidth:3}),this.valueChanges.next(t)})}set torch(t){let r=_t.default.CameraAccess.getActiveTrack();r&&r.applyConstraints({advanced:[{torch:t}]})}get _maxWidth(){return this.maxWidth?`${this.maxWidth}`:"auto"}get _maxHeight(){return this.maxHeight?`${this.maxHeight}`:"auto"}get isStarted(){return this._started}ngOnDestroy(){this.stop(),this._destroyed.next(!0),this._destroyed.complete()}ngOnChanges(){this.restart()}_init(){return new Promise((t,r)=>{_t.default.onProcessed(i=>this.onProcessed(i)),_t.default.onDetected(i=>this.onDetected(i)),this.configQuagga=(0,_c.default)({},this.config,zh),this.configQuagga.inputStream.target=this.barcodeScanner.nativeElement,this.type&&(this.configQuagga.decoder.readers=Gh(this.type)),this.deviceId&&(this.configQuagga.inputStream.constraints.deviceId=this.deviceId),_t.default.init(this.configQuagga,i=>{if(i)return console.log(i),r(i);t()})})}_getMedian(t){t.sort((i,o)=>i-o);let r=Math.floor(t.length/2);return t.length%2===1?t[r]:(t[r-1]+t[r])/2}start(){return _e(this,null,function*(){this._started||(yield this._init(),_t.default.start(),this._started=!0,this.started.next(!0))})}stop(){this._started&&(_t.default.stop(),this._started=!1,this.started.next(!1))}restart(){this._started&&(this.stop(),this.start())}onProcessed(t){let r=_t.default.canvas.ctx.overlay,i=_t.default.canvas.dom.overlay;t&&(t.boxes&&(r.clearRect(0,0,parseInt(i.getAttribute("width"),10),parseInt(i.getAttribute("height"),10)),t.boxes.filter(o=>o!==t.box).forEach(o=>{_t.default.ImageDebug.drawPath(o,{x:0,y:1},r,{color:"green",lineWidth:2})})),t.box&&_t.default.ImageDebug.drawPath(t.box,{x:0,y:1},r,{color:"#00F",lineWidth:2}))}onDetected(t){this._valueChanges.next(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ie({type:e,selectors:[["barcode-scanner-livestream"]],viewQuery:function(t,r){if(t&1&&Fe(Uh,5),t&2){let i;Ne(i=Le())&&(r.barcodeScanner=i.first)}},inputs:{type:"type",deviceId:"deviceId",maxWidth:"maxWidth",maxHeight:"maxHeight",config:"config",errorFilter:"errorFilter",torch:"torch"},outputs:{valueChanges:"valueChanges",started:"started"},features:[Vt],decls:4,vars:13,consts:[["BarcodeScanner",""],[1,"scanner",3,"hidden"],[1,"drawingBuffer"]],template:function(t,r){t&1&&(O(0,"div",1,0),he(2,"video")(3,"canvas",2),E()),t&2&&(ht("max-height",r._maxHeight)("max-width",r._maxWidth),te("hidden",!r.isStarted),F(2),ht("max-height",r._maxHeight)("max-width",r._maxWidth),F(),ht("max-height",r._maxHeight)("max-width",r._maxWidth))},styles:[`.scanner{position:relative}.scanner video,.scanner canvas{width:100%;height:100%}.scanner canvas.drawingBuffer{position:absolute;left:0;top:0}
`],encapsulation:2}),e})(),yc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=zt({type:e}),e.\u0275inj=Ut({imports:[wi]}),e})();var jd=_i(qd(),1),Oy=["bcElement"],mo=(()=>{let n=class n{get options(){return{format:this.format,lineColor:this.lineColor,width:this.width,height:this.height,displayValue:this.displayValue,fontOptions:this.fontOptions,font:this.font,textAlign:this.textAlign,textPosition:this.textPosition,textMargin:this.textMargin,fontSize:this.fontSize,background:this.background,margin:this.margin,marginTop:this.marginTop,marginBottom:this.marginBottom,marginLeft:this.marginLeft,marginRight:this.marginRight,valid:this.valid}}constructor(r){this.renderer=r,this.elementType="svg",this.cssClass="barcode",this.format="CODE128",this.lineColor="#000000",this.width=2,this.height=100,this.displayValue=!1,this.fontOptions="",this.font="monospace",this.textAlign="center",this.textPosition="bottom",this.textMargin=2,this.fontSize=20,this.background="#ffffff",this.margin=10,this.marginTop=10,this.marginBottom=10,this.marginLeft=10,this.marginRight=10,this.value="",this.valid=()=>!0}ngAfterViewInit(){this.createBarcode()}ngOnChanges(){this.bcElement&&this.createBarcode()}createBarcode(){if(!this.value)return;let r;switch(this.elementType){case"img":r=this.renderer.createElement("img");break;case"canvas":r=this.renderer.createElement("canvas");break;case"svg":default:r=this.renderer.createElement("svg","svg")}(0,jd.default)(r,this.value,this.options);for(let i of this.bcElement.nativeElement.childNodes)this.renderer.removeChild(this.bcElement.nativeElement,i);this.renderer.appendChild(this.bcElement.nativeElement,r)}};n.\u0275fac=function(i){return new(i||n)(ve(oa))},n.\u0275cmp=Ie({type:n,selectors:[["ngx-barcode6"]],viewQuery:function(i,o){if(i&1&&Fe(Oy,5),i&2){let a;Ne(a=Le())&&(o.bcElement=a.first)}},inputs:{elementType:[0,"bc-element-type","elementType"],cssClass:[0,"bc-class","cssClass"],format:[0,"bc-format","format"],lineColor:[0,"bc-line-color","lineColor"],width:[0,"bc-width","width"],height:[0,"bc-height","height"],displayValue:[0,"bc-display-value","displayValue"],fontOptions:[0,"bc-font-options","fontOptions"],font:[0,"bc-font","font"],textAlign:[0,"bc-text-align","textAlign"],textPosition:[0,"bc-text-position","textPosition"],textMargin:[0,"bc-text-margin","textMargin"],fontSize:[0,"bc-font-size","fontSize"],background:[0,"bc-background","background"],margin:[0,"bc-margin","margin"],marginTop:[0,"bc-margin-top","marginTop"],marginBottom:[0,"bc-margin-bottom","marginBottom"],marginLeft:[0,"bc-margin-left","marginLeft"],marginRight:[0,"bc-margin-right","marginRight"],value:[0,"bc-value","value"],valid:[0,"bc-valid","valid"]},features:[Vt],decls:2,vars:2,consts:[["bcElement",""]],template:function(i,o){i&1&&he(0,"div",null,0),i&2&&Rn(o.cssClass)},encapsulation:2});let e=n;return e})(),go=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=Ut({});let e=n;return e})();var Kl=(()=>{let n=class n{ngOnInit(){}ngAfterViewInit(){}startScanning(){this.barcodeScanner.start()}stopScanning(){this.barcodeScanner.stop()}onValueChanges(r){this.barcodeValue=r.codeResult.code}onStarted(r){console.log("Scanner started:",r)}onClose(r){this.stopScanning()}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-barcode-scanner"]],viewQuery:function(i,o){if(i&1&&Fe(to,5),i&2){let a;Ne(a=Le())&&(o.barcodeScanner=a.first)}},standalone:!0,features:[Re],decls:3,vars:9,consts:[["type","code_128",3,"valueChanges","started","close","maxHeight"],[3,"hidden"],[3,"bc-background","bc-line-color","bc-font-size","bc-format","bc-value","bc-display-value","bc-height"]],template:function(i,o){i&1&&(O(0,"barcode-scanner-livestream",0),ue("valueChanges",function(s){return o.onValueChanges(s)})("started",function(s){return o.onStarted(s)})("close",function(s){return o.onClose(s)}),E(),O(1,"div",1),he(2,"ngx-barcode6",2),E()),i&2&&(te("maxHeight","55"),F(),te("hidden",!o.barcodeValue),F(),st("bc-value",o.barcodeValue),te("bc-background","var(--bg-color)")("bc-line-color","var(--font-color)")("bc-font-size",12)("bc-format","MSI")("bc-display-value",!0)("bc-height",20))},dependencies:[yc,to,go,mo]});let e=n;return e})();var zd=()=>[];function My(e,n){if(e&1&&ie(0),e&2){let t=N(2);xi(" ( Value between ",t.input.min," and ",t.input.max,") ")}}function Ey(e,n){if(e&1&&xe(0,My,1,2),e&2){let t=N();Pe(t.input.min||t.input.max?0:-1)}}function Py(e,n){e&1&&(O(0,"span",2),ie(1,"*"),E())}function Iy(e,n){if(e&1){let t=Ae();O(0,"app-generic-drop-down",11),ue("selectOption",function(i){Se(t);let o=N(2);return Oe(o.onSelectOption(i))}),E()}if(e&2){let t=N(2);st("dropDownId",t.input.id),te("options",t.input.options||Xe(6,zd))("multiple",!0)("bindLabel",t.input.bindLabel)("bindValue",t.input.bindValue)("selectedOption",t.selectedOptionList)}}function Ty(e,n){if(e&1&&(O(0,"span",12),ie(1),E()),e&2){let t=n.$implicit,r=N(3);F(),je(" ",t[r.input.bindLabel?r.input.bindLabel:""]," ")}}function Ry(e,n){if(e&1&&(O(0,"div",10),We(1,Ty,2,1,"span",12,He),E()),e&2){let t=N(2);F(),$e(t.selectedOptionList)}}function Dy(e,n){if(e&1&&xe(0,Iy,1,7,"app-generic-drop-down",9)(1,Ry,3,0,"div",10),e&2){let t=N();Pe(t.mode=="addMode"||t.mode=="editMode"&&!t.input.disabledOnEditMode?0:-1),F(),Pe(t.mode!="addMode"&&t.mode=="detailsMode"?1:-1)}}function Ay(e,n){if(e&1&&he(0,"input",13),e&2){let t=N(2);te("value",t.formValues[t.input.formControlName]?t.applicationService.filterList(t.input.options,t.input.bindValue,t.formValues[t.input.formControlName])[t.input.bindLabel?t.input.bindLabel:""]:"client")}}function ky(e,n){if(e&1){let t=Ae();O(0,"app-generic-drop-down",15),ue("selectOption",function(i){Se(t);let o=N(2);return Oe(o.onSelectOption(i))}),E()}if(e&2){let t=N(2);st("dropDownId",t.input.id),te("options",t.input.options||Xe(5,zd))("bindLabel",t.input.bindLabel)("bindValue",t.input.bindValue)("selectedOption",t.selectedOption)}}function Fy(e,n){if(e&1&&xe(0,Ay,1,1,"input",13)(1,ky,1,6,"app-generic-drop-down",14),e&2){let t=N();Pe(t.mode=="detailsMode"?0:-1),F(),Pe(t.mode=="addMode"||t.mode=="editMode"?1:-1)}}function Ny(e,n){if(e&1){let t=Ae();O(0,"div",16)(1,"app-custom-file-upload",17),ue("filesUpload",function(i){Se(t);let o=N(2);return Oe(o.onInputFiles(i,o.input.formControlName))}),E()()}}function Ly(e,n){if(e&1&&xe(0,Ny,2,0,"div",16),e&2){let t=N();Pe(t.mode=="addMode"||t.mode=="editMode"?0:-1)}}function By(e,n){if(e&1){let t=Ae();O(0,"app-secure-password",18),ue("change",function(i){Se(t);let o=N();return Oe(o.onInput(i))}),E()}if(e&2){let t=N();te("value",t.formValues[t.input.formControlName])("readonly",t.mode=="detailsMode")("isVisible",!1)("placeholder",t.input.placeholder)}}function qy(e,n){if(e&1){let t=Ae();O(0,"textarea",19),ue("change",function(i){Se(t);let o=N();return Oe(o.onInput(i))}),E()}if(e&2){let t=N();pr(t.input.styles),te("id",t.input.id)("readonly",t.mode=="detailsMode")("placeholder",t.mode=="detailsMode"?"":t.input.placeholder)("value",t.formValues[t.input.formControlName])("inputMask",t.input.inputMask)("disabled",t.disabled)}}function jy(e,n){if(e&1){let t=Ae();O(0,"div",5),he(1,"app-barcode-scanner"),O(2,"i",20),ue("click",function(){Se(t);let i=N();return Oe(i.startScanner())}),E()()}}function Uy(e,n){if(e&1){let t=Ae();O(0,"div",6)(1,"div",21)(2,"app-toggle",22),ue("toggle",function(i){Se(t);let o=N();return Oe(o.onInput(i))}),E()()()}if(e&2){let t=N();F(2),te("disable",t.mode==="detailsMode")("isToggled",t.formValues[t.input.formControlName])}}function zy(e,n){if(e&1){let t=Ae();O(0,"input",23),ue("change",function(i){Se(t);let o=N();return Oe(o.onInput(i))}),E()}if(e&2){let t=N();pr(t.input.styles),te("type",t.input.type)("id",t.input.id)("readonly",t.mode=="detailsMode")("placeholder",t.mode=="detailsMode"?"":t.input.placeholder)("value",t.formValues[t.input.formControlName])("inputMask",t.input.inputMask)("disabled",t.disabled),ds("min",t.input.min)("max",t.input.max)}}function Vy(e,n){if(e&1&&(O(0,"span",8),ie(1),E()),e&2){let t=N();F(),Ze(t.input.requiredMessage)}}function Gy(e,n){if(e&1&&(O(0,"span",8),ie(1),E()),e&2){let t=N().$implicit;F(),Ze(t.value)}}function Hy(e,n){if(e&1&&xe(0,Gy,2,1,"span",8),e&2){let t=n.$implicit,r=N(2);Pe(r.F[r.input.formControlName].errors!=null&&r.F[r.input.formControlName].errors[t.key[1]]?0:-1)}}function Wy(e,n){if(e&1&&(We(0,Hy,1,1,null,null,He),St(2,"keyvalue")),e&2){let t=N();$e(hn(2,0,t.input.controls))}}var vo=(()=>{let n=class n{constructor(r,i,o){this.crudService=r,this.fileService=i,this.applicationService=o,this.input={},this.form={},this.disabled=!1,this.inputValue=new ot,this.select=new ot,this.selectedOption={},this.selectedOptionList=[],this.listFilesPaths=[]}get F(){return this.form.controls}ngOnDestroy(){this.selectedOption={},this.selectedOptionList=[],this.listFilesPaths=[],this.formValues={}}ngOnInit(){return _e(this,null,function*(){this.crudService.formValue$.subscribe(r=>{this.formValues=r,this.crudService.mode$.subscribe(i=>{this.mode=i,console.log(this.mode),this.mode=="detailsMode"||this.mode=="editMode"?(this.input.type=="select"&&(console.log(this.input.formControlName),this.selectedOption=this.applicationService.filterList(this.input.options,this.input.bindValue,this.formValues[this.input.formControlName]),console.log("selected option edit mode .............."),console.log(this.selectedOption)),this.input.type=="multi-select"&&(console.log(this.input.formControlName),this.selectedOptionList=this.input.options?this.input.options.filter(o=>(this.formValues[this.input.formControlName]?this.formValues[this.input.formControlName]:[]).includes(o[this.input.bindValue?this.input.bindValue:""])):[])):(this.selectedOption=null,this.selectedOptionList=[])})})})}onInput(r){this.input.type=="checkbox"?this.value=r:this.input.unite!=""?this.value=parseFloat(r.target.value):this.value=r.target.value,this.inputValue.emit(this.value)}onInputFiles(r,i){return _e(this,null,function*(){let o={[i]:r};yield this.saveFile(o,i),yield this.applicationService.patchControlValue(i,this.listFilesPaths,this.form),this.inputValue.emit(this.listFilesPaths)})}saveFile(r,i){return _e(this,null,function*(){if(this.mode=="editMode"&&(this.listFilesPaths=this.formValues[i]),r&&r[i])for(let o of r[i])try{(yield this.fileService.uploadFile(o)).subscribe(s=>{this.listFilesPaths.push(s),console.log("File uploaded! Download URL:",s)})}catch(a){console.error("File upload failed:",a)}})}onSelectOption(r){this.input.type==="select"?(this.selectedOption=r,console.log("event select ......."),this.value=this.selectedOption[this.input.bindValue?this.input.bindValue:""],console.log(this.value),this.select.emit(this.value)):this.input.type==="multi-select"&&(this.selectedOptionList=r,console.log("event multi select ......."),this.value=this.selectedOptionList,console.log(this.value),this.select.emit(this.getListValues(this.value,this.input.bindValue)))}getListValues(r,i){return r.map(o=>o[i||""])}startScanner(){this.barcodeScannerComponent.startScanning()}stopScanner(){this.barcodeScannerComponent.stopScanning()}};n.\u0275fac=function(i){return new(i||n)(ve(Be),ve(Kt),ve(Ve))},n.\u0275cmp=Ie({type:n,selectors:[["app-generic-input"]],viewQuery:function(i,o){if(i&1&&Fe(Kl,5),i&2){let a;Ne(a=Le())&&(o.barcodeScannerComponent=a.first)}},inputs:{input:"input",form:"form",showRequiredMessage:"showRequiredMessage",disabled:"disabled"},outputs:{inputValue:"inputValue",select:"select"},standalone:!0,features:[Re],decls:15,vars:7,consts:[[1,"form-group"],[1,"form-label","font-color-text",3,"for"],[1,"ml-4","required-message"],[3,"value","readonly","isVisible","placeholder"],["rows","3",1,"form-input",3,"id","readonly","placeholder","value","inputMask","style","disabled"],[1,"mt-10"],[1,"mt-20"],[1,"form-input",3,"type","id","readonly","placeholder","value","inputMask","style","disabled"],[1,"required-message"],[3,"options","multiple","dropDownId","bindLabel","bindValue","selectedOption"],[1,"row","d-flex","flex-wrap","scroll-overflow-y"],[3,"selectOption","options","multiple","dropDownId","bindLabel","bindValue","selectedOption"],[1,"tag","infos-bg-text","mr-2","mb-2"],["type","text","readonly","readonly",3,"value"],[3,"options","dropDownId","bindLabel","bindValue","selectedOption"],[3,"selectOption","options","dropDownId","bindLabel","bindValue","selectedOption"],[1,"col-lg-12","col-md-12","col-sm-12","form-group"],[3,"filesUpload"],[3,"change","value","readonly","isVisible","placeholder"],["rows","3",1,"form-input",3,"change","id","readonly","placeholder","value","inputMask","disabled"],[1,"ri-barcode-box-line","bold","scan-icon","clickable","cursor-pointer","primary-text",3,"click"],[1,"d-flex","align-center","justify-start"],[3,"toggle","disable","isToggled"],[1,"form-input",3,"change","type","id","readonly","placeholder","value","inputMask","disabled"]],template:function(i,o){if(i&1&&(O(0,"div",0)(1,"label",1),ie(2),xe(3,Ey,1,1),E(),xe(4,Py,2,0,"span",2)(5,Dy,2,2)(6,Fy,2,2)(7,Ly,1,1)(8,By,1,4,"app-secure-password",3)(9,qy,1,9,"textarea",4)(10,jy,3,0,"div",5)(11,Uy,3,2,"div",6)(12,zy,1,12,"input",7)(13,Vy,2,1,"span",8)(14,Wy,3,2),E()),i&2){let a;F(),st("for",o.input.id),F(),je("",o.input.label+":"," "),F(),Pe(o.mode=="addMode"||o.mode=="editMode"?3:-1),F(),Pe(o.input.required&&(o.mode=="addMode"||o.mode=="editMode")?4:-1),F(),Pe((a=o.input.type)==="multi-select"?5:a==="select"?6:a==="file"?7:a==="password"?8:a==="textarea"?9:a==="barcode"?10:a==="checkbox"?11:12),F(8),Pe(o.showRequiredMessage?13:-1),F(),Pe(o.input.controls?14:-1)}},dependencies:[Lt,xs,Bn,Ot,Ai,Lu,Kl,_s,ms],styles:[".checkbox-label[_ngcontent-%COMP%]{position:absolute;top:15px;left:40px;font-size:14px;color:var(--font-color)}"]});let e=n;return e})();var $y=[[["","crud-utilities",""]],[["","details-data",""]],[["","more-actions",""]]],Qy=["[crud-utilities]","[details-data]","[more-actions]"],Xy=()=>[Hi,vo,hr],Yy=()=>[At,hs,Hi,import("./chunk-C5VTKXV2.js").then(e=>e.FilterPipe),import("./chunk-SXL6XSWG.js").then(e=>e.PaginatorPipe),mo,Ci],_o=()=>[];function Ky(e,n){if(e&1){let t=Ae();O(0,"app-button",33),ue("handleClick",function(){Se(t);let i=N();return Oe(i.onShowDialog(null,!1))}),E()}if(e&2){let t=N();yi("mt-10",t.applicationService.isMobile()),aa("label","Add new ",t.title,"")}}function Zy(e,n){if(e&1){let t=Ae();O(0,"div",35),he(1,"i",39),O(2,"input",40),ue("input",function(i){Se(t);let o=N().$implicit,a=N();return Oe(a.filterList(o.col,i))}),E()()}}function Jy(e,n){if(e&1){let t=Ae();O(0,"i",41),ue("click",function(){Se(t);let i=N().$implicit,o=N();return Oe(o.sortList(i.col))}),E()}if(e&2){let t=N().$implicit,r=N();Rn(t.col===r.sortField&&r.sortType==="desc"?"ri-sort-alphabet-desc ":"ri-sort-alphabet-asc")}}function eb(e,n){if(e&1&&(O(0,"div")(1,"div",34),xe(2,Zy,3,0,"div",35),O(3,"div",36),xe(4,Jy,1,2,"i",37),O(5,"span",38),ie(6),E()()()()),e&2){let t=n.$implicit,r=N();Dn("col-",r.Math.round(12/r.columns.length),""),F(2),Pe(t.filterable?2:-1),F(2),Pe(t.sortable?4:-1),F(2),je("",r.applicationService.formatStringCols(t.name)," ")}}function tb(e,n){if(e&1&&he(0,"img",49),e&2){let t=N().$implicit,r=N().$implicit;te("src",r[t.col]?r[t.col][0]:"assets/images/blank-product-img.png",Ct)}}function nb(e,n){if(e&1&&(O(0,"span",57),ie(1),E()),e&2){let t=N().$implicit,r=N().$implicit,i=N(3);ht("background-color",i.getStatusColor(r[t.col].value?r[t.col].value:r[t.col])||"#fff"),F(),je(" ",i.getStatusLabel(r[t.col],t.col)," ")}}function rb(e,n){if(e&1&&(O(0,"span",53),ie(1),E()),e&2){let t=N().$implicit;F(),je(" ",t," ")}}function ib(e,n){if(e&1&&(O(0,"span",53),ie(1),E()),e&2){let t=N(3).$implicit,r=N().$implicit;F(),je(" + ",r[t.col].length-2+" more tags"," ")}}function ob(e,n){}function ab(e,n){if(e&1&&xe(0,rb,2,1,"span",53)(1,ib,2,1,"span",53)(2,ob,0,0),e&2){let t=n.$index;Pe(t<2?0:t==2?1:2)}}function lb(e,n){if(e&1&&(O(0,"div",51),We(1,ab,3,1,null,null,He),E()),e&2){let t=N().$implicit,r=N().$implicit;F(),$e(r[t.col])}}function sb(e,n){if(e&1&&(O(0,"span",52),ie(1),St(2,"number"),E()),e&2){let t=N().$implicit,r=N().$implicit,i=N(3);F(),xi("",hn(2,2,r[t.col])," ",i.applicationService.filterList(i.fields,"formControlName",t.col).unite," ")}}function ub(e,n){if(e&1&&ie(0),e&2){let t=N(3).$implicit,r=N().$implicit,i=N(3);je(" ",i.applicationService.filterList(t.listSource,t.fieldSource,r[t.col])[t.labelSource?t.labelSource:""]," ")}}function cb(e,n){e&1&&ie(0," client ")}function db(e,n){if(e&1&&xe(0,ub,1,1)(1,cb,1,0),e&2){let t=N(2).$implicit,r=N().$implicit;Pe(r[t.col]?0:1)}}function fb(e,n){if(e&1&&ie(0),e&2){let t=N(2).$implicit,r=N().$implicit,i=N(3);je(" ",i.applicationService.filterList(t.listSource,t.fieldSource,r[t.col])[t.labelSource?t.labelSource:""]," ")}}function pb(e,n){if(e&1&&(O(0,"span",53),xe(1,db,2,1)(2,fb,1,1),E()),e&2){let t=N().$implicit;F(),Pe(t.col=="role"?1:2)}}function hb(e,n){if(e&1&&(O(0,"span"),ie(1),St(2,"date"),E()),e&2){let t=N().$implicit,r=N().$implicit;F(),je("",hn(2,1,r[t.col])," ")}}function mb(e,n){e&1&&he(0,"i",58)}function gb(e,n){if(e&1&&(O(0,"div",54),We(1,mb,1,0,"i",58,He),E()),e&2){let t=N().$implicit,r=N().$implicit;F(),$e(Xe(0,_o).constructor(r[t.col]))}}function vb(e,n){if(e&1&&he(0,"ngx-barcode6",55),e&2){let t=N().$implicit,r=N().$implicit;st("bc-value",r[t.col]),te("bc-background","var(--bg-color)")("bc-line-color","var(--font-color)")("bc-font-size",12)("bc-format","MSI")("bc-display-value",!0)("bc-height",20)}}function _b(e,n){if(e&1&&(O(0,"p",56),ie(1),E()),e&2){let t=N().$implicit,r=N().$implicit;F(),je(" ",r[t.col]," ")}}function yb(e,n){if(e&1&&(O(0,"div",48),xe(1,tb,1,1,"img",49)(2,nb,2,3,"span",50)(3,lb,3,0,"div",51)(4,sb,3,4,"span",52)(5,pb,3,1,"span",53)(6,hb,3,3,"span")(7,gb,3,1,"div",54)(8,vb,1,7,"ngx-barcode6",55)(9,_b,2,1,"p",56),E()),e&2){let t,r=n.$implicit,i=N(4);Rn(i.applicationService.isMobile()?"col-12":"col-"+i.Math.round(12/i.columns.length)),F(),Pe((t=r.type)==="img"?1:t==="boolean"?2:t==="tags"?3:t==="numeric"?4:t==="select"?5:t==="date"?6:t==="rating"?7:t==="barcode"?8:9)}}function bb(e,n){if(e&1){let t=Ae();O(0,"app-button",59),ue("handleClick",function(){Se(t);let i=N().$implicit,o=N(3);return Oe(o.onShowDetails(i,!1))}),E()}e&2&&te("iconBtn",!0)("outlined",!1)}function xb(e,n){if(e&1){let t=Ae();O(0,"app-button",60),ue("handleClick",function(){Se(t);let i=N().$implicit,o=N(3);return Oe(o.deleteData(i.id))}),E()}e&2&&te("iconBtn",!0)("outlined",!1)}function Cb(e,n){if(e&1&&(O(0,"div",42)(1,"div",43),We(2,yb,10,3,"div",44,He),E(),O(4,"div",45),xe(5,bb,1,2,"app-button",46)(6,xb,1,2,"app-button",47),E()()),e&2){let t=N(3);F(),yi("row",!t.applicationService.isMobile()),F(),$e(t.columns),F(3),Pe(t.currentUserRolePermission.includes("read")?5:-1),F(),Pe(t.currentUserRolePermission.includes("delete")?6:-1)}}function wb(e,n){if(e&1&&(We(0,Cb,7,4,"div",42,He),St(2,"filter"),St(3,"paginator"),St(4,"sort")),e&2){let t=N(2);$e(An(4,8,An(3,4,An(2,0,t.data,t.filterField,t.filterValue),t.currentPage,t.paginatorSize),t.sortField,t.sortType))}}function Sb(e,n){e&1&&(O(0,"div",61)(1,"div",62),he(2,"i",63),O(3,"h5",64),ie(4,"There are no data yet"),E()()())}function Ob(e,n){if(e&1&&(xe(0,wb,5,12)(1,Sb,5,0),ct(2,0,Yy,null,1)),e&2){let t=N();F(2),wt(t.data&&t.data.length>0)}}function Mb(e,n){e&1&&(O(0,"div",18)(1,"div",65),he(2,"app-skelton",66),E()()),e&2&&(F(2),te("height",100)("maxHeight",100))}function Eb(e,n){e&1&&We(0,Mb,3,2,"div",18,He),e&2&&$e(Xe(0,_o).constructor(4))}function Pb(e,n){if(e&1){let t=Ae();O(0,"app-generic-input",68),ue("inputValue",function(i){Se(t);let o=N().$implicit,a=N(2);return Oe(a.applicationService.patchControlValue(o.formControlName,i,a.formControl))})("select",function(i){Se(t);let o=N().$implicit,a=N(2);return Oe(a.applicationService.patchControlValue(o.formControlName,i,a.formControl))}),E()}if(e&2){let t=N().$implicit,r=N(2);te("form",r.formControl)("input",t)("disabled",r.applicationService.checkInputValue(t.depend,r.formControl))("showRequiredMessage",r.submitted&&(r.form[t.formControlName].errors==null?null:r.form[t.formControlName].errors.required))}}function Ib(e,n){if(e&1&&(O(0,"div",32),xe(1,Pb,1,4,"app-generic-input",67),E()),e&2){let t=n.$implicit,r=N(2);te("ngClass",t.type==="file"||t.type==="textarea"?"col-lg-12":"col-lg-4"),F(),Pe(r.mode=="addMode"&&t.rendered||r.mode=="editMode"&&t.renderedOnEditMode?1:-1)}}function Tb(e,n){if(e&1&&(We(0,Ib,2,2,"div",32,He),St(2,"sort")),e&2){let t=N();$e(An(2,0,t.fields,"order","ASC"))}}function Rb(e,n){e&1&&(O(0,"div",69),he(1,"app-skelton",70),E()),e&2&&(F(),te("height",100)("shape","inputs-shape"))}function Db(e,n){e&1&&We(0,Rb,2,2,"div",69,He),e&2&&$e(Xe(0,_o).constructor(12))}function Ab(e,n){if(e&1){let t=Ae();O(0,"app-button",73),ue("handleClick",function(){Se(t);let i=N(2);return Oe(i.editData(i.selectedLine.id))}),E()}}function kb(e,n){if(e&1){let t=Ae();O(0,"div",26),xe(1,Ab,1,0,"app-button",71),O(2,"app-button",72),ue("handleClick",function(){Se(t);let i=N();return Oe(i.mode=="detailsMode"?i.crudService.modeSubject.next("editMode"):i.crudService.modeSubject.next("detailsMode"))}),E(),bi(3,2),E()}if(e&2){let t=N();F(),Pe(t.mode=="editMode"?1:-1),F(),te("label",t.mode=="detailsMode"?"Edit":"Close")("outlined",t.mode!="detailsMode")("icon",t.mode=="detailsMode"?"ri-pencil-line":"ri-close-line")}}function Fb(e,n){if(e&1){let t=Ae();O(0,"app-generic-input",68),ue("inputValue",function(i){Se(t);let o=N().$implicit,a=N();return Oe(a.applicationService.patchControlValue(o.formControlName,i,a.formControl))})("select",function(i){Se(t);let o=N().$implicit,a=N();return Oe(a.applicationService.patchControlValue(o.formControlName,i,a.formControl))}),E()}if(e&2){let t=N().$implicit,r=N();te("form",r.formControl)("input",t)("disabled",t.type=="checkbox"&&r.mode=="detailsMode"?!0:t.disabledOnEditMode)("showRequiredMessage",r.submitted&&(r.form[t.formControlName].errors==null?null:r.form[t.formControlName].errors.required))}}function Nb(e,n){if(e&1&&(O(0,"div",32),xe(1,Fb,1,4,"app-generic-input",67),E()),e&2){let t=n.$implicit;te("ngClass",t.type==="file"?"col-lg-12":"col-lg-6"),F(),Pe(t.renderedOnEditMode?1:-1)}}var Qe=(()=>{let n=class n{constructor(r,i,o,a,s,h){this.applicationService=r,this.crudService=i,this.authFirebaseService=o,this.fireStoreService=a,this.fileService=s,this.formBuilder=h,this.Math=Math,this.openRight=!1,this.mode="",this.showAdd=!0,this.title="",this.fields=[],this.columns=[],this.data=[],this.sortField="",this.filterField="",this.filterValue="",this.showDetails=new ot,this.save=new ot,this.delete=new ot,this.deleteAll=new ot,this.edit=new ot,this.sortType="desc",this.currentPage=1,this.paginatorSize=4,this.totalRows=0,this.totalPages=0,this.formControl={},this.selectedLine={},this.submitted=!1,this.showDialog=!1,this.fileUrl=null,this.error=null,this.currentUser={},this.currentUserRole={},this.currentUserRolePermission=[],this.authFirebaseService.$user.subscribe(w=>{this.currentUser=w,this.currentUserRole=w?.role,console.log("this.currentUserRole"),console.log(this.currentUserRole),this.crudService.getItem(Ce.ROLES,this.currentUserRole).subscribe(S=>{this.currentUserRolePermission=S?S.permissions:[]})}),this.crudService.loading$.subscribe(w=>{this.loading=w}),this.crudService.mode$.subscribe(w=>{this.mode=w}),this.crudService.formValueSubject.next({}),this.crudService.totalRows$.subscribe(w=>{this.totalRows=w,this.totalPages=Math.ceil(this.totalRows/this.paginatorSize)}),this.data=this.spliceList(this.data,0,this.paginatorSize)}ngOnChanges(r){}ngOnInit(){return _e(this,null,function*(){yield this.initForm(this.fields),console.log("after init")})}onShowDialog(r,i){return _e(this,null,function*(){yield this.initForm(this.fields),this.crudService.modeSubject.next("addMode"),this.submitted=!1,this.crudService.formValueSubject.next(this.formValues),this.showDialog=!0})}hideDialog(r){this.crudService.formValueSubject.next({}),this.genericInputComponent.ngOnDestroy(),this.fileService.listFilesSubject.next([]),this.fileService.uploadedFilesSubject.next(!1),this.showDialog=r}onShowDetails(r,i){return _e(this,null,function*(){this.applicationService.addClassToDiv("right","slide-in-right"),setTimeout(()=>_e(this,null,function*(){this.applicationService.removeClassFromDiv("right-container","d-none"),this.applicationService.addClassToDiv("right-container","d-block"),this.selectedLine=r,yield this.initForm(this.fields),yield this.patchForm(r),this.crudService.modeSubject.next("detailsMode"),this.crudService.formValueSubject.next(this.formValues),this.showDetails.emit(r)}),50)})}sortList(r){this.sortField=r,this.sortType=this.sortType==="asc"?"desc":"asc"}filterList(r,i){this.filterField=r,this.filterValue=i.target.value}changePage(r){this.crudService.loadingSubject.next(!0),setTimeout(()=>{r==="next"?this.currentPage=this.currentPage<Math.ceil(this.totalRows/this.paginatorSize)?this.currentPage+1:this.currentPage:r=="prev"&&(this.currentPage=this.currentPage>1?this.currentPage-1:this.currentPage),this.crudService.loadingSubject.next(!1)},500)}spliceList(r,i,o){return r.splice(i,o)}initForm(r){return _e(this,null,function*(){let i={};r.forEach(o=>{let a=o.formControlName;if(a.includes(".")){let s=a.split(".");i[s[0]]||(i[s[0]]={}),i[s[0]][s[1]]=new sa(o.type==="checkbox"?!1:null,this.initValidators(o))}else i[a]=new sa(o.type==="checkbox"?!1:null,this.initValidators(o))}),this.formControl=this.formBuilder.group(i)})}initValidators(r){let i=[];return r.required&&i.push(mr.required),r.controls&&r.controls.forEach((o,a)=>{i.push(a[0])}),i}patchForm(r){return _e(this,null,function*(){Object.keys(this.formValues).forEach(i=>{this.applicationService.patchControlValue(i,r[i],this.formControl)})})}get form(){return this.formControl.controls}get formValues(){return this.formControl.value}saveData(){return _e(this,null,function*(){if(this.submitted=!0,this.formControl.patchValue({createdAt:new Date().toISOString().split("T")[0],createdBy:this.currentUser.email}),this.formControl.invalid){console.log(this.formValues),console.log(this.formControl),console.log("invalid");return}else console.log("after that..........;"),this.save.emit(this.formControl.value),this.showDialog=!1})}editData(r){if(this.submitted=!0,this.formControl.invalid){console.log(this.formValues),console.log("invalid");return}else this.formControl.patchValue({updatedAt:new Date().toISOString().split("T")[0],updatedBy:this.currentUser.email}),this.crudService.modeSubject.next("detailsMode"),this.edit.emit({id:r,data:this.formControl.value})}deleteData(r){return _e(this,null,function*(){(yield this.applicationService.showSuccessfulDeleteDialog())?this.delete.emit(r):console.log("User cancelled, abort delete.")})}deleteAllData(){return _e(this,null,function*(){(yield this.applicationService.showSuccessfulDeleteDialog())?this.deleteAll.emit():console.log("User cancelled, abort delete.")})}closeRight(){this.applicationService.addClassToDiv("right","slide-out-right"),setTimeout(()=>{this.applicationService.addClassToDiv("right-container","d-none"),this.applicationService.removeClassFromDiv("right","slide-out-right"),this.openRight=!1,this.formControl.reset()},500)}getStatusColor(r){try{switch(r){case!0:return"rgb(8,143,82)";case!1:return"#d65a5a";default:return"#fff"}}catch{return console.log("status "+r+"is undefiend"),""}}getStatusLabel(r,i){if(r)switch(i){case"orderStatus":return"shipped";case"paymentStatus":return"Paid";case"isActive":return"Active";default:return"Active"}else switch(i){case"orderStatus":return"In progress";case"paymentStatus":return"UnPaid";case"isActive":return"Inactive";default:return"Inactive"}}getFileUrl(r){this.fireStoreService.getDownloadableUrl(r).subscribe(i=>(this.fileUrl=i,console.log("Download URL:",i),this.fileUrl),i=>{throw this.error="Error retrieving file URL: "+i.message,console.error(i),new Error(this.error)})}};n.\u0275fac=function(i){return new(i||n)(ve(Ve),ve(Be),ve(Ln),ve(Ms),ve(Kt),ve(Ti))},n.\u0275cmp=Ie({type:n,selectors:[["app-generic-crud"]],viewQuery:function(i,o){if(i&1&&Fe(vo,5),i&2){let a;Ne(a=Le())&&(o.genericInputComponent=a.first)}},inputs:{showAdd:"showAdd",title:"title",fields:"fields",columns:"columns",data:"data",sortField:"sortField",filterField:"filterField",filterValue:"filterValue"},outputs:{showDetails:"showDetails",save:"save",delete:"delete",deleteAll:"deleteAll",edit:"edit"},standalone:!0,features:[Vt,Re],ngContentSelectors:Qy,decls:52,vars:21,consts:[[3,"rootName"],[1,"container"],[1,"utilities","card","col-12"],[1,"col-lg-2","h-100","align-center"],[1,"col-lg-10","col-sm-12","col-md-12","row","h-100","align-center"],["size","small","icon","ri-add-fill",1,"mr-5",3,"mt-10","label"],[1,"d-flex","align-center","paginator"],[1,"ri-arrow-left-s-line","mr-5","clickable","cursor-pointer",3,"click"],[1,"ri-arrow-right-s-line","ml-5","clickable","cursor-pointer",3,"click"],[1,"data"],[1,"data-header","d-sm-none"],[1,"row","h-100","col-10","align-center","justify-content-between"],[3,"class"],[1,"data-body"],["icon","ri-add-line","title","data","height","auto","width","70%",3,"closeModal","modalId","showModal","showFooter"],["modal-body",""],[1,"container","x-small-padding","fade-in-fwd","one-em-border-radius"],[1,"x-small-mt",3,"formGroup"],[1,"row"],["modal-footer",""],[1,"d-flex","align-center","justify-end"],["label","Validate","icon","ri-check-line",1,"mr-5",3,"handleClick"],["id","right-container",1,"right-container","d-none"],["id","right",1,"right","scroll-overflow-y"],[1,"d-flex","align-center","justify-content-between","right-header"],[1,"ri-close-fill","close-icon","clickable",3,"click"],[1,"d-flex","align-center","justify-start"],["right-content","",1,"w-100","p-10"],[1,"font-color-text","text-align-center"],[1,"d-flex","flex-column","align-center","justify-content-center","h-100","scroll-overflow-y"],[1,"row","p-10","mt-10","w-100"],[1,"x-small-mt",3,"keyup.enter","formGroup"],[1,"col-md-12","col-sm-12","form-group",3,"ngClass"],["size","small","icon","ri-add-fill",1,"mr-5",3,"handleClick","label"],[1,"d-flex","flex-column","justify-end"],[1,"d-flex","flex-row","align-center"],[1,"d-flex","flex-row"],[1,"clickable","cursor-pointer","mr-5",3,"class"],[1,"bold"],[1,"ri-filter-fill","clickable","mr-5"],["type","text",1,"filter-input",3,"input"],[1,"clickable","cursor-pointer","mr-5",3,"click"],[1,"data-body-card"],[1,"col-10","h-100","align-center","justify-content-between"],[1,"fade-in-fwd","data-body-card-field",3,"class"],[1,"col-2","row","content-center","h-100","justify-end"],["size","small","icon","ri-search-line",1,"mr-5","mb-5",3,"iconBtn","outlined"],["size","small","icon","ri-close-circle-line",1,"mr-5",3,"iconBtn","outlined"],[1,"fade-in-fwd","data-body-card-field"],["height","40","width","40","alt","img",2,"box-shadow","var(--box-shadow)",3,"src"],[1,"tag","mr-2","mb-2",3,"background-color"],[1,"row","flex-wrap","m-h-100","hidden-overflow"],[1,"green-text","bold"],[1,"tag","infos-bg-text","mr-2","mb-2"],[1,"row","flex-wrap","m-h-100","scroll-overflow-y"],[3,"bc-background","bc-line-color","bc-font-size","bc-format","bc-value","bc-display-value","bc-height"],[1,"max-text-length"],[1,"tag","mr-2","mb-2"],[1,"rating-star","ri-star-fill","mr-2"],["size","small","icon","ri-search-line",1,"mr-5","mb-5",3,"handleClick","iconBtn","outlined"],["size","small","icon","ri-close-circle-line",1,"mr-5",3,"handleClick","iconBtn","outlined"],[1,"data-body-card","fade-in-fwd"],[1,"row","align-center","justify-content-center","w-100"],[1,"ri-error-warning-line","mr-2","font-color-text"],[1,"font-color-text"],[1,"col-12"],["shape","data",3,"height","maxHeight"],[3,"form","input","disabled","showRequiredMessage"],[3,"inputValue","select","form","input","disabled","showRequiredMessage"],[1,"col-6"],[3,"height","shape"],["label","Save changes","size","small","icon","ri-check-line",1,"fade-in-fwd"],["size","small",1,"fade-in-fw","ml-5",3,"handleClick","label","outlined","icon"],["label","Save changes","size","small","icon","ri-check-line",1,"fade-in-fwd",3,"handleClick"]],template:function(i,o){i&1&&(fs($y),he(0,"app-breadcrumbs",0),O(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),ie(5),E()(),O(6,"div",4),bi(7),xe(8,Ky,1,4,"app-button",5),O(9,"div",6)(10,"i",7),ue("click",function(){return o.changePage("prev")}),E(),O(11,"span"),ie(12),E(),O(13,"i",8),ue("click",function(){return o.changePage("next")}),E()()()(),O(14,"div",9)(15,"div",10)(16,"div",11),We(17,eb,7,6,"div",12,He),E()(),O(19,"div",13),xe(20,Ob,4,1)(21,Eb,2,1),ct(22,20,null,null,21),E()()(),O(24,"app-modal",14),ue("closeModal",function(s){return o.hideDialog(s)}),O(25,"div",15)(26,"div",16)(27,"form",17)(28,"div",18),xe(29,Tb,3,4)(30,Db,2,1),ct(31,29,Xy,null,30),E()()()(),O(33,"div",19)(34,"div",20)(35,"app-button",21),ue("handleClick",function(){return o.saveData()}),E()()()(),O(36,"div",22)(37,"div",23)(38,"div",24)(39,"i",25),ue("click",function(){return o.closeRight()}),E(),xe(40,kb,4,4,"div",26),E(),O(41,"app-right")(42,"div",27)(43,"h3",28),ie(44),E(),bi(45,1),O(46,"div",29)(47,"div",30)(48,"form",31),ue("keyup.enter",function(){return o.editData(o.selectedLine.id)}),We(49,Nb,2,2,"div",32,He),St(51,"sort"),E()()()()()()()),i&2&&(aa("rootName","",o.title,"s"),F(5),je("List of ",o.title,"s"),F(),yi("justify-end",!o.applicationService.isMobile()),F(2),Pe(o.showAdd&&o.currentUserRolePermission.includes("write")?8:-1),F(4),Ze(o.currentPage+"/"+o.totalPages),F(5),$e(o.columns),F(5),wt(!o.loading&&o.data!==Xe(20,_o)),F(2),te("modalId","add-modal")("showModal",o.showDialog)("showFooter",!0),F(3),te("formGroup",o.formControl),F(4),wt(!o.loading||o.formControl),F(9),Pe(o.currentUserRolePermission.includes("update")?40:-1),F(4),je("Details of ",o.title,""),F(4),te("formGroup",o.formControl),F(),$e(An(51,16,o.fields,"order","ASC")))},dependencies:[At,Lt,mn,Gn,Hi,Oi,vo,Nn,hr,Ot,Fn,kn,bs,ws,mt,go],styles:['@font-face{font-family:Ubuntu;src:url("./media/Ubuntu-Regular-55DNWN2R.ttf") format("truetype");font-weight:400;font-style:normal}[_ngcontent-%COMP%]:root{--bg-color: #ffffff;--font-color: #000000;--hover-font-color: #000000;--input-border-color: rgba(128, 128, 128, .44);--main-bg-color: #f2f2f2;--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: #E8476057;--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(27, 31, 35, .15);--footer-color:#000;--box-shadow: $box-shadow}[data-theme=dark][_ngcontent-%COMP%]{--bg-color: #161625;--font-color: #ffffff;--hover-font-color: #000000;--input-border-color: #E8476057;--main-bg-color: rgb(14, 14, 27);--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: rgba(255, 255, 255, .16);--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(60, 64, 68, .78);--footer-color:#fff;--box-shadow: $box-shadow}[_ngcontent-%COMP%]:dir(ltr){font-family:Ubuntu,sans-serif;--small-font-size: 11px;--normal-font-size: 14px;--medium-font-size: 18px;--big-font-size: 21px}[_ngcontent-%COMP%]:dir(rtl){font-family:Ubuntu,sans-serif;--small-font-size: 13px;--normal-font-size: 16px;--medium-font-size: 20px;--big-font-size: 23px}.excel-color[_ngcontent-%COMP%]{color:green!important}.pdf-color[_ngcontent-%COMP%]{color:#ff4500!important}.focus-color[_ngcontent-%COMP%]{border-color:var(--main-secoundary-color);outline:0;-webkit-box-shadow:0 0 0 .1rem rgba(199,37,62,.31);box-shadow:0 0 0 .1rem #c7253e4f}.utilities[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;align-items:baseline;flex-wrap:wrap}.utilities[_ngcontent-%COMP%]   .paginator[_ngcontent-%COMP%]{margin-left:10px}.utilities[_ngcontent-%COMP%]   .paginator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1vw}.utilities[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--font-color);font-weight:700;margin:0;font-size:1.3vw}.utilities[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .utilities[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color)}.data[_ngcontent-%COMP%]{display:flex;flex-direction:column}.data-header[_ngcontent-%COMP%]{box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;border-radius:.5em;margin-bottom:20px;padding:.3em 1em;background-color:var(--bg-color);color:var(--font-color);height:auto}.data-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1vw}.data-header[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{height:30px;margin-bottom:5px}.data-body[_ngcontent-%COMP%]{max-height:500px;height:auto;padding:9px 0}.data-body-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;border-radius:.5em;margin-bottom:20px;padding:.3em 1em;background-color:var(--bg-color);color:var(--font-color);height:75px;border-left:solid 10px var(--main-primary-color)}.data-body-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1vw}.data-body-card-infos[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.data-body-card-infos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;border:solid 1px var(--font-color)}.data-body-card-infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1vw}.data-body-card-infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:700;font-size:12px}.img-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.img-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:90px;width:90px;border-radius:50%}.img-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:var(--font-color)}.img-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:14px;font-weight:400}@media (max-width: 767px){.utilities[_ngcontent-%COMP%]   .paginator[_ngcontent-%COMP%]{margin-left:0;margin-top:10px}.utilities[_ngcontent-%COMP%]   .paginator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .utilities[_ngcontent-%COMP%]   .paginator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}h2[_ngcontent-%COMP%]{font-size:15px!important}.data-header[_ngcontent-%COMP%]{display:none}.data-body[_ngcontent-%COMP%]{max-height:500px;height:auto}.data-body-card[_ngcontent-%COMP%]{height:auto!important;padding:10px 10px 30px}.data-body-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.data-body-card-field[_ngcontent-%COMP%]{margin-top:15px!important}.data-body-card-infos[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.data-body-card-infos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;border:solid 1px var(--font-color)}.data-body-card-infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.data-body-card-infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:700;font-size:12px}}']});let e=n;return e})();var Gd=[{formControlName:"productName",type:"text",placeholder:"Enter product name",styles:{},id:"product-name",label:"Product Name",requiredMessage:"Product name is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:1,disabledOnEditMode:!1},{formControlName:"productDescription",type:"textarea",placeholder:"Enter product description",styles:{},id:"product-description",label:"Product Description",requiredMessage:"Description is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:3,disabledOnEditMode:!1},{formControlName:"price",type:"text",placeholder:"Enter product price",styles:{},id:"product-price",label:"Price",requiredMessage:"Price is required",required:!0,inputMask:Mt(0,void 0,"DA",2),options:[],min:0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"DA",rendered:!0,renderedOnEditMode:!0,order:4,disabledOnEditMode:!1},{formControlName:"discountPercentage",type:"text",placeholder:"Enter discount percentage",styles:{},id:"product-discount",label:"Discount (%)",requiredMessage:"Invalid discount value",required:!1,inputMask:Mt(0,100,"%",0),options:[],min:0,max:100,firstInput:null,secondInput:null,mode:null,depend:null,unite:"%",rendered:!0,renderedOnEditMode:!0,order:5,disabledOnEditMode:!1},{formControlName:"stockQuantity",type:"text",placeholder:"Enter stock quantity",styles:{},id:"stock-quantity",label:"Stock Quantity",requiredMessage:"Stock quantity is required",required:!0,inputMask:Mt(0,void 0,"",0),options:[],min:0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:6,disabledOnEditMode:!1},{formControlName:"imagesUrls",type:"file",placeholder:"Upload product image",styles:{},id:"product-image",label:"Upload Image",requiredMessage:"Product image is required",required:!1,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:7,disabledOnEditMode:!1},{formControlName:"brandName",type:"text",placeholder:"Enter brand name",styles:{},id:"brand-name",label:"Brand Name",requiredMessage:"Brand name is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:8,disabledOnEditMode:!1},{formControlName:"length",type:"text",placeholder:"Enter length in cm",styles:{},id:"product-length",label:"Length (cm)",requiredMessage:"",required:!1,inputMask:Mt(0,void 0,"cm",0),options:[],min:0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"cm",rendered:!0,renderedOnEditMode:!0,order:9,disabledOnEditMode:!1},{formControlName:"width",type:"text",placeholder:"Enter width in cm",styles:{},id:"product-width",label:"Width (cm)",requiredMessage:"",required:!1,inputMask:Mt(0,void 0,"cm",0),options:[],min:0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"cm",rendered:!0,renderedOnEditMode:!0,order:10,disabledOnEditMode:!1},{formControlName:"height",type:"text",placeholder:"Enter height in cm",styles:{},id:"product-height",label:"Height (cm)",requiredMessage:"",required:!1,inputMask:Mt(0,void 0,"cm",0),options:[],min:0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"cm",rendered:!0,renderedOnEditMode:!0,order:11,disabledOnEditMode:!1},{formControlName:"weight",type:"text",placeholder:"Enter weight in grams",styles:{},id:"product-weight",label:"Weight (grams)",requiredMessage:"",required:!1,inputMask:Mt(0,void 0,"grams",0),options:[],min:0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"grams",rendered:!0,renderedOnEditMode:!0,order:13,disabledOnEditMode:!1},{formControlName:"tags",type:"multi-select",placeholder:"Select product tags",styles:{},id:"product-tags",label:"Tags",requiredMessage:"",required:!1,inputMask:null,options:[],bindLabel:"tagName",bindValue:"tagName",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:14,disabledOnEditMode:!1},{formControlName:"availabilityDate",type:"date",placeholder:"Select availability date",styles:{},id:"product-availability-date",label:"Availability Date",requiredMessage:"",required:!1,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:"",max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:15,disabledOnEditMode:!1},{formControlName:"isRecommended",type:"checkbox",placeholder:"",styles:{"margin-top":"20px","margin-left":"5px"},id:"is-active",label:"Recommended",requiredMessage:"",required:!1,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:15,disabledOnEditMode:!1},{formControlName:"createdAt",type:"date",placeholder:"Select creation date",styles:{},id:"product-created-at",label:"Created At",requiredMessage:"",required:!1,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:16,disabledOnEditMode:!0},{formControlName:"createdBy",type:"text",placeholder:"",styles:{},id:"product-created-by",label:"Created By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:17,disabledOnEditMode:!0},{formControlName:"updatedAt",type:"date",placeholder:"Select last update date",styles:{},id:"tag-updated-at",label:"Updated At",requiredMessage:"",required:!1,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:18,disabledOnEditMode:!1},{formControlName:"updatedBy",type:"text",placeholder:"",styles:{},id:"product-updated-by",label:"Updated By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:19,disabledOnEditMode:!0}],Hd=[{col:"imagesUrls",name:"Image",sortable:!1,filterable:!1,type:"img"},{col:"productName",name:"Name",sortable:!0,filterable:!0,type:"text"},{col:"price",name:"Price",sortable:!0,filterable:!0,type:"numeric"},{col:"stockQuantity",name:"Stock Quantity",sortable:!0,filterable:!1,type:"numeric"},{col:"tags",name:"Tags",sortable:!1,filterable:!1,type:"tags",listSource:[],fieldSource:"tagName",labelSource:"tagName"}];var Lb=()=>[import("./chunk-KIDDHV3F.js").then(e=>e.CarouselComponent)],Bb=()=>({height:"250px",width:"250px"});function qb(e,n){if(e&1&&(he(0,"app-carousel",3),O(1,"a",4),ie(2),E()),e&2){let t=N();te("numberSlides",t.selectedProduct.imagesUrls.length)("images",t.selectedProduct.imagesUrls)("styles",Xe(7,Bb)),F(),ht("font-size",12,"px"),st("href",t.SITE_URL+"?product_id="+t.selectedProduct.id,Ct),F(),je(" ",t.SITE_URL+"?product_id="+t.selectedProduct.id," ")}}function jb(e,n){e&1&&he(0,"img",5)}var Wd=(()=>{let n=class n{changeOption(r){console.log("optionnnnnnnnnnn"),console.log(r)}constructor(r,i,o,a){this.crudService=r,this.categoriesService=i,this.tagsService=o,this.applicationService=a,this.listButtonsData=[{index:1,label:"product",active:!0},{index:2,label:"category",active:!1}],this.columns=Hd,this.productFormFields=Gd,this.selectedProduct={},this.Object=Object,this.SITE_URL=Si}ngOnInit(){return _e(this,null,function*(){yield this.findCategories(),yield this.findTags(),yield this.findProducts()})}findProducts(){return new Promise((r,i)=>{this.crudService.getItemsList(Ce.PRODUCTS).subscribe({next:o=>{this.products=o,console.log("products.........."),console.log(o),r()},error:o=>{i(o)}})})}createProduct(r){this.crudService.createItem(Ce.PRODUCTS,r),this.applicationService.showSuccessfulSaveDialog("Product Creation","success","Product Created successfully")}updateProduct(r){let i=r.id,o=r.data;this.crudService.updateItem(Ce.PRODUCTS,i,o).then(a=>this.applicationService.showSuccessfulSaveDialog("Update Product","success","Product Updated successfully")),this.genericCrudComponent.closeRight()}deleteProduct(r){this.crudService.deleteItem(Ce.PRODUCTS,r).then(i=>console.log("product deleted successfully"))}onSelectProduct(r){this.selectedProduct=r,console.log("selected product"),console.log(this.selectedProduct)}findCategories(){return _e(this,null,function*(){return new Promise((r,i)=>{this.categoriesService.getItemsList(Ce.CATEGORIES).subscribe({next:o=>{this.categories=o,this.productFormFields.map(a=>{let s;a.formControlName=="category"&&(s=a,s.options=this.categories,this.productFormFields=[...this.productFormFields])}),this.columns.map(a=>{let s;a.col=="category"&&(s=a,s.listSource=this.categories,this.columns=[...this.columns])}),r()},error:o=>{i(o)}})})})}findTags(){return _e(this,null,function*(){return new Promise((r,i)=>{this.tagsService.getItemsList(Ce.TAGS).subscribe({next:o=>{this.tags=o,this.productFormFields.map(a=>{let s;a.formControlName=="tags"&&(s=a,s.options=this.tags,this.productFormFields=[...this.productFormFields])}),this.columns.map(a=>{let s;a.col=="tags"&&(s=a,s.listSource=this.categories,this.columns=[...this.columns])}),r()},error:o=>{i(o)}})})})}};n.\u0275fac=function(i){return new(i||n)(ve(Be),ve(Be),ve(Be),ve(Ve))},n.\u0275cmp=Ie({type:n,selectors:[["app-products"]],viewQuery:function(i,o){if(i&1&&Fe(Qe,5),i&2){let a;Ne(a=Le())&&(o.genericCrudComponent=a.first)}},standalone:!0,features:[Re],decls:7,vars:7,consts:[[3,"showDetails","save","edit","delete","data","fields","title","sortField","columns","showAdd"],["details-data","",1,"w-100"],[1,"d-flex","flex-column","align-center","justify-content-center"],[3,"numberSlides","images","styles"],["target","_blank",1,"mt-0","primary-text","bold","clickable","cursor-pointer",3,"href"],["src","assets/images/blank-product-img.png","alt","blank-product-img"]],template:function(i,o){i&1&&(O(0,"app-generic-crud",0),ue("showDetails",function(s){return o.onSelectProduct(s)})("save",function(s){return o.createProduct(s)})("edit",function(s){return o.updateProduct(s)})("delete",function(s){return o.deleteProduct(s)}),O(1,"div",1)(2,"div",2),xe(3,qb,3,8)(4,jb,1,0),ct(5,3,Lb,null,4),E()()()),i&2&&(te("data",o.products)("fields",o.productFormFields)("title","Product")("sortField","createdAt")("columns",o.columns)("showAdd",!0),F(5),wt(o.selectedProduct.imagesUrls!==void 0&&o.selectedProduct.imagesUrls!==null&&o.selectedProduct.imagesUrls.length>0))},dependencies:[Lt,Gn,Ot,Qe,mt],styles:['@font-face{font-family:Ubuntu;src:url("./media/Ubuntu-Regular-55DNWN2R.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:Ubuntu;src:url("./media/Ubuntu-Regular-55DNWN2R.ttf") format("truetype");font-weight:400;font-style:normal}[_ngcontent-%COMP%]:root{--bg-color: #ffffff;--font-color: #000000;--hover-font-color: #000000;--input-border-color: rgba(128, 128, 128, .44);--main-bg-color: #f2f2f2;--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: #E8476057;--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(27, 31, 35, .15);--footer-color:#000;--box-shadow: $box-shadow}[data-theme=dark][_ngcontent-%COMP%]{--bg-color: #161625;--font-color: #ffffff;--hover-font-color: #000000;--input-border-color: #E8476057;--main-bg-color: rgb(14, 14, 27);--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: rgba(255, 255, 255, .16);--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(60, 64, 68, .78);--footer-color:#fff;--box-shadow: $box-shadow}[_ngcontent-%COMP%]:dir(ltr){font-family:Ubuntu,sans-serif;--small-font-size: 11px;--normal-font-size: 14px;--medium-font-size: 18px;--big-font-size: 21px}[_ngcontent-%COMP%]:dir(rtl){font-family:Ubuntu,sans-serif;--small-font-size: 13px;--normal-font-size: 16px;--medium-font-size: 20px;--big-font-size: 23px}.excel-color[_ngcontent-%COMP%]{color:green!important}.pdf-color[_ngcontent-%COMP%]{color:#ff4500!important}.focus-color[_ngcontent-%COMP%]{border-color:var(--main-secoundary-color);outline:0;-webkit-box-shadow:0 0 0 .1rem rgba(199,37,62,.31);box-shadow:0 0 0 .1rem #c7253e4f}.user[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:100px;border-radius:1em;box-shadow:#0000003d 0 3px 8px}.user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:var(--font-color)}.user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:14px;font-weight:400}.dental-anatomy[_ngcontent-%COMP%]{margin-top:10px}.dental-anatomy[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:230px;margin-bottom:10px}.history[_ngcontent-%COMP%]{margin:0 20px;height:180px;max-height:180px;overflow-y:scroll;padding:0 0 13px}.history-title[_ngcontent-%COMP%]{margin-bottom:20px;color:var(--font-color);font-weight:600;font-size:17px;position:sticky;top:0;z-index:2;background-color:var(--bg-color);width:100%;text-align:center}.history-data[_ngcontent-%COMP%]{margin-bottom:10px;text-align:left}.history-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color);font-weight:600;font-size:10px}.utilities[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;align-items:center}.utilities[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--font-color);font-weight:700;margin:0;font-size:20px}.utilities[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .utilities[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color)}.data[_ngcontent-%COMP%]{display:flex;flex-direction:column}.data-header[_ngcontent-%COMP%]{box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;border-radius:.5em;margin-bottom:20px;padding:.3em 1em;background-color:var(--bg-color);color:var(--font-color);height:auto}.data-header[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{height:30px;margin-bottom:5px}.data-body[_ngcontent-%COMP%]{max-height:500px;height:auto;padding:9px 0}.data-body-card[_ngcontent-%COMP%]{box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;border-radius:.5em;margin-bottom:20px;padding:.3em 1em;background-color:var(--bg-color);color:var(--font-color);height:70px;border-left:solid 10px var(--main-primary-color)}.data-body-card-infos[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.data-body-card-infos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;border:solid 1px var(--font-color)}.data-body-card-infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.data-body-card-infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:700;font-size:12px}']});let e=n;return e})();var zb=["container"],Vb=()=>[import("./chunk-X2HXKKR3.js").then(e=>e.ButtonComponent),Fn,Mi,Ei,kn,Ii,Pi],yo=()=>({standalone:!0}),$d=()=>[];function Gb(e,n){if(e&1){let t=Ae();O(0,"i",8),ue("click",function(){Se(t);let i=N();return Oe(i.startEdit())}),E()}}function Hb(e,n){if(e&1){let t=Ae();O(0,"i",9),ue("click",function(){Se(t);let i=N();return Oe(i.closeEdit())}),E()}}function Wb(e,n){if(e&1){let t=Ae();O(0,"form",10),ue("keyup.enter",function(){Se(t);let i=N();return Oe(i.updateCurrentUser(i.currentUser))}),O(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14)(5,"p"),ie(6,"Personal details : "),E()(),O(7,"div",15),he(8,"i",16),O(9,"input",17),pn("ngModelChange",function(i){Se(t);let o=N();return fn(o.currentUser.firstName,i)||(o.currentUser.firstName=i),Oe(i)}),E()(),O(10,"div",15),he(11,"i",16),O(12,"input",18),pn("ngModelChange",function(i){Se(t);let o=N();return fn(o.currentUser.lastName,i)||(o.currentUser.lastName=i),Oe(i)}),E()(),he(13,"div",15),O(14,"div",15),he(15,"i",19),O(16,"input",20),pn("ngModelChange",function(i){Se(t);let o=N();return fn(o.applicationService.filterList(o.roles,"id",o.currentUser.role).name,i)||(o.applicationService.filterList(o.roles,"id",o.currentUser.role).name=i),Oe(i)}),E()(),O(17,"div",15),he(18,"i",21)(19,"input",22),E()(),O(20,"div",13)(21,"div",14)(22,"p"),ie(23,"Security infos : "),E()(),O(24,"div",11)(25,"div",23)(26,"form",24)(27,"div",25)(28,"div",26)(29,"input",27),pn("ngModelChange",function(i){Se(t);let o=N();return fn(o.currentUser.email,i)||(o.currentUser.email=i),Oe(i)}),E()(),O(30,"div",26)(31,"app-button",28),ue("handleClick",function(){Se(t);let i=N();return Oe(i.sendPasswordReset(i.currentUser.email))}),E()()()()()()()(),O(32,"div",29)(33,"div",30)(34,"span"),ie(35),E()()()()()}if(e&2){let t,r=N();F(9),dn("ngModel",r.currentUser.firstName),te("ngModelOptions",Xe(25,yo))("disabled",r.detailsFlag)("readonly",r.detailsFlag),F(3),dn("ngModel",r.currentUser.lastName),te("disabled",r.detailsFlag)("ngModelOptions",Xe(26,yo))("readonly",r.detailsFlag),F(4),dn("ngModel",r.applicationService.filterList(r.roles,"id",r.currentUser.role).name),te("readonly",!0)("ngModelOptions",Xe(27,yo))("disabled",!0),F(3),te("value",r.currentUser.email)("disabled",!0),F(10),te("readonly",!0),dn("ngModel",r.currentUser.email),te("ngModelOptions",Xe(28,yo)),F(2),te("outlined",!1),F(2),ht("height",120,"px")("width",120,"px")("background-color",r.currentUser&&r.currentUser.profileColor?r.currentUser.profileColor:"var(--main-primary-color"),F(2),Ze(r.currentUser==null||r.currentUser.lastName==null||(t=r.currentUser.lastName.substring(0,1))==null?null:t.toUpperCase())}}function $b(e,n){e&1&&he(0,"app-skelton",32),e&2&&te("height",100)("shape","inputs-shape")}function Qb(e,n){e&1&&he(0,"app-skelton",32),e&2&&te("height",100)("shape","inputs-shape")}function Xb(e,n){e&1&&(O(0,"div",25)(1,"div",31),We(2,$b,1,2,"app-skelton",32,He),E(),O(4,"div",31),We(5,Qb,1,2,"app-skelton",32,He),E()()),e&2&&(F(2),$e(Xe(0,$d).constructor(3)),F(3),$e(Xe(1,$d).constructor(3)))}var Qd=(()=>{let n=class n{constructor(r,i,o,a,s,h){this.fb=r,this.afAuth=i,this.authFirebaseService=o,this.crudService=a,this.roleCrudService=s,this.applicationService=h,this.detailsFlag=!0,this.form={},this.currentUser={},this.roles=[],this.emailInputMask=Cs,this.authFirebaseService.$user.subscribe(w=>_e(this,null,function*(){this.currentUser=w,this.roleCrudService.getItemsList(Ce.ROLES).subscribe(S=>{this.roles=S})}))}get formControl(){return this.form.controls}get formValues(){return this.form.value}ngOnInit(){return _e(this,null,function*(){yield this.patchForm(this.currentUser)})}startEdit(){this.detailsFlag=!1;let r=document.getElementById("details-input")}patchForm(r){return _e(this,null,function*(){Object.keys(this.formValues).forEach(i=>{this.applicationService.patchControlValue(i,r[i],this.form)})})}closeEdit(){this.detailsFlag=!0}updateCurrentUser(r){let i=r.key;this.crudService.updateItem(Ce.USERS,i,r).then(o=>this.applicationService.showSuccessfulSaveDialog("Update User","success","User Updated successfully"))}sendPasswordReset(r){return this.afAuth.sendPasswordResetEmail(r).then(i=>{this.applicationService.showSwalDialog("reset password link sent to your email","success","#cce5cc")})}};n.\u0275fac=function(i){return new(i||n)(ve(Ti),ve(Ri),ve(Ln),ve(Be),ve(Be),ve(Ve))},n.\u0275cmp=Ie({type:n,selectors:[["app-profile"]],viewQuery:function(i,o){if(i&1&&Fe(zb,5),i&2){let a;Ne(a=Le())&&(o.container=a.first)}},standalone:!0,features:[Re],decls:13,vars:2,consts:[["rootName","Dashboard"],[1,"container"],[1,"card","pb-50","h-100","x-small-padding","fade-in-fwd","one-em-border-radius"],[1,"d-flex","align-center","justify-content-between"],[1,"d-flex","align-center","justify-start"],[1,"text-align-left","bold","mr-10"],[1,"ri-edit-2-line","primary-text","bold","clickable","cursor-pointer"],[1,"ri-close-line","primary-text","bold","clickable","cursor-pointer"],[1,"ri-edit-2-line","primary-text","bold","clickable","cursor-pointer",3,"click"],[1,"ri-close-line","primary-text","bold","clickable","cursor-pointer",3,"click"],[3,"keyup.enter"],[1,"row","d-flex","align-center","justify-content-between","fade-in-fwd"],[1,"col-lg-9","col-sm-12","col-md-12","d-flex","flex-wrap"],[1,"col-lg-6","col-sm-6","col-md-6"],[1,"col-12"],[1,"col-lg-12","col-md-12","col-sm-12","d-flex","align-center","justify-start"],[1,"ri-user-line","primary-text","mt-7"],["type","text",1,"details-input",3,"ngModelChange","ngModel","ngModelOptions","disabled","readonly"],["type","text",1,"details-input",3,"ngModelChange","ngModel","disabled","ngModelOptions","readonly"],[1,"ri-shield-line","primary-text","mt-7"],["type","text",1,"details-input",3,"ngModelChange","ngModel","readonly","ngModelOptions","disabled"],[1,"ri-mail-line","primary-text","mt-7"],["type","text","placeholder","email","readonly","",1,"details-input",3,"value","disabled"],[1,"col-lg-12","col-sm-12","col-md-12"],["ngForm",""],[1,"row"],[1,"col-12","form-group"],["type","email","placeholder","enter your email",2,"height","55px",3,"ngModelChange","readonly","ngModel","ngModelOptions"],["label","Reset Password","icon","ri-arrow-right-circle-fill",1,"mr-5",3,"handleClick","outlined"],[1,"col-lg-3","col-sm-12","col-md-12","d-flex","align-center","justify-content-center"],[1,"blank-user"],[1,"col-6"],[3,"height","shape"]],template:function(i,o){i&1&&(he(0,"app-breadcrumbs",0),O(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p",5),ie(6,"Update your personal details "),E(),xe(7,Gb,1,0,"i",6)(8,Hb,1,0,"i",7),E()(),xe(9,Wb,36,29)(10,Xb,7,2),ct(11,9,Vb,null,10),E()()),i&2&&(F(7),Pe(o.detailsFlag?7:8),F(4),wt(o.currentUser))},dependencies:[Lt,Oi,Ot,mt,Nn],styles:['@font-face{font-family:Ubuntu;src:url("./media/Ubuntu-Regular-55DNWN2R.ttf") format("truetype");font-weight:400;font-style:normal}[_ngcontent-%COMP%]:root{--bg-color: #ffffff;--font-color: #000000;--hover-font-color: #000000;--input-border-color: rgba(128, 128, 128, .44);--main-bg-color: #f2f2f2;--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: #E8476057;--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(27, 31, 35, .15);--footer-color:#000;--box-shadow: $box-shadow}[data-theme=dark][_ngcontent-%COMP%]{--bg-color: #161625;--font-color: #ffffff;--hover-font-color: #000000;--input-border-color: #E8476057;--main-bg-color: rgb(14, 14, 27);--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: rgba(255, 255, 255, .16);--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(60, 64, 68, .78);--footer-color:#fff;--box-shadow: $box-shadow}[_ngcontent-%COMP%]:dir(ltr){font-family:Ubuntu,sans-serif;--small-font-size: 11px;--normal-font-size: 14px;--medium-font-size: 18px;--big-font-size: 21px}[_ngcontent-%COMP%]:dir(rtl){font-family:Ubuntu,sans-serif;--small-font-size: 13px;--normal-font-size: 16px;--medium-font-size: 20px;--big-font-size: 23px}.excel-color[_ngcontent-%COMP%]{color:green!important}.pdf-color[_ngcontent-%COMP%]{color:#ff4500!important}.focus-color[_ngcontent-%COMP%]{border-color:var(--main-secoundary-color);outline:0;-webkit-box-shadow:0 0 0 .1rem rgba(199,37,62,.31);box-shadow:0 0 0 .1rem #c7253e4f}.profile-pic[_ngcontent-%COMP%]{height:auto;width:auto;max-height:180px;max-width:180px;border-radius:50%;border:solid 5px var(--main-secoundary-color);margin-right:-17px}.details-input[_ngcontent-%COMP%]{border:none;border-bottom:solid rgba(128,128,128,.1803921569) 1px;border-radius:0}.details-input[_ngcontent-%COMP%]:disabled{background-color:transparent!important}.details-input[_ngcontent-%COMP%]:focus{border-bottom:none;border-radius:1em;outline:0!important;-webkit-box-shadow:0 0 0 .1rem rgba(199,37,62,.31)!important;box-shadow:0 0 0 .1rem #c7253e4f!important}textarea[_ngcontent-%COMP%]{resize:none}@media (max-width: 776px){.profile-pic[_ngcontent-%COMP%]{margin-top:20px;max-height:120px;max-width:120px;border:solid 3px var(--main-secoundary-color)}}']});let e=n;return e})();var bo=[{label:"Paid",value:!0},{label:"Unpaid",value:!1}],Xd=[{label:"In progress",value:!1},{label:"Shipped",value:!0}],Yd=[{formControlName:"clientName",type:"text",placeholder:"Enter client name",styles:{},id:"client-name",label:"Client Name",requiredMessage:"Client name is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:1,disabledOnEditMode:!0},{formControlName:"clientPhone",type:"text",placeholder:"Enter client phone number",styles:{},id:"client-phone",label:"Client Phone",requiredMessage:"Client phone number is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:2,disabledOnEditMode:!0},{formControlName:"address",type:"text",placeholder:"Enter address",styles:{},id:"client-address",label:"Address",requiredMessage:"Address is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:3,disabledOnEditMode:!0},{formControlName:"wilaya",type:"text",placeholder:"Enter wilaya",styles:{},id:"client-wilaya",label:"Wilaya",requiredMessage:"Wilaya is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:4,disabledOnEditMode:!0},{formControlName:"date",type:"date",placeholder:"Select order date",styles:{},id:"order-date",label:"Order Date",requiredMessage:"Order date is required",required:!0,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:"",max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:5,disabledOnEditMode:!0},{formControlName:"products",type:"multi-select",placeholder:"Select products",styles:{},id:"order-products",label:"Products",requiredMessage:"At least one product is required",required:!0,options:[],inputMask:null,min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!1,order:6,disabledOnEditMode:!0},{formControlName:"total",type:"text",placeholder:"Enter total amount",styles:{},id:"order-total",label:"Total Amount",requiredMessage:"Total amount is required",required:!0,inputMask:Mt(0,void 0,"DA",2),options:[],min:0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"DA",rendered:!0,renderedOnEditMode:!1,order:7,disabledOnEditMode:!0},{formControlName:"paymentStatus",type:"checkbox",placeholder:"",styles:{"margin-top":"20px","margin-left":"5px"},id:"payment-status",label:"Payment Status",requiredMessage:"Payment status is required",required:!0,options:[],inputMask:null,min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:8,disabledOnEditMode:!1},{formControlName:"orderStatus",type:"checkbox",placeholder:"",styles:{"margin-top":"20px","margin-left":"5px"},id:"order-status",label:"Order Status",requiredMessage:"Order status is required",required:!0,options:[{label:"Delivered",value:"Delivered"},{label:"Processing",value:"Processing"},{label:"Shipped",value:"Shipped"},{label:"Cancelled",value:"Cancelled"}],inputMask:null,min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:9,disabledOnEditMode:!1},{formControlName:"createdAt",type:"date",placeholder:"Select creation date",styles:{},id:"order-created-at",label:"Created At",requiredMessage:"",required:!1,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:10,disabledOnEditMode:!0},{formControlName:"createdBy",type:"text",placeholder:"",styles:{},id:"order-created-by",label:"Created By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:11,disabledOnEditMode:!0},{formControlName:"updatedAt",type:"date",placeholder:"Select last update date",styles:{},id:"order-updated-at",label:"Updated At",requiredMessage:"",required:!1,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:12,disabledOnEditMode:!1},{formControlName:"updatedBy",type:"text",placeholder:"",styles:{},id:"order-updated-by",label:"Updated By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:13,disabledOnEditMode:!0}];var Kd=[{col:"date",name:"Order Date",sortable:!0,filterable:!0,type:"date"},{col:"clientName",name:"Client Name",sortable:!0,filterable:!0,type:"text"},{col:"clientPhone",name:"Client Phone",sortable:!0,filterable:!0,type:"text"},{col:"total",name:"Total Amount",sortable:!0,filterable:!0,type:"numeric"},{col:"orderStatus",name:"Order Status",sortable:!1,filterable:!1,type:"boolean"},{col:"paymentStatus",name:"Payment Status",sortable:!1,filterable:!1,type:"boolean"}];function Yb(e,n){if(e&1&&(O(0,"div",5)(1,"div",8)(2,"div",9),he(3,"img",10),O(4,"span",11),ie(5),E()(),O(6,"span",12),ie(7),E(),O(8,"span",12),ie(9),E()()()),e&2){let t=n.$implicit,r=N();F(3),st("src",r.applicationService.filterList(r.products,"id",t.productId).imagesUrls[0]||"",Ct),F(2),Ze(r.applicationService.filterList(r.products,"id",t.productId).productName),F(2),Ze(r.applicationService.filterList(r.products,"id",t.productId).price),F(2),je("(x",t.quantity,")")}}var Zd=(()=>{let n=class n{constructor(r,i,o){this.crudService=r,this.productsCrudService=i,this.applicationService=o,this.selectedOrder={},this.filters={},this.orderFormFields=Yd,this.orderColumns=Kd,this.Number=Number,this.paymentOptions=bo,this.orderOptions=Xd}ngOnInit(){return _e(this,null,function*(){yield this.findProducts(),yield this.findOrders()})}findOrders(){return new Promise((r,i)=>{this.crudService.getItemsList(Ce.ORDERS).subscribe({next:o=>{this.orders=o,this.allOrders=this.orders,console.log("orders.........."),console.log(o),r()},error:o=>{i(o)}})})}onSelectOrder(r){this.selectedOrder=r,console.log("selected product"),console.log(this.selectedOrder)}createOrder(r){this.crudService.createItem(Ce.ORDERS,r),this.applicationService.showSuccessfulSaveDialog("Order Creation","success","Orders created successfully")}updateOrder(r){let i=r.id,o=r.data;this.crudService.updateItem(Ce.ORDERS,i,o).then(a=>this.applicationService.showSuccessfulSaveDialog("Update Order","success","Order Updated successfully")),this.genericCrudComponent.closeRight()}deleteOrder(r){this.crudService.deleteItem(Ce.ORDERS,r).then(i=>console.log("order deleted successfully"))}printGoogleSheet(r){this.applicationService.downloadExcel(r)}findProducts(){return _e(this,null,function*(){return new Promise((r,i)=>{this.productsCrudService.getItemsList(Ce.PRODUCTS).subscribe({next:o=>{this.products=o,console.log("products.........."),console.log(this.products),this.orderFormFields.map(a=>{let s;a.formControlName=="products"&&(s=a,s.options=this.products,this.orderFormFields=[...this.orderFormFields])}),r()},error:o=>{i(o)}})})})}filterListOrders(r,i){i!=null?this.filters[r]=i.value:this.filters[r]=null,this.orders=this.allOrders.filter(o=>Object.keys(this.filters).every(a=>this.filters[a]==null||o[a]==this.filters[a])),this.crudService.totalRowsSubject.next(this.orders.length)}};n.\u0275fac=function(i){return new(i||n)(ve(Be),ve(Be),ve(Ve))},n.\u0275cmp=Ie({type:n,selectors:[["app-orders"]],viewQuery:function(i,o){if(i&1&&Fe(Qe,5),i&2){let a;Ne(a=Le())&&(o.genericCrudComponent=a.first)}},standalone:!0,features:[Re],decls:13,vars:13,consts:[[3,"showDetails","save","edit","delete","showAdd","data","fields","title","sortField","columns"],["crud-utilities","",1,"d-flex","align-center","justify-content-between","flex-wrap"],["bindLabel","label",1,"mr-5",2,"width","200px",3,"selectOption","options","placeholder","selectedOption"],["details-data","",1,"w-100"],[1,"main-background-color","p-10"],[1,"card","background-color"],[1,"card","primary-background-color","text-align-right"],[1,"m-0","white-text"],[1,"d-flex","align-center","justify-content-between"],[1,"d-flex","align-center","justify-start"],["height","35",3,"src"],[1,"font-color-text"],[1,"green-text"]],template:function(i,o){i&1&&(O(0,"app-generic-crud",0),ue("showDetails",function(s){return o.onSelectOrder(s)})("save",function(s){return o.createOrder(s)})("edit",function(s){return o.updateOrder(s)})("delete",function(s){return o.deleteOrder(s)}),O(1,"div",1)(2,"app-generic-drop-down",2),ue("selectOption",function(s){return o.filterListOrders("paymentStatus",s)}),E(),O(3,"app-generic-drop-down",2),ue("selectOption",function(s){return o.filterListOrders("orderStatus",s)}),E()(),O(4,"div",3)(5,"div",4),We(6,Yb,10,4,"div",5,He),O(8,"div",6)(9,"h3",7),ie(10,"Total Amount : "),O(11,"b"),ie(12),E()()()()()()),i&2&&(te("showAdd",!1)("data",o.orders)("fields",o.orderFormFields)("title","Order")("sortField","id")("columns",o.orderColumns),F(2),te("options",o.paymentOptions)("placeholder","Payment status")("selectedOption",o.paymentOptions[0]),F(),te("options",o.orderOptions)("placeholder","Order status")("selectedOption",o.orderOptions[0]),F(3),$e(o.selectedOrder.products),F(6),je("",o.selectedOrder.total," DA "))},dependencies:[Qe,Bn]});let e=n;return e})();var Jd=[{col:"email",name:"Email",sortable:!0,filterable:!0,type:"text"},{col:"firstName",name:"First Name",sortable:!0,filterable:!0,type:"text"},{col:"lastName",name:"Last Name",sortable:!0,filterable:!0,type:"text"},{col:"role",name:"Role",sortable:!1,filterable:!1,type:"select",listSource:[],fieldSource:"id",labelSource:"name"},{col:"isActive",name:"Status",sortable:!0,filterable:!0,type:"boolean"}],ef=[{formControlName:"email",type:"text",placeholder:"Enter email address",styles:{},id:"email",label:"Email",requiredMessage:"Valid email is required",required:!0,inputMask:"",options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:2,disabledOnEditMode:!0,controls:new Map([[[mr.email,"email"]," Email must be valid"]])},{formControlName:"password",type:"password",placeholder:"Enter password",styles:{},id:"password",label:"Password",requiredMessage:"Password is required",required:!0,inputMask:null,options:[],min:6,max:20,firstInput:null,secondInput:null,mode:"password",depend:null,unite:"",rendered:!0,renderedOnEditMode:!1,order:3,disabledOnEditMode:!0,controls:new Map([[[mr.pattern(ys),"pattern"]," Password must be Strong (ex :AZERTY&#64;123)"]])},{formControlName:"firstName",type:"text",placeholder:"Enter first name",styles:{},id:"first-name",label:"First Name",requiredMessage:"First name is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:4,disabledOnEditMode:!1},{formControlName:"lastName",type:"text",placeholder:"Enter last name",styles:{},id:"last-name",label:"Last Name",requiredMessage:"Last name is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:5,disabledOnEditMode:!1},{formControlName:"role",type:"select",placeholder:"Select role",styles:{},id:"user-role",label:"Role",requiredMessage:"Role is required",required:!1,options:[],bindLabel:"name",bindValue:"id",inputMask:null,min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:6,disabledOnEditMode:!1},{formControlName:"isActive",type:"checkbox",placeholder:"",styles:{"margin-top":"20px","margin-left":"5px"},id:"is-active",label:"Is Active",requiredMessage:"",required:!1,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:7,disabledOnEditMode:!1},{formControlName:"createdAt",type:"date",placeholder:"Select creation date",styles:{},id:"created-at",label:"Created At",requiredMessage:"",required:!1,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:9,disabledOnEditMode:!0},{formControlName:"updatedAt",type:"date",placeholder:"Select last update date",styles:{},id:"updated-at",label:"Updated At",requiredMessage:"",required:!1,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:10,disabledOnEditMode:!0},{formControlName:"profileColor",type:"text",placeholder:"",styles:{},id:"profile-color",label:"",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:11,disabledOnEditMode:!0}];function Kb(e,n){if(e&1&&(O(0,"div",1)(1,"div",2)(2,"div",3)(3,"span"),ie(4),E()()()()),e&2){let t=N();F(2),ht("height",120,"px")("width",120,"px")("background-color",t.selectedUser&&t.selectedUser.profileColor?t.selectedUser.profileColor:"var(--main-primary-color"),F(2),Ze(t.selectedUser&&t.selectedUser.firstName.substring(0,1).toUpperCase())}}var tf=(()=>{let n=class n{constructor(r,i,o,a){this.crudService=r,this.rolesService=i,this.afAuth=o,this.applicationService=a,this.userColumns=Jd,this.userFormFields=ef,this.dbPath=Ce.USERS,this.rolesDbPath=Ce.ROLES,this.roles=[],this.Object=Object}ngOnInit(){return _e(this,null,function*(){try{yield this.findUsers()}catch(r){console.error("Error fetching users:",r)}try{yield this.findRoles()}catch(r){console.error("Error fetching roles:",r)}})}onSelectUser(r){this.selectedUser=r}findUsers(){return _e(this,null,function*(){return new Promise((r,i)=>{this.crudService.getItemsList(this.dbPath).subscribe({next:o=>{this.users=o,console.log("users.........."),console.log(o),r()},error:o=>{i(o)}})})})}findRoles(){return _e(this,null,function*(){return new Promise((r,i)=>{this.rolesService.getItemsList(this.rolesDbPath).subscribe({next:o=>{this.roles=o,this.userFormFields.map(a=>{let s;a.formControlName=="role"&&(s=a,s.options=this.roles,this.userFormFields=[...this.userFormFields])}),this.userColumns.map(a=>{let s;a.col=="role"&&(s=a,s.listSource=this.roles,this.userColumns=[...this.userColumns])}),r()},error:o=>{i(o)}})})})}createUser(r){return _e(this,null,function*(){es(this.afAuth.createUserWithEmailAndPassword(r.email,r.password)).subscribe(i=>_e(this,null,function*(){let o=i.user;o&&(r.uid=o.uid,r.email=o.email,r.password=yield this.applicationService.hashPassword(r.password),r.profileColor=this.applicationService.setRandomColor(),this.crudService.createItem(this.dbPath,r),yield o.sendEmailVerification(),this.applicationService.showSuccessfulSaveDialog("User creation","success","User created successfully"))}),i=>{this.applicationService.showSuccessfulSaveDialog("User exist","error","An error has been happen  , please contact the Admin")})})}updateUser(r){let i=r.id,o=r.data;this.crudService.updateItem(this.dbPath,i,o).then(a=>this.applicationService.showSuccessfulSaveDialog("Update User","success","User Updated successfully")),this.genericCrudComponent.closeRight()}deleteUser(r){return _e(this,null,function*(){let i;this.crudService.getItemBy_(r,r,this.dbPath).subscribe(o=>{i=o.uid,this.crudService.deleteItem(this.dbPath,r).then(a=>{console.log("user deleted successfully")})})})}deleteAllUsers(){this.crudService.deleteAll(this.dbPath).then(r=>console.log("users deleted successfully"))}};n.\u0275fac=function(i){return new(i||n)(ve(Be),ve(Be),ve(Ri),ve(Ve))},n.\u0275cmp=Ie({type:n,selectors:[["app-users"]],viewQuery:function(i,o){if(i&1&&Fe(Qe,5),i&2){let a;Ne(a=Le())&&(o.genericCrudComponent=a.first)}},standalone:!0,features:[Re],decls:2,vars:7,consts:[[3,"showDetails","save","edit","delete","deleteAll","data","fields","title","sortField","columns","showAdd"],["details-data","",1,"w-100"],[1,"user"],[1,"blank-user"]],template:function(i,o){i&1&&(O(0,"app-generic-crud",0),ue("showDetails",function(s){return o.onSelectUser(s)})("save",function(s){return o.createUser(s)})("edit",function(s){return o.updateUser(s)})("delete",function(s){return o.deleteUser(s)})("deleteAll",function(){return o.deleteAllUsers()}),xe(1,Kb,5,7,"div",1),E()),i&2&&(te("data",o.users)("fields",o.userFormFields)("title","User")("sortField","name")("columns",o.userColumns)("showAdd",!1),F(),Pe(o.selectedUser?1:-1))},dependencies:[Qe,mt],styles:[".user[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:90px;width:90px;border-radius:50%;border:solid 3px var(--main-primary-color)}.user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:var(--font-color)}.user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:14px;font-weight:400}"]});let e=n;return e})();var nf=[{label:"Read",value:"read"},{label:"Write",value:"write"},{label:"Delete",value:"delete"},{label:"Update",value:"update"}],xo=[{col:"name",name:"Role Name",sortable:!0,filterable:!0,type:"text"},{col:"description",name:"Description",sortable:!1,filterable:!1,type:"text"},{col:"permissions",name:"Permissions",sortable:!1,filterable:!1,type:"tags",listSource:nf,fieldSource:"value",labelSource:"label"}],Co=[{formControlName:"name",type:"text",placeholder:"Enter role name",styles:{},id:"role-name",label:"Role Name",requiredMessage:"Role name is required",required:!0,inputMask:null,options:[],min:3,max:50,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:1,disabledOnEditMode:!1},{formControlName:"description",type:"textarea",placeholder:"Enter role description",styles:{},id:"role-description",label:"Description",requiredMessage:"",required:!1,inputMask:null,options:[],min:void 0,max:500,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:2,disabledOnEditMode:!1},{formControlName:"permissions",type:"multi-select",placeholder:"Select permissions",styles:{},id:"role-permissions",label:"Permissions",requiredMessage:"At least one permission must be selected",required:!0,inputMask:null,options:nf,bindLabel:"label",bindValue:"value",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:3,disabledOnEditMode:!1},{formControlName:"createdAt",type:"date",placeholder:"Select creation date",styles:{},id:"role-created-at",label:"Created At",requiredMessage:"",required:!1,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:4,disabledOnEditMode:!0},{formControlName:"updatedAt",type:"date",placeholder:"Select last update date",styles:{},id:"role-updated-at",label:"Updated At",requiredMessage:"",required:!1,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:5,disabledOnEditMode:!0}];var rf=(()=>{let n=class n{constructor(r,i){this.crudService=r,this.applicationService=i,this.dbPath=Ce.ROLES,this.roleColumns=xo,this.roleFormFields=Co,this.selectedRole={}}ngOnInit(){return _e(this,null,function*(){yield this.findRoles()})}findRoles(){return new Promise((r,i)=>{this.crudService.getItemsList(this.dbPath).subscribe({next:o=>{this.roles=o,console.log("products.........."),console.log(o),r()},error:o=>{i(o)}})})}onSelectRole(r){this.selectedRole=r}createRole(r){this.crudService.createItem(this.dbPath,r),this.applicationService.showSuccessfulSaveDialog("role created successfully","success","#cce5cc")}updateRole(r){let i=r.id,o=r.data;this.crudService.updateItem(this.dbPath,i,o).then(a=>this.applicationService.showSuccessfulSaveDialog("Update Role","success","Role Updated successfully")),this.genericCrudComponent.closeRight()}deleteRole(r){this.crudService.deleteItem(this.dbPath,r).then(i=>console.log("role deleted successfully"))}};n.\u0275fac=function(i){return new(i||n)(ve(Be),ve(Ve))},n.\u0275cmp=Ie({type:n,selectors:[["app-rols"]],viewQuery:function(i,o){if(i&1&&Fe(Qe,5),i&2){let a;Ne(a=Le())&&(o.genericCrudComponent=a.first)}},standalone:!0,features:[Re],decls:1,vars:5,consts:[[3,"showDetails","save","edit","delete","data","fields","title","sortField","columns"]],template:function(i,o){i&1&&(O(0,"app-generic-crud",0),ue("showDetails",function(s){return o.onSelectRole(s)})("save",function(s){return o.createRole(s)})("edit",function(s){return o.updateRole(s)})("delete",function(s){return o.deleteRole(s)}),E()),i&2&&te("data",o.roles)("fields",o.roleFormFields)("title","Role")("sortField","name")("columns",o.roleColumns)},dependencies:[Qe]});let e=n;return e})();var of=[{col:"tagName",name:"Tag Name",sortable:!0,filterable:!0,type:"text"},{col:"tagDescription",name:"Description",sortable:!1,filterable:!1,type:"textarea"},{col:"createdAt",name:"Created At",sortable:!0,filterable:!0,type:"date"},{col:"createdBy",name:"Created By",sortable:!1,filterable:!1,type:"text"}],af=[{formControlName:"tagName",type:"text",placeholder:"Enter tag name",styles:{},id:"tag-name",label:"Tag Name",requiredMessage:"Tag name is required",required:!0,inputMask:null,options:[],min:3,max:50,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:1,disabledOnEditMode:!1},{formControlName:"tagDescription",type:"textarea",placeholder:"Enter tag description",styles:{},id:"tag-description",label:"Description",requiredMessage:"",required:!1,inputMask:null,options:[],min:3,max:500,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:3,disabledOnEditMode:!1},{formControlName:"createdAt",type:"date",placeholder:"Select creation date",styles:{},id:"product-created-at",label:"Created At",requiredMessage:"",required:!1,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:4,disabledOnEditMode:!0},{formControlName:"createdBy",type:"text",placeholder:"",styles:{},id:"product-created-by",label:"Created By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:5,disabledOnEditMode:!0},{formControlName:"updatedAt",type:"date",placeholder:"Select last update date",styles:{},id:"tag-updated-at",label:"Updated At",requiredMessage:"",required:!1,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:6,disabledOnEditMode:!0},{formControlName:"updatedBy",type:"text",placeholder:"",styles:{},id:"product-updated-by",label:"Updated By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:7,disabledOnEditMode:!0}];var lf=(()=>{let n=class n{constructor(r,i){this.crudService=r,this.applicationService=i,this.dbPath=Ce.TAGS,this.tagColumns=of,this.tagFormFields=af,this.selectedTag={},this.roleFormFields=Co,this.roleColumns=xo}ngOnInit(){return _e(this,null,function*(){yield this.findTags()})}findTags(){return new Promise((r,i)=>{this.crudService.getItemsList(this.dbPath).subscribe({next:o=>{this.tags=o,r()},error:o=>{i(o)}})})}onSelectTag(r){this.selectedTag=r}createTag(r){this.crudService.createItem(this.dbPath,r),this.applicationService.showSuccessfulSaveDialog("Creation Tag","success","Tag created successfully")}updateTag(r){let i=r.id,o=r.data;this.crudService.updateItem(this.dbPath,i,o).then(a=>this.applicationService.showSuccessfulSaveDialog("Update tag","success","Tag Updated successfully")),this.genericCrudComponent.closeRight()}deleteTag(r){this.crudService.deleteItem(this.dbPath,r).then(i=>console.log("Tag deleted successfully"))}};n.\u0275fac=function(i){return new(i||n)(ve(Be),ve(Ve))},n.\u0275cmp=Ie({type:n,selectors:[["app-tags"]],viewQuery:function(i,o){if(i&1&&Fe(Qe,5),i&2){let a;Ne(a=Le())&&(o.genericCrudComponent=a.first)}},standalone:!0,features:[Re],decls:1,vars:5,consts:[[3,"showDetails","save","edit","delete","data","fields","title","sortField","columns"]],template:function(i,o){i&1&&(O(0,"app-generic-crud",0),ue("showDetails",function(s){return o.onSelectTag(s)})("save",function(s){return o.createTag(s)})("edit",function(s){return o.updateTag(s)})("delete",function(s){return o.deleteTag(s)}),E()),i&2&&te("data",o.tags)("fields",o.tagFormFields)("title","Tag")("sortField","name")("columns",o.tagColumns)},dependencies:[Qe]});let e=n;return e})();var sf=[{col:"reviewerName",name:"Reviewer Name",sortable:!0,filterable:!0,type:"text"},{col:"reviewText",name:"Review Text",sortable:!1,filterable:!1,type:"textarea"},{col:"rating",name:"Rating",sortable:!0,filterable:!1,type:"rating"},{col:"associatedProduct",name:"Associated Product",sortable:!1,filterable:!1,type:"select",listSource:[],fieldSource:"id",labelSource:"productName"},{col:"status",name:"Status",sortable:!1,filterable:!1,type:"boolean"}],uf=[{formControlName:"reviewerName",type:"text",placeholder:"Enter reviewer name",styles:{},id:"reviewer-name",label:"Reviewer Name",requiredMessage:"Reviewer name is required",required:!0,inputMask:null,options:[],min:3,max:50,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:1,disabledOnEditMode:!1},{formControlName:"reviewText",type:"textarea",placeholder:"Enter review",styles:{},id:"review-text",label:"Review Text",requiredMessage:"Review text is required",required:!0,inputMask:null,options:[],min:void 0,max:1e3,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:2,disabledOnEditMode:!1},{formControlName:"rating",type:"text",placeholder:"Enter rating (1-5)",styles:{},id:"review-rating",label:"Rating",requiredMessage:"Rating is required",required:!0,inputMask:Mt(0,5,"",0),options:[],min:1,max:5,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:3,disabledOnEditMode:!1},{formControlName:"associatedProduct",type:"select",placeholder:"Enter associated product",styles:{},id:"associated-product",label:"Associated Product",requiredMessage:"Associated product is required",required:!0,inputMask:null,options:[],bindLabel:"productName",bindValue:"id",min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:4,disabledOnEditMode:!1},{formControlName:"status",type:"checkbox",placeholder:"Select status",styles:{},id:"review-status",label:"Status",requiredMessage:"Status is required",required:!0,inputMask:null,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:5,disabledOnEditMode:!1},{formControlName:"createdAt",type:"date",placeholder:"Select creation date",styles:{},id:"product-created-at",label:"Created At",requiredMessage:"",required:!1,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:6,disabledOnEditMode:!0},{formControlName:"createdBy",type:"text",placeholder:"",styles:{},id:"product-created-by",label:"Created By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:7,disabledOnEditMode:!0},{formControlName:"updatedAt",type:"date",placeholder:"Select last update date",styles:{},id:"tag-updated-at",label:"Updated At",requiredMessage:"",required:!1,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:8,disabledOnEditMode:!1},{formControlName:"updatedBy",type:"text",placeholder:"",styles:{},id:"product-updated-by",label:"Updated By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:9,disabledOnEditMode:!0}];var cf=(()=>{let n=class n{constructor(r,i,o){this.crudService=r,this.productCrudService=i,this.applicationService=o,this.dbPath=Ce.REVIEWS,this.reviewColumns=sf,this.reviewFormFields=uf,this.filters={},this.selectedReview={},this.products=[],this.selectedOption={},this.paymentOptions=bo}ngOnInit(){return _e(this,null,function*(){yield this.findReviews(),yield this.findProducts()})}findReviews(){return new Promise((r,i)=>{this.crudService.getItemsList(Ce.REVIEWS).subscribe({next:o=>{this.reviews=o,this.allReviews=this.reviews,r()},error:o=>{i(o)}})})}findProducts(){return _e(this,null,function*(){return new Promise((r,i)=>{this.productCrudService.getItemsList(Ce.PRODUCTS).subscribe({next:o=>{this.products=o,this.reviewFormFields.map(a=>{let s;a.formControlName=="associatedProduct"&&(s=a,s.options=this.products,this.reviewFormFields=[...this.reviewFormFields],console.log("field........;;"),console.log(this.reviewFormFields))}),this.reviewColumns.map(a=>{let s;a.col=="associatedProduct"&&(s=a,s.listSource=this.products,this.reviewColumns=[...this.reviewColumns],console.log("review collll........"),console.log(this.reviewColumns))}),r()},error:o=>{i(o)}})})})}onSelectReview(r){this.selectedReview=r}createReview(r){r.rating=+r.rating.trim(),this.crudService.createItem(Ce.REVIEWS,r),this.applicationService.showSuccessfulSaveDialog("Review created successfully","success","#cce5cc")}updateReview(r){let i=r.id,o=r.data;this.crudService.updateItem(Ce.REVIEWS,i,o).then(a=>this.applicationService.showSuccessfulSaveDialog("Update Review","success","Review Updated successfully")),this.genericCrudComponent.closeRight()}deleteReview(r){this.crudService.deleteItem(Ce.REVIEWS,r).then(i=>console.log("Review deleted successfully"))}filterListReviews(r,i){i!=null?this.filters[r]=i.id:this.filters[r]=null,this.reviews=this.allReviews.filter(o=>Object.keys(this.filters).every(a=>this.filters[a]==null||o[a]==this.filters[a])),this.crudService.totalRowsSubject.next(this.reviews.length)}};n.\u0275fac=function(i){return new(i||n)(ve(Be),ve(Be),ve(Ve))},n.\u0275cmp=Ie({type:n,selectors:[["app-reviews"]],viewQuery:function(i,o){if(i&1&&Fe(Qe,5),i&2){let a;Ne(a=Le())&&(o.genericCrudComponent=a.first)}},standalone:!0,features:[Re],decls:3,vars:9,consts:[[3,"showDetails","save","edit","delete","data","fields","title","sortField","columns","showAdd"],["crud-utilities","",1,"d-flex","align-center","justify-content-between"],["bindLabel","productName",1,"mr-5",2,"width","200px",3,"selectOption","options","placeholder","selectedOption"]],template:function(i,o){i&1&&(O(0,"app-generic-crud",0),ue("showDetails",function(s){return o.onSelectReview(s)})("save",function(s){return o.createReview(s)})("edit",function(s){return o.updateReview(s)})("delete",function(s){return o.deleteReview(s)}),O(1,"div",1)(2,"app-generic-drop-down",2),ue("selectOption",function(s){return o.filterListReviews("associatedProduct",s)}),E()()()),i&2&&(te("data",o.reviews)("fields",o.reviewFormFields)("title","Review")("sortField","name")("columns",o.reviewColumns)("showAdd",!0),F(2),te("options",o.products)("placeholder","product")("selectedOption",o.products[0]))},dependencies:[Qe,Bn]});let e=n;return e})();var df=[{formControlName:"categoryName",type:"text",placeholder:"Enter category name",styles:{},id:"category-name",label:"Category Name",requiredMessage:"Category name is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:1,disabledOnEditMode:!1},{formControlName:"categoryDescription",type:"textarea",placeholder:"Enter category description",styles:{},id:"category-description",label:"Category Description",requiredMessage:"Description is required",required:!1,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:2,disabledOnEditMode:!1},{formControlName:"createdAt",type:"date",placeholder:"Select creation date",styles:{},id:"category-created-at",label:"Created At",requiredMessage:"",required:!1,inputMask:null,options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:3,disabledOnEditMode:!0},{formControlName:"createdBy",type:"text",placeholder:"",styles:{},id:"category-created-by",label:"Created By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:4,disabledOnEditMode:!0},{formControlName:"updatedAt",type:"date",placeholder:"Select last update date",styles:{},id:"category-updated-at",label:"Updated At",requiredMessage:"",required:!1,inputMask:null,options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:5,disabledOnEditMode:!1},{formControlName:"updatedBy",type:"text",placeholder:"",styles:{},id:"category-updated-by",label:"Updated By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:6,disabledOnEditMode:!0}],ff=[{col:"categoryName",name:"Category Name",sortable:!0,filterable:!0,type:"text"},{col:"categoryDescription",name:"Description",sortable:!1,filterable:!1,type:"text"},{col:"createdAt",name:"Created At",sortable:!0,filterable:!0,type:"date"},{col:"createdBy",name:"Created By",sortable:!1,filterable:!1,type:"text"},{col:"updatedAt",name:"Updated At",sortable:!0,filterable:!0,type:"date"},{col:"updatedBy",name:"Updated By",sortable:!1,filterable:!1,type:"text"}];var pf=(()=>{let n=class n{constructor(r,i){this.crudService=r,this.applicationService=i,this.columns=ff,this.categoryFormFields=df,this.selectedCategory={},this.Object=Object}ngOnInit(){return _e(this,null,function*(){yield this.findCategories()})}findCategories(){return new Promise((r,i)=>{this.crudService.getItemsList(Ce.CATEGORIES).subscribe({next:o=>{this.categories=o,console.log("categories.........."),console.log(o),r()},error:o=>{i(o)}})})}createCategory(r){r=r,console.log("emitted value for category creation"),console.log(r),this.crudService.createItem(Ce.CATEGORIES,r).then(()=>{this.applicationService.showSuccessfulSaveDialog("Category Creation","success","Category Created successfully"),this.findCategories()})}updateCategory(r){let i=r.id,o=r.data;this.crudService.updateItem(Ce.CATEGORIES,i,o).then(()=>{this.applicationService.showSuccessfulSaveDialog("Update Category","success","Category Updated successfully"),this.findCategories()}),this.genericCrudComponent.closeRight()}deleteCategory(r){this.crudService.deleteItem(Ce.CATEGORIES,r).then(()=>{console.log("Category deleted successfully"),this.findCategories()})}onSelectCategory(r){this.selectedCategory=r,console.log("selected category"),console.log(this.selectedCategory)}};n.\u0275fac=function(i){return new(i||n)(ve(Be),ve(Ve))},n.\u0275cmp=Ie({type:n,selectors:[["app-categories"]],viewQuery:function(i,o){if(i&1&&Fe(Qe,5),i&2){let a;Ne(a=Le())&&(o.genericCrudComponent=a.first)}},standalone:!0,features:[Re],decls:1,vars:6,consts:[[3,"showDetails","save","edit","delete","data","fields","title","sortField","columns","showAdd"]],template:function(i,o){i&1&&(O(0,"app-generic-crud",0),ue("showDetails",function(s){return o.onSelectCategory(s)})("save",function(s){return o.createCategory(s)})("edit",function(s){return o.updateCategory(s)})("delete",function(s){return o.deleteCategory(s)}),E()),i&2&&te("data",o.categories)("fields",o.categoryFormFields)("title","Category")("sortField","createdAt")("columns",o.columns)("showAdd",!0)},dependencies:[Lt,Gn,Ot,Qe,mt],styles:['@font-face{font-family:Ubuntu;src:url("./media/Ubuntu-Regular-55DNWN2R.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:Ubuntu;src:url("./media/Ubuntu-Regular-55DNWN2R.ttf") format("truetype");font-weight:400;font-style:normal}[_ngcontent-%COMP%]:root{--bg-color: #ffffff;--font-color: #000000;--hover-font-color: #000000;--input-border-color: rgba(128, 128, 128, .44);--main-bg-color: #f2f2f2;--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: #E8476057;--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(27, 31, 35, .15);--footer-color:#000;--box-shadow: $box-shadow}[data-theme=dark][_ngcontent-%COMP%]{--bg-color: #161625;--font-color: #ffffff;--hover-font-color: #000000;--input-border-color: #E8476057;--main-bg-color: rgb(14, 14, 27);--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: rgba(255, 255, 255, .16);--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(60, 64, 68, .78);--footer-color:#fff;--box-shadow: $box-shadow}[_ngcontent-%COMP%]:dir(ltr){font-family:Ubuntu,sans-serif;--small-font-size: 11px;--normal-font-size: 14px;--medium-font-size: 18px;--big-font-size: 21px}[_ngcontent-%COMP%]:dir(rtl){font-family:Ubuntu,sans-serif;--small-font-size: 13px;--normal-font-size: 16px;--medium-font-size: 20px;--big-font-size: 23px}.excel-color[_ngcontent-%COMP%]{color:green!important}.pdf-color[_ngcontent-%COMP%]{color:#ff4500!important}.focus-color[_ngcontent-%COMP%]{border-color:var(--main-secoundary-color);outline:0;-webkit-box-shadow:0 0 0 .1rem rgba(199,37,62,.31);box-shadow:0 0 0 .1rem #c7253e4f}.user[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:100px;border-radius:1em;box-shadow:#0000003d 0 3px 8px}.user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:var(--font-color)}.user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:14px;font-weight:400}.dental-anatomy[_ngcontent-%COMP%]{margin-top:10px}.dental-anatomy[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:230px;margin-bottom:10px}.history[_ngcontent-%COMP%]{margin:0 20px;height:180px;max-height:180px;overflow-y:scroll;padding:0 0 13px}.history-title[_ngcontent-%COMP%]{margin-bottom:20px;color:var(--font-color);font-weight:600;font-size:17px;position:sticky;top:0;z-index:2;background-color:var(--bg-color);width:100%;text-align:center}.history-data[_ngcontent-%COMP%]{margin-bottom:10px;text-align:left}.history-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color);font-weight:600;font-size:10px}.utilities[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;align-items:center}.utilities[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--font-color);font-weight:700;margin:0;font-size:20px}.utilities[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .utilities[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color)}.data[_ngcontent-%COMP%]{display:flex;flex-direction:column}.data-header[_ngcontent-%COMP%]{box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;border-radius:.5em;margin-bottom:20px;padding:.3em 1em;background-color:var(--bg-color);color:var(--font-color);height:auto}.data-header[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{height:30px;margin-bottom:5px}.data-body[_ngcontent-%COMP%]{max-height:500px;height:auto;padding:9px 0}.data-body-card[_ngcontent-%COMP%]{box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;border-radius:.5em;margin-bottom:20px;padding:.3em 1em;background-color:var(--bg-color);color:var(--font-color);height:70px;border-left:solid 10px var(--main-primary-color)}.data-body-card-infos[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.data-body-card-infos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;border:solid 1px var(--font-color)}.data-body-card-infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.data-body-card-infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:700;font-size:12px}']});let e=n;return e})();var hf=[{col:"flashSaleName",name:"Name",sortable:!0,filterable:!0,type:"text"},{col:"flashSaleContent",name:"Content",sortable:!1,filterable:!1,type:"text"},{col:"mediaType",name:"Media Type",sortable:!1,filterable:!0,type:"text"},{col:"associatedProduct",name:"Associated Product",sortable:!1,filterable:!1,type:"select",listSource:[],fieldSource:"id",labelSource:"productName"},{col:"flashSaleStatus",name:"Status",sortable:!1,filterable:!1,type:"boolean"}],mf=[{formControlName:"flashSaleName",type:"text",placeholder:"Enter flash sale name",styles:{},id:"flash-sale-name",label:"Flash Sale Name",requiredMessage:"Flash sale name is required",required:!0,inputMask:null,options:[],min:3,max:50,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:1,disabledOnEditMode:!1},{formControlName:"flashSaleContent",type:"textarea",placeholder:"Enter flash sale Content",styles:{},id:"flash-sale-description",label:"Description",requiredMessage:"",required:!1,inputMask:null,options:[],min:3,max:500,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:2,disabledOnEditMode:!1},{formControlName:"mediaType",type:"select",placeholder:"Select media type",styles:{},id:"flash-sale-media-type",label:"Media Type",requiredMessage:"Media type is required",required:!0,inputMask:null,options:[{label:"Photo",value:"photo"},{label:"Video",value:"video"}],bindLabel:"label",bindValue:"value",min:null,max:null,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:3,disabledOnEditMode:!0},{formControlName:"associatedProduct",type:"select",placeholder:"Enter associated product",styles:{},id:"associated-product",label:"Associated Product",requiredMessage:"Associated product is required",required:!0,inputMask:null,options:[],bindLabel:"productName",bindValue:"id",min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:4,disabledOnEditMode:!1},{formControlName:"flashSaleStatus",type:"checkbox",placeholder:"",styles:{},id:"flash-sale-status",label:"Status",requiredMessage:"",required:!0,inputMask:"",options:[],min:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:5,disabledOnEditMode:!1},{formControlName:"createdAt",type:"date",placeholder:"Select creation date",styles:{},id:"flash-sale-created-at",label:"Created At",requiredMessage:"",required:!1,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:6,disabledOnEditMode:!0},{formControlName:"createdBy",type:"text",placeholder:"",styles:{},id:"flash-sale-created-by",label:"Created By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:7,disabledOnEditMode:!0},{formControlName:"updatedAt",type:"date",placeholder:"Select last update date",styles:{},id:"flash-sale-updated-at",label:"Updated At",requiredMessage:"",required:!1,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:8,disabledOnEditMode:!0},{formControlName:"updatedBy",type:"text",placeholder:"",styles:{},id:"flash-sale-updated-by",label:"Updated By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:9,disabledOnEditMode:!0}];var Zb=()=>({height:"250px",width:"250px"}),Jb=()=>({standalone:!0});function ex(e,n){if(e&1&&(O(0,"div",2),he(1,"app-carousel",18),E()),e&2){let t=N();F(),te("numberSlides",t.selectedFlashSale.mediaContent.length)("images",t.selectedFlashSale.mediaContent)("styles",Xe(3,Zb))}}function tx(e,n){if(e&1&&(O(0,"video",3),he(1,"source",19),ie(2," Your browser does not support the video tag. "),E()),e&2){let t=N();F(),st("src",t.selectedFlashSale.mediaContent,Ct)}}function nx(e,n){e&1&&he(0,"app-loading-spinner")}function rx(e,n){if(e&1){let t=Ae();O(0,"label",20),ie(1,"Video Path :"),E(),O(2,"input",21),pn("ngModelChange",function(i){Se(t);let o=N();return fn(o.selectedFlashSale.mediaContent,i)||(o.selectedFlashSale.mediaContent=i),Oe(i)}),E()}if(e&2){let t=N();F(2),te("placeholder","enter the video path")("ngModelOptions",Xe(3,Jb)),dn("ngModel",t.selectedFlashSale.mediaContent)}}function ix(e,n){e&1&&(O(0,"span",24),ie(1," this field is required "),E())}function ox(e,n){if(e&1){let t=Ae();O(0,"label",22),ie(1,"Media :"),E(),O(2,"app-custom-file-upload",23),ue("filesUpload",function(i){Se(t);let o=N();return Oe(o.onInputFiles(i))}),E(),xe(3,ix,2,0,"span",24)}if(e&2){let t=N();F(3),Pe(t.submitted&&t.listFilesPaths.length==0?3:-1)}}var gf=(()=>{let n=class n{constructor(r,i,o,a){this.crudService=r,this.productsCrudService=i,this.fileService=o,this.applicationService=a,this.dbPath=Ce.FLASH_SALES,this.flashSaleColumns=hf,this.flashSaleFormFields=mf,this.mediasList=[],this.listFilesPaths=[],this.selectedFlashSale={},this.showAddMediaDialog=!1,this.allProducts=[],this.loading=!1,this.submitted=!1,this.listButtonsData=[{index:1,label:"Flash Sale",active:!0},{index:2,label:"Medias",active:!1}],this.SITE_URL=Si}ngOnInit(){return _e(this,null,function*(){yield this.findFlashSales(),yield this.findProducts()})}findFlashSales(){return new Promise((r,i)=>{this.crudService.getItemsList(this.dbPath).subscribe({next:o=>{this.flashSales=o,r()},error:o=>{i(o)}})})}onSelectFlashSale(r){this.selectedFlashSale=r}createFlashSale(r){this.crudService.createItem(this.dbPath,r),this.applicationService.showSuccessfulSaveDialog("Creation Flash Sale","success","Flash sale created successfully")}updateFlashSale(r){let i=r.id,o=r.data;this.crudService.updateItem(this.dbPath,i,o).then(()=>this.applicationService.showSuccessfulSaveDialog("Update Flash Sale","success","Flash sale updated successfully")),this.genericCrudComponent.closeRight()}deleteFlashSale(r){this.crudService.deleteItem(this.dbPath,r).then(()=>console.log("Flash sale deleted successfully"))}onShowAddMediaDialog(r){this.selectedFlashSale.mediaType=="photo"&&this.selectedFlashSale.mediaContent.length>0&&(this.mediasList=this.selectedFlashSale.mediaContent,console.log(this.mediasList)),this.showAddMediaDialog=!0,console.log(r)}showElement(r){let i=document.getElementById(r);i&&(i.style.transition="max-height 0.2s ease-in-out ",i.style.maxHeight="200px",i.style.padding="1em")}hideElement(r){let i=document.getElementById(r);i&&(i.style.transition="max-height 0.2s ease-in-out ",i.style.maxHeight="0",i.style.padding="0")}findProducts(){return _e(this,null,function*(){return new Promise((r,i)=>{this.productsCrudService.getItemsList(Ce.PRODUCTS).subscribe({next:o=>{this.allProducts=o,this.bindProductList(this.flashSaleFormFields,this.flashSaleColumns,this.allProducts),r()},error:o=>{i(o)}})})})}onInputFiles(r){return _e(this,null,function*(){console.log(r),yield this.saveFile(r),console.log(this.mediasList)})}saveFile(r){return _e(this,null,function*(){this.loading=!0;try{let i=r.map(o=>_e(this,null,function*(){let a=yield this.fileService.uploadFile(o);return new Promise((s,h)=>{a.subscribe(w=>{this.listFilesPaths.push(w),console.log("File uploaded! Download URL:",w),s()},w=>{console.error("File upload failed:",w),h(w)})})}));yield Promise.all(i)}catch(i){console.error("One or more file uploads failed:",i)}finally{this.loading=!1,this.listFilesPaths.map(i=>this.mediasList.push(i)),this.selectedFlashSale.mediaContent=this.mediasList}})}onInputVideoPath(r){this.selectedFlashSale.mediaContent=r.target.value}setMedia(){if(this.submitted=!0,!(this.submitted&&this.selectedFlashSale.mediaType=="photo")||this.listFilesPaths.length>0)this.crudService.updateItem(this.dbPath,this.selectedFlashSale.id,this.selectedFlashSale).then(()=>this.applicationService.showSuccessfulSaveDialog("Update Flash Sale","success","Flash sale updated successfully")),this.submitted=!1,this.showAddMediaDialog=!1;else return}bindProductList(r,i,o){r.map(a=>{let s;a.formControlName=="associatedProduct"&&(s=a,s.options=o,r=[...r])}),i.map(a=>{let s;a.col=="associatedProduct"&&(s=a,s.listSource=o,i=[...i])})}patchForm(r,i,o){return _e(this,null,function*(){Object.keys(i).forEach(a=>{this.applicationService.patchControlValue(a,r[a],o)})})}};n.\u0275fac=function(i){return new(i||n)(ve(Be),ve(Be),ve(Kt),ve(Ve))},n.\u0275cmp=Ie({type:n,selectors:[["app-flash-sale"]],viewQuery:function(i,o){if(i&1&&Fe(Qe,5),i&2){let a;Ne(a=Le())&&(o.genericCrudComponent=a.first)}},standalone:!0,features:[Re],decls:22,vars:13,consts:[[3,"showDetails","save","edit","delete","data","fields","title","sortField","columns"],["details-data","",1,"w-100"],[1,"d-flex","flex-column","align-center","justify-content-center"],["width","100%","height","240","controls",""],["more-actions","",1,"ml-5"],["label","add media",3,"handleClick","size"],["height","60vh","width","50%",3,"closeModal","modalId","showModal","showFooter"],["modal-body",""],["ngForm",""],[1,"container"],[1,"row"],[1,"col-lg-6","col-sm-12","col-md-12"],[1,"form-group"],["for","media-type",1,"form-label","font-color-text"],["type","text","readonly","","id","media-type",3,"value"],[1,"col-lg-12","col-md-12","col-sm-12","form-group"],["modal-footer","",1,"d-flex","align-center","justify-end"],["label","save",3,"handleClick"],[3,"numberSlides","images","styles"],["type","video/mp4",3,"src"],[1,"form-label","font-color-text"],["type","text",3,"ngModelChange","placeholder","ngModelOptions","ngModel"],["for","media-type",1,"form-label","font-color-text","mb-10"],[3,"filesUpload"],[1,"required-message"]],template:function(i,o){i&1&&(O(0,"app-generic-crud",0),ue("showDetails",function(s){return o.onSelectFlashSale(s)})("save",function(s){return o.createFlashSale(s)})("edit",function(s){return o.updateFlashSale(s)})("delete",function(s){return o.deleteFlashSale(s)}),O(1,"div",1),xe(2,ex,2,4,"div",2)(3,tx,3,1,"video",3),E(),O(4,"div",4)(5,"app-button",5),ue("handleClick",function(){return o.onShowAddMediaDialog(o.selectedFlashSale)}),E()()(),O(6,"app-modal",6),ue("closeModal",function(s){return o.showAddMediaDialog=s}),O(7,"div",7),xe(8,nx,1,0,"app-loading-spinner"),O(9,"form",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"label",13),ie(15,"Media Type :"),E(),he(16,"input",14),E()(),O(17,"div",15),xe(18,rx,3,4)(19,ox,4,1),E()()()()(),O(20,"div",16)(21,"app-button",17),ue("handleClick",function(){return o.setMedia()}),E()()()),i&2&&(te("data",o.flashSales)("fields",o.flashSaleFormFields)("title","Flash Sale")("sortField","flashSaleName")("columns",o.flashSaleColumns),F(2),Pe(o.selectedFlashSale.mediaType=="photo"?2:3),F(3),te("size","small"),F(),te("modalId","add-media-dialog")("showModal",o.showAddMediaDialog)("showFooter",!0),F(2),Pe(o.loading?8:-1),F(8),st("value",o.selectedFlashSale.mediaType),F(2),Pe(o.selectedFlashSale.mediaType=="video"?18:19))},dependencies:[Qe,At,mn,Ai,mt,Fn,Mi,Ei,kn,Ii,Pi,Ss,Es]});let e=n;return e})();var vf=[{col:"serviceRequestId",name:"Request ID",sortable:!0,filterable:!0,type:"text"},{col:"customerName",name:"Customer Name",sortable:!0,filterable:!0,type:"text"},{col:"serviceType",name:"Service Type",sortable:!0,filterable:!0,type:"text"},{col:"issueDescription",name:"Issue Description",sortable:!1,filterable:!1,type:"text"},{col:"status",name:"Status",sortable:!0,filterable:!0,type:"text"}],_f=[{formControlName:"customerName",type:"text",placeholder:"Enter customer name",styles:{},id:"customer-name",label:"Customer Name",requiredMessage:"Customer name is required",required:!0,inputMask:null,options:[],min:3,max:100,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:2,disabledOnEditMode:!1},{formControlName:"serviceType",type:"select",placeholder:"Select service type",styles:{},id:"service-type",label:"Service Type",requiredMessage:"Service type is required",required:!0,inputMask:null,options:[{label:"Repair",value:"repair"},{label:"Replacement",value:"replacement"},{label:"Consultation",value:"consultation"}],bindLabel:"label",bindValue:"value",min:null,max:null,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:3,disabledOnEditMode:!1},{formControlName:"issueDescription",type:"textarea",placeholder:"Enter issue description",styles:{},id:"issue-description",label:"Issue Description",requiredMessage:"Issue description is required",required:!0,inputMask:null,options:[],min:3,max:500,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:4,disabledOnEditMode:!1},{formControlName:"status",type:"select",placeholder:"Select request status",styles:{},id:"status",label:"Status",requiredMessage:"Status is required",required:!0,inputMask:null,options:[{label:"Pending",value:"pending"},{label:"In Progress",value:"in-progress"},{label:"Resolved",value:"resolved"},{label:"Closed",value:"closed"}],bindLabel:"label",bindValue:"value",min:null,max:null,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:5,disabledOnEditMode:!1},{formControlName:"dateRequested",type:"date",placeholder:"Select request date",styles:{},id:"date-requested",label:"Date Requested",requiredMessage:"",required:!1,inputMask:null,options:[],min:null,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:6,disabledOnEditMode:!1},{formControlName:"dateResolved",type:"date",placeholder:"Select resolution date",styles:{},id:"date-resolved",label:"Date Resolved",requiredMessage:"",required:!1,inputMask:null,options:[],min:null,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!1,order:7,disabledOnEditMode:!1},{formControlName:"createdAt",type:"date",placeholder:"Select creation date",styles:{},id:"created-at",label:"Created At",requiredMessage:"",required:!1,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:8,disabledOnEditMode:!0},{formControlName:"createdBy",type:"text",placeholder:"",styles:{},id:"created-by",label:"Created By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:9,disabledOnEditMode:!0},{formControlName:"updatedAt",type:"date",placeholder:"Select last update date",styles:{},id:"updated-at",label:"Updated At",requiredMessage:"",required:!1,inputMask:Ye(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:10,disabledOnEditMode:!0},{formControlName:"updatedBy",type:"text",placeholder:"",styles:{},id:"updated-by",label:"Updated By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:11,disabledOnEditMode:!0}];var yf=(()=>{let n=class n{constructor(r,i){this.crudService=r,this.applicationService=i,this.dbPath=Ce.AFTER_SALES_SERVICES,this.afterSalesServices=[],this.selectedAfterSalesService={},this.loading=!1,this.submitted=!1,this.afterSalesServiceFormFields=_f,this.afterSalesServiceColumns=vf}ngOnInit(){return _e(this,null,function*(){yield this.findAfterSalesServices()})}findAfterSalesServices(){return new Promise((r,i)=>{this.crudService.getItemsList(this.dbPath).subscribe({next:o=>{this.afterSalesServices=o,r()},error:o=>{i(o)}})})}onSelectAfterSalesService(r){this.selectedAfterSalesService=r}createAfterSalesService(r){this.crudService.createItem(this.dbPath,r),this.applicationService.showSuccessfulSaveDialog("Create After Sales Service","success","After sales service created successfully")}updateAfterSalesService(r){let i=r.id,o=r.data;this.crudService.updateItem(this.dbPath,i,o).then(()=>this.applicationService.showSuccessfulSaveDialog("Update After Sales Service","success","After sales service updated successfully")),this.genericCrudComponent.closeRight()}deleteAfterSalesService(r){this.crudService.deleteItem(this.dbPath,r).then(()=>console.log("After sales service deleted successfully"))}};n.\u0275fac=function(i){return new(i||n)(ve(Be),ve(Ve))},n.\u0275cmp=Ie({type:n,selectors:[["app-after-sales-service"]],viewQuery:function(i,o){if(i&1&&Fe(Qe,5),i&2){let a;Ne(a=Le())&&(o.genericCrudComponent=a.first)}},standalone:!0,features:[Re],decls:1,vars:6,consts:[[3,"showDetails","save","edit","delete","showAdd","data","fields","title","sortField","columns"]],template:function(i,o){i&1&&(O(0,"app-generic-crud",0),ue("showDetails",function(s){return o.onSelectAfterSalesService(s)})("save",function(s){return o.createAfterSalesService(s)})("edit",function(s){return o.updateAfterSalesService(s)})("delete",function(s){return o.deleteAfterSalesService(s)}),E()),i&2&&te("showAdd",!1)("data",o.afterSalesServices)("fields",o.afterSalesServiceFormFields)("title","After sale service")("sortField","name")("columns",o.afterSalesServiceColumns)},dependencies:[mt,Qe]});let e=n;return e})();var kt="Sport E-commerce",bE=as(Be),ax=[{path:"",component:ks,title:`${kt} | landing`},{path:"users",component:tf,title:`${kt} | Users`,data:{roles:["Admin"]}},{path:"roles",component:rf,title:`${kt} | Roles`,data:{roles:["Admin"]}},{path:"profile",component:Qd,title:`${kt} | profile`},{path:"tags",component:lf,title:`${kt} | tags`},{path:"reviews",component:cf,title:`${kt} | Reviews`},{path:"products",component:Wd,title:`${kt} | Products`},{path:"orders",component:Zd,title:`${kt} | Orders`},{path:"product-categories",component:pf,title:`${kt} | product Categories`},{path:"flash-sales",component:gf,title:`${kt} | Flash sales`},{path:"after-sale-service",component:yf,title:`${kt} | After Sale service`}],xE=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=Ut({imports:[la.forChild(ax),la]});let e=n;return e})();export{xE as PagesRoutes,ax as routes};
